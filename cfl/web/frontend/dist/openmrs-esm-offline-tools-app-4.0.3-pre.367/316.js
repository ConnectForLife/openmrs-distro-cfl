"use strict";(self.webpackChunk_openmrs_esm_offline_tools_app=self.webpackChunk_openmrs_esm_offline_tools_app||[]).push([[316],{4628:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(361),o=n.n(i)()((function(e){return e[1]}));o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-offline-tools__headered-quick-info-styles__productiveHeading01___glaaz{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-offline-tools__headered-quick-info-styles__productiveHeading02___pZDJ4{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0)}.-esm-offline-tools__headered-quick-info-styles__productiveHeading03___g9Ydv{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-offline-tools__headered-quick-info-styles__productiveHeading04___rzhFc{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-offline-tools__headered-quick-info-styles__bodyShort01___oXjaV{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-offline-tools__headered-quick-info-styles__bodyLong01___kM-mL{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-offline-tools__headered-quick-info-styles__label01___CoZeb{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252}",""]),o.locals={productiveHeading01:"-esm-offline-tools__headered-quick-info-styles__productiveHeading01___glaaz",productiveHeading02:"-esm-offline-tools__headered-quick-info-styles__productiveHeading02___pZDJ4",productiveHeading03:"-esm-offline-tools__headered-quick-info-styles__productiveHeading03___g9Ydv",productiveHeading04:"-esm-offline-tools__headered-quick-info-styles__productiveHeading04___rzhFc",bodyShort01:"-esm-offline-tools__headered-quick-info-styles__bodyShort01___oXjaV",bodyLong01:"-esm-offline-tools__headered-quick-info-styles__bodyLong01___kM-mL",label01:"-esm-offline-tools__headered-quick-info-styles__label01___CoZeb"};const r=o},3657:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(361),o=n.n(i)()((function(e){return e[1]}));o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-offline-tools__overview-card-styles__productiveHeading01___e9uzg{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-offline-tools__overview-card-styles__productiveHeading02___uh-gg{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0)}.-esm-offline-tools__overview-card-styles__productiveHeading03___1CAIT{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-offline-tools__overview-card-styles__productiveHeading04___zqw5F{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-offline-tools__overview-card-styles__bodyShort01___oqb7I{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-offline-tools__overview-card-styles__bodyLong01___P7lQc{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-offline-tools__overview-card-styles__label01___l58fs{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252}.-esm-offline-tools__overview-card-styles__overviewCard___4NT8k{border:1px solid #e0e0e0}.-esm-offline-tools__overview-card-styles__overviewCard___4NT8k .-esm-offline-tools__overview-card-styles__headerContainer___13OYp{display:flex;justify-content:space-between;align-items:center}.-esm-offline-tools__overview-card-styles__overviewCard___4NT8k .-esm-offline-tools__overview-card-styles__contentContainer___ym7-\\+{display:flex;justify-content:space-between;margin-top:1.5rem}.-esm-offline-tools__overview-card-styles__overviewCard___4NT8k .-esm-offline-tools__overview-card-styles__viewButton___9YEmH{margin-right:-1rem}",""]),o.locals={productiveHeading01:"-esm-offline-tools__overview-card-styles__productiveHeading01___e9uzg",productiveHeading02:"-esm-offline-tools__overview-card-styles__productiveHeading02___uh-gg",productiveHeading03:"-esm-offline-tools__overview-card-styles__productiveHeading03___1CAIT",productiveHeading04:"-esm-offline-tools__overview-card-styles__productiveHeading04___zqw5F",bodyShort01:"-esm-offline-tools__overview-card-styles__bodyShort01___oqb7I",bodyLong01:"-esm-offline-tools__overview-card-styles__bodyLong01___P7lQc",label01:"-esm-offline-tools__overview-card-styles__label01___l58fs",overviewCard:"-esm-offline-tools__overview-card-styles__overviewCard___4NT8k",headerContainer:"-esm-offline-tools__overview-card-styles__headerContainer___13OYp",contentContainer:"-esm-offline-tools__overview-card-styles__contentContainer___ym7-+",viewButton:"-esm-offline-tools__overview-card-styles__viewButton___9YEmH"};const r=o},4697:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(5776),o=n.n(i),r=n(3727),a=n(487),s=n.n(a),c=n(631),d=n.n(c),l=n(2052),_=n.n(l),f=n(4010),v=n.n(f),u=n(9178),h=n.n(u),g=n(9329),m=n.n(g),p=n(4628),y={};y.styleTagTransform=m(),y.setAttributes=v(),y.insert=_().bind(null,"head"),y.domAPI=d(),y.insertStyleElement=h(),s()(p.Z,y);const w=p.Z&&p.Z.locals?p.Z.locals:void 0,b=function(e){var t=e.header,n=e.content,i=e.isLoading,a=void 0!==i&&i;return o().createElement("div",null,o().createElement("h4",{className:w.label01},t),a?o().createElement(r.N2B,{heading:!0}):o().createElement("span",{className:w.productiveHeading04},n))}},1875:(e,t,n)=>{n.d(t,{Z:()=>H});var i=n(5776),o=n.n(i),r=n(2680),a=n(3727),s=n(611),c=n(4610),d=n(487),l=n.n(d),_=n(631),f=n.n(_),v=n(2052),u=n.n(v),h=n(4010),g=n.n(h),m=n(9178),p=n.n(m),y=n(9329),w=n.n(y),b=n(3657),z={};z.styleTagTransform=w(),z.setAttributes=g(),z.insert=u().bind(null,"head"),z.domAPI=f(),z.insertStyleElement=p(),l()(b.Z,z);const C=b.Z&&b.Z.locals?b.Z.locals:void 0;function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},k.apply(this,arguments)}const H=function(e){var t=e.header,n=e.viewLink,i=e.children,d=(0,r.useTranslation)().t;return o().createElement(a.mh4,null,o().createElement(a.n9L,{className:C.overviewCard},o().createElement("div",{className:C.headerContainer},o().createElement("h3",{className:C.productiveHeading01},t),o().createElement(a.zxk,{className:C.viewButton,kind:"ghost",renderIcon:function(e){return o().createElement(s.ol,k({size:16},e))},size:"sm",onClick:function(){return(0,c.navigate)({to:"${openmrsSpaBase}/".concat(n)})}},d("homeOverviewCardView","View"))),o().createElement("div",{className:C.contentContainer},i)))}},524:(e,t,n)=>{n.d(t,{_$:()=>h,jH:()=>u,jJ:()=>m,mi:()=>g});var i=n(1602),o=n.n(i),r=n(4610),a=n(9373),s=n(5776),c=n(9136);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t,n,i,o,r,a){try{var s=e[r](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,o)}function _(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return(0,c.ZP)("dynamicOfflineData/entries/".concat(e),(function(){return(0,r.getDynamicOfflineDataEntries)(e)}))}function v(e){return(0,c.ZP)("syncQueue/items/".concat(e),(function(){return(0,r.getSynchronizationItems)(e)}))}function u(){var e=f("patient"),t=v("patient-registration");return p((function(){return t.data.filter((function(t){return t.fhirPatient&&!e.data.find((function(e){return e.identifier===t.fhirPatient.id}))})).map((function(e){return e.fhirPatient}))}),[e,t])}function h(){var e,t,n,i,o=f("patient"),d=v("patient-registration"),l=(n=null!==(t=null===(e=o.data)||void 0===e?void 0:e.map((function(e){return e.identifier})))&&void 0!==t?t:[],i=(0,s.useMemo)((function(){return _(n).sort()}),[n]),(0,c.ZP)(["fhirPatients",i],(function(){return Promise.all(i.map((function(e){return(0,r.fetchCurrentPatient)(e).then((function(e){return e.data}))})))})));return p((function(){return o.data.map((function(e){var t=l.data.find((function(t){return t.id===e.identifier})),n=d.data.filter((function(t){return t.fhirPatient.id===e.identifier})).map((function(e){return e.fhirPatient}));return{patient:a.Z.apply(void 0,[t].concat(_(n))),entry:e}}))}),[o,d,l])}function g(){var e=f("patient"),t=u();return p((function(){return{downloadedCount:e.data.length,registeredCount:t.data.length}}),[e,t])}function m(e){return(0,c.ZP)("offlineTools/offlinePatient/".concat(e,"/lastSyncState"),(t=o().mark((function t(){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,r.getDynamicOfflineDataEntries)("patient");case 2:return n=t.sent,i=n.find((function(t){return t.identifier===e})),t.abrupt("return",null==i?void 0:i.syncState);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function a(e){l(r,i,o,a,s,"next",e)}function s(e){l(r,i,o,a,s,"throw",e)}a(void 0)}))}));var t}function p(e,t){return(0,s.useMemo)((function(){return{data:t.every((function(e){return!!e.data}))?e():null,error:t.find((function(e){return e.error})),mutate:function(){return Promise.all(t.map((function(e){return e.mutate()}))).then(e)},isValidating:t.some((function(e){return e.isValidating}))}}),[e].concat(_(t.flatMap((function(e){return[e.data,e.error,e.isValidating]})))))}},7316:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var i=n(5776),o=n.n(i),r=n(2680),a=n(4697),s=n(1875),c=n(1217),d=n(524);const l=function(){var e=(0,r.useTranslation)().t,t=(0,d.mi)().data;return o().createElement(s.Z,{header:e("homeOverviewCardPatientsHeader","Patients"),viewLink:c._.offlineToolsPatients},o().createElement(a.Z,{header:e("homeOverviewCardPatientsDownloaded","Downloaded"),content:null==t?void 0:t.downloadedCount,isLoading:!t}),o().createElement(a.Z,{header:e("homeOverviewCardPatientsNewlyRegistered","Newly registered"),content:null==t?void 0:t.registeredCount,isLoading:!t}))}}}]);