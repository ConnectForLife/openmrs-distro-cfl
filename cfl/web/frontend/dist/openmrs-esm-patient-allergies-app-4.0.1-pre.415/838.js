"use strict";(self.webpackChunk_openmrs_esm_patient_allergies_app=self.webpackChunk_openmrs_esm_patient_allergies_app||[]).push([[838],{6808:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(9601),a=n.n(r),i=n(2609),l=n.n(i)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-allergies__weight-tile__label___cL30J{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252}.-esm-patient-allergies__weight-tile__content___VSmDU{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:5px}.-esm-patient-allergies__weight-tile__value___PbwjK{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}",""]),l.locals={label:"-esm-patient-allergies__weight-tile__label___cL30J",content:"-esm-patient-allergies__weight-tile__content___VSmDU",value:"-esm-patient-allergies__weight-tile__value___PbwjK"};const o=l},2838:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var r=n(7900),a=n.n(r),i=n(4924),l=n(1373),o=n(906),c=n(6217),s=n(9857);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}function g(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}n(3565);var m=n(6062),b=n.n(m),f=n(4036),h=n.n(f),v=n(6793),_=n.n(v),y=n(7892),w=n.n(y),O=n(1173),j=n.n(O),S=n(2464),P=n.n(S),E=n(6808),A={};A.styleTagTransform=P(),A.setAttributes=w(),A.insert=_().bind(null,"head"),A.domAPI=h(),A.insertStyleElement=j(),b()(E.Z,A);const U=E.Z&&E.Z.locals?E.Z.locals:void 0,D=function(e){var t,n,r=e.patientUuid,m=(0,i.useTranslation)().t,b=(0,o.useConfig)(),f=(0,c.useVitalsConceptMetadata)().data,h=function(e,t){var n,r,a,i="".concat(o.fhirBaseUrl,"/Observation?subject:Patient=").concat(e,"&code=")+Object.values(t).join(",")+"&_summary=data&_sort=-date"+"&_count=".concat(100,"\n  "),l=(0,s.ZP)(i,o.openmrsFetch),c=l.data,m=l.error,b=l.isValidating,f=function(e){switch(e){case t.heightUuid:return"height";case t.weightUuid:return"weight";case t.muacUuid:return"muac"}},h=new Map([]),v=null==c||null===(n=c.data)||void 0===n||null===(r=n.entry)||void 0===r?void 0:r.map((function(e){return null!==(a=e.resource)&&void 0!==a?a:[]})).map((function(e){var t,n,r,a;return{code:null==e||null===(t=e.code)||void 0===t||null===(n=t.coding)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.code,issued:null==e?void 0:e.issued,value:null==e||null===(a=e.valueQuantity)||void 0===a?void 0:a.value}}));return null==v||v.map((function(e){var t=new Date(new Date(e.issued).setSeconds(0,0)).toISOString();h.has(t)?h.set(t,g(p({},h.get(t)),d({},f(e.code),e.value))):e.value&&h.set(t,d({},f(e.code),e.value))})),{biometrics:Array.from(h).map((function(e,t){var n,r,a,i,l=(i=2,function(e){if(Array.isArray(e))return e}(a=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}}(a,i)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(a,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=l[0],c=l[1];return g(p({},c),{id:t.toString(),bmi:(n=Number(c.weight),r=Number(c.height),n>0&&r>0?Number((n/Math.pow(r/100,2)).toFixed(1)):null),date:o})})),isError:m,isLoading:!c&&!m,isValidating:b}}(r,b.concepts),v=h.biometrics,_=h.isLoading,y=null==v?void 0:v.filter((function(e){return e.weight}));return _?a().createElement(l.lSo,{role:"progressbar",description:"".concat(m("loading","Loading")," ...")}):(null==v?void 0:v.length)?a().createElement("div",null,a().createElement("p",{className:U.label},m("weight","Weight")),a().createElement("p",{className:U.content},a().createElement("span",{className:U.value},null==y||null===(t=y[0])||void 0===t?void 0:t.weight)," ",null!==(n=f.get(b.concepts.weightUuid))&&void 0!==n?n:"")):a().createElement("div",null,a().createElement("p",{className:U.label},m("weight","Weight")),a().createElement("p",{className:U.content},"--"))}}}]);