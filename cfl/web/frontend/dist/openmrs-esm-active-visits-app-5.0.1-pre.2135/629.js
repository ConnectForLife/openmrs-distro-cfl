"use strict";(globalThis.webpackChunk_openmrs_esm_active_visits_app=globalThis.webpackChunk_openmrs_esm_active_visits_app||[]).push([[629],{9385:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(272),n=i.n(r),a=i(2609),o=i.n(a)()(n());o.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-active-visits__visit-detail-overview__productiveHeading01____Jt2T{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-active-visits__visit-detail-overview__productiveHeading02___XpbeV{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0)}.-esm-active-visits__visit-detail-overview__bodyLong01___MhuBt{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-active-visits__visit-detail-overview__caption01___edD7t{font-size:var(--cds-legal-01-font-size, 0.75rem);font-weight:var(--cds-legal-01-font-weight, 400);line-height:var(--cds-legal-01-line-height, 1.33333);letter-spacing:var(--cds-legal-01-letter-spacing, 0.32px)}.-esm-active-visits__visit-detail-overview__bodyShort02___um1vp{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-active-visits__visit-detail-overview__text02___onhjz{color:#525252}.-esm-active-visits__visit-detail-overview__text01___xmQk3{color:#161616}.-esm-active-visits__visit-detail-overview__container___VYVVN{display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.-esm-active-visits__visit-detail-overview__encounterHeading___dPIJ1{text-align:left;width:100%;margin:0 1rem 1.3125rem;color:#161616}.-esm-active-visits__visit-detail-overview__visitsDetailWidgetContainer___o8Gty{background-color:#fff;width:100%;border:1px solid #e0e0e0}.-esm-active-visits__visit-detail-overview__visitsDetailHeaderContainer___iDCeu{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0 .75rem 1rem;background-color:#fff}.-esm-active-visits__visit-detail-overview__visitsDetailHeaderContainer___iDCeu>h4:after{content:"";display:block;width:2rem;padding-top:.188rem;border-bottom:.375rem solid #007d79}.-esm-active-visits__visit-detail-overview__contentSwitcher___o_X3k .cds--content-switcher-btn{width:10rem}.-esm-active-visits__visit-detail-overview__customTable___R1REc tr[data-parent-row]:nth-child(odd) td{background-color:#fff}.-esm-active-visits__visit-detail-overview__customTable___R1REc tbody tr[data-parent-row]:nth-child(even) td{background-color:#f4f4f4}.-esm-active-visits__visit-detail-overview__encounterEmptyState___OMoIz{text-align:center;margin:0 1rem 1rem 1rem}.-esm-active-visits__visit-detail-overview__expandedRow___e8DVX>td{padding:inherit !important}.-esm-active-visits__visit-detail-overview__expandedRow___e8DVX>td>div{max-height:max-content !important}.-esm-active-visits__visit-detail-overview__observation___YCSHl{display:grid;grid-template-columns:max-content auto;grid-gap:.5rem;margin:.5rem 0}.-esm-active-visits__visit-detail-overview__observation___YCSHl>span{align-self:center}.-esm-active-visits__visit-detail-overview__summaryContainer___Zk3TV{background-color:#fff;display:grid;grid-template-columns:max-content auto;padding:1rem 0rem;margin:0 1rem}.-esm-active-visits__visit-detail-overview__summaryContainer___Zk3TV .cds--tabs{max-height:fit-content}.-esm-active-visits__visit-detail-overview__flexSections____gtNS{display:flex}.-esm-active-visits__visit-detail-overview__verticalTabs___m3Rn3{margin:1rem 0;scroll-behavior:smooth}.-esm-active-visits__visit-detail-overview__verticalTabs___m3Rn3>ul{flex-direction:column !important}.-esm-active-visits__visit-detail-overview__verticalTabs___m3Rn3 .cds--tabs--scrollable .cds--tabs--scrollable__nav-item + .cds--tabs--scrollable__nav-item{margin-left:0rem}.-esm-active-visits__visit-detail-overview__verticalTabs___m3Rn3 .cds--tabs--scrollable .cds--tabs--scrollable__nav-link{border-bottom:0 !important;border-left:2px solid #c6c6c6}.-esm-active-visits__visit-detail-overview__tab___NHnUL{outline:0;outline-offset:0}.-esm-active-visits__visit-detail-overview__tab___NHnUL:active,.-esm-active-visits__visit-detail-overview__tab___NHnUL:focus{outline:2px solid var(--brand-03) !important}.-esm-active-visits__visit-detail-overview__tab___NHnUL[aria-selected=true]{border-left:3px solid var(--brand-03);border-bottom:none;font-weight:600;margin-left:0rem !important}.-esm-active-visits__visit-detail-overview__tab___NHnUL[aria-selected=false]{border-bottom:none;border-left:2px solid #e0e0e0;margin-left:0rem !important}.-esm-active-visits__visit-detail-overview__tablist___CRWrL .cds--tab--list{flex-direction:column;max-height:fit-content;overflow-x:visible}.-esm-active-visits__visit-detail-overview__tablist___CRWrL>button .cds--tabs .cds--tabs__nav-link{border-bottom:none}.-esm-active-visits__visit-detail-overview__medicationBlock___IXu04{background-color:#f4f4f4;padding:.625rem 6.75rem .75rem 1.063rem;margin-top:1.5rem;width:100% !important}.-esm-active-visits__visit-detail-overview__medicationBlock___IXu04:first-child{margin-top:0}.-esm-active-visits__visit-detail-overview__diagnosisLabel___XE_B1{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:5px}.-esm-active-visits__visit-detail-overview__diagnosesList___L70_l{display:flex;flex-flow:row wrap;padding-bottom:.5rem;margin:0 1rem;border-bottom:1px solid #e0e0e0}.-esm-active-visits__visit-detail-overview__testSummaryExtension___gtxF6 p{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px);color:#525252}html[dir=rtl] .-esm-active-visits__visit-detail-overview__visitsDetailHeaderContainer___iDCeu{padding:.75rem 1rem .75rem 0}html[dir=rtl] .-esm-active-visits__visit-detail-overview__visitsDetailHeaderContainer___iDCeu h4{text-align:right}html[dir=rtl] .-esm-active-visits__visit-detail-overview__visitsDetailHeaderContainer___iDCeu>div>div :first-child{border-bottom-left-radius:unset;border-top-left-radius:unset;border-bottom-right-radius:.25rem;border-top-right-radius:.25rem}html[dir=rtl] .-esm-active-visits__visit-detail-overview__visitsDetailHeaderContainer___iDCeu>div>div :first-child[aria-selected=false]{border-left:unset;border-right:.0625rem solid #a6c8ff}html[dir=rtl] .-esm-active-visits__visit-detail-overview__visitsDetailHeaderContainer___iDCeu>div>div :last-child{border-bottom-right-radius:unset;border-top-right-radius:unset;border-bottom-left-radius:.25rem;border-top-left-radius:.25rem}html[dir=rtl] .-esm-active-visits__visit-detail-overview__visitsDetailHeaderContainer___iDCeu>div>div :last-child[aria-selected=false]{border-right:unset;border-left:.0625rem solid #a6c8ff}html[dir=rtl] .-esm-active-visits__visit-detail-overview__summaryContainer___Zk3TV .-esm-active-visits__visit-detail-overview__tablist___CRWrL>div button{text-align:right}html[dir=rtl] .-esm-active-visits__visit-detail-overview__summaryContainer___Zk3TV .-esm-active-visits__visit-detail-overview__tablist___CRWrL>div button[aria-selected=true]{border-left:unset;border-right:3px solid var(--brand-03)}html[dir=rtl] .-esm-active-visits__visit-detail-overview__summaryContainer___Zk3TV .-esm-active-visits__visit-detail-overview__tablist___CRWrL>div button[aria-selected=false]{border-left:unset;border-right:2px solid #e0e0e0}',"",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./src/visits-summary/visit-detail-overview.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCpDF,wECu0BI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CDn0BJ,wECm0BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CD/zBJ,+DC+zBI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD3zBJ,8DC2zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDvzBJ,gECuzBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDnzBJ,2DACE,aDnBQ,CCsBV,2DACE,aDxBM,CGCR,8DACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,0BAAA,CAGF,qEACE,eAAA,CACA,UAAA,CACA,uBAAA,CACA,aHZM,CGeR,gFACE,qBHbc,CGcd,UAAA,CACA,wBAAA,CAGF,gFACE,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,4BAAA,CACA,qBHvBc,CG0BhB,yFACE,UAAA,CACA,aAAA,CACA,UAAA,CACA,mBAAA,CACA,mCAAA,CAGF,+FACE,WAAA,CAGF,sGACE,qBH7CM,CGgDR,6GACE,wBHlDM,CGqDR,wEACE,iBAAA,CACA,uBAAA,CAGF,mEACE,0BAAA,CAGF,uEACE,iCAAA,CAGF,gEACE,YAAA,CACA,sCAAA,CACA,cAAA,CACA,cAAA,CAGF,qEACE,iBAAA,CAGF,qEACE,qBHvEc,CGwEd,YAAA,CACA,sCAAA,CACA,iBAAA,CACA,aAAA,CAEA,gFACE,sBAAA,CAIJ,iEACE,YAAA,CAGF,iEACE,aAAA,CACA,sBAAA,CAEA,oEACE,gCAAA,CAGF,4JACE,gBAAA,CAGF,yHACE,0BAAA,CACA,6BAAA,CAIJ,wDACE,SAAA,CACA,gBAAA,CAEA,6HAEE,4CAAA,CAGF,4EACE,qCAAA,CACA,kBAAA,CACA,eAAA,CACA,2BAAA,CAGF,6EACE,kBAAA,CACA,6BAAA,CACA,2BAAA,CAKF,4EACE,qBAAA,CACA,sBAAA,CACA,kBAAA,CAGF,mGACE,kBAAA,CAIJ,oEACE,wBHnJM,CGoJN,uCAAA,CACA,iBAAA,CACA,qBAAA,CAGF,gFACE,YAAA,CAGF,mED6qBI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CC3qBF,aH1JQ,CG2JR,cAAA,CAGF,kEACE,YAAA,CACA,kBAAA,CACA,oBAAA,CACA,aAAA,CACA,+BAAA,CAGF,2ED+pBI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CC7pBF,aAAA,CAKA,8FACE,4BAAA,CACA,iGACE,gBAAA,CAIE,mHACE,+BAAA,CACA,4BAAA,CACA,iCC5KG,CD6KH,8BC7KG,CD+KL,wIACE,iBAAA,CACA,mCAAA,CAEF,kHACE,gCAAA,CACA,6BAAA,CACA,gCCtLG,CDuLH,6BCvLG,CDyLL,uIACE,kBAAA,CACA,kCAAA,CAQF,0JACE,gBAAA,CAEF,8KACE,iBAAA,CACA,sCAAA,CAEF,+KACE,iBAAA,CACA,8BAAA",sourceRoot:""}]),o.locals={productiveHeading01:"-esm-active-visits__visit-detail-overview__productiveHeading01____Jt2T",productiveHeading02:"-esm-active-visits__visit-detail-overview__productiveHeading02___XpbeV",bodyLong01:"-esm-active-visits__visit-detail-overview__bodyLong01___MhuBt",caption01:"-esm-active-visits__visit-detail-overview__caption01___edD7t",bodyShort02:"-esm-active-visits__visit-detail-overview__bodyShort02___um1vp",text02:"-esm-active-visits__visit-detail-overview__text02___onhjz",text01:"-esm-active-visits__visit-detail-overview__text01___xmQk3",container:"-esm-active-visits__visit-detail-overview__container___VYVVN",encounterHeading:"-esm-active-visits__visit-detail-overview__encounterHeading___dPIJ1",visitsDetailWidgetContainer:"-esm-active-visits__visit-detail-overview__visitsDetailWidgetContainer___o8Gty",visitsDetailHeaderContainer:"-esm-active-visits__visit-detail-overview__visitsDetailHeaderContainer___iDCeu",contentSwitcher:"-esm-active-visits__visit-detail-overview__contentSwitcher___o_X3k",customTable:"-esm-active-visits__visit-detail-overview__customTable___R1REc",encounterEmptyState:"-esm-active-visits__visit-detail-overview__encounterEmptyState___OMoIz",expandedRow:"-esm-active-visits__visit-detail-overview__expandedRow___e8DVX",observation:"-esm-active-visits__visit-detail-overview__observation___YCSHl",summaryContainer:"-esm-active-visits__visit-detail-overview__summaryContainer___Zk3TV",flexSections:"-esm-active-visits__visit-detail-overview__flexSections____gtNS",verticalTabs:"-esm-active-visits__visit-detail-overview__verticalTabs___m3Rn3",tab:"-esm-active-visits__visit-detail-overview__tab___NHnUL",tablist:"-esm-active-visits__visit-detail-overview__tablist___CRWrL",medicationBlock:"-esm-active-visits__visit-detail-overview__medicationBlock___IXu04",diagnosisLabel:"-esm-active-visits__visit-detail-overview__diagnosisLabel___XE_B1",diagnosesList:"-esm-active-visits__visit-detail-overview__diagnosesList___L70_l",testSummaryExtension:"-esm-active-visits__visit-detail-overview__testSummaryExtension___gtxF6"};const s=o},9629:(e,t,i)=>{i.r(t),i.d(t,{default:()=>pe});var r=i(5206),n=i.n(r),a=i(4924),o=i(5053),s=i(2870),l=i(3255),c=i(1354),d=i.n(c),v=i(1583),A=i.n(v),u=i(7378),_=i.n(u),m=i(5993),p=i.n(m),f=i(4154),C=i.n(f),g=i(8141),b=i.n(g),y=i(9385),h={};h.styleTagTransform=b(),h.setAttributes=p(),h.insert=_().bind(null,"head"),h.domAPI=A(),h.insertStyleElement=C(),d()(y.Z,h);const E=y.Z&&y.Z.locals?y.Z.locals:void 0;function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}const D=function(e){var t=e.observations,i=(0,a.useTranslation)().t,s=(0,r.useMemo)((function(){return t&&t.map((function(e){var t,i,r=(t=e.display.split(":"),i=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,a=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw n}}return a}}(t,i)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?w(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{question:r[0],answer:r[1]}}))}),[t]);return s?s.length>0?n().createElement("div",{className:E.observation},s.map((function(e,t){return n().createElement(n().Fragment,{key:t},n().createElement("span",{className:E.caption01},e.question,": "),n().createElement("span",{className:"".concat(E.bodyShort02," ").concat(E.text01)},e.answer))}))):n().createElement("p",{className:E.caption01},i("noObservationsFound","No observations found")):n().createElement(o.N2B,null)};function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},x.apply(this,arguments)}const S=function(e){var t,i,l=e.encounters,c=e.visitUuid,d=(0,a.useTranslation)().t,v=(0,s.useLayoutType)(),A=(t=(0,r.useState)(0),i=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,a=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw n}}return a}}(t,i)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?B(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=A[0],_=A[1],m=(0,r.useRef)(null),p=(0,r.useMemo)((function(){return[{id:1,header:d("time","Time"),key:"time"},{id:2,header:d("encounterType","Encounter Type"),key:"encounterType"},{id:3,header:d("provider","Provider"),key:"provider"}]}),[d]);return(0,r.useEffect)((function(){var e;_(null==m||null===(e=m.current)||void 0===e?void 0:e.clientWidth);var t=function(){var e;return _(null==m||null===(e=m.current)||void 0===e?void 0:e.clientWidth)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),0!==l.length?n().createElement(o.wQF,{rows:l,headers:p,size:(0,s.isDesktop)(v)?"sm":"md"},(function(e){var t=e.rows,i=e.headers,r=e.getHeaderProps,a=e.getRowProps,d=e.getTableProps;return n().createElement(o.xJi,{"data-testid":"encountersTable"},n().createElement(o.iA_,x({className:E.customTable},d()),n().createElement(o.ssF,null,n().createElement(o.SCH,null,n().createElement(o.MOD,null),i.map((function(e,t){return 0===t?n().createElement(o.xDH,x({id:"header_".concat(c,"_").concat(t),ref:m},r({header:e})),e.header):n().createElement(o.xDH,x({id:"header_".concat(c,"_").concat(t)},r({header:e})),e.header)})))),n().createElement(o.RMI,null,t.map((function(e,t){return n().createElement(n().Fragment,{key:e.id},n().createElement(o.RcE,x({},a({row:e})),e.cells.map((function(e){return n().createElement(o.pj1,{key:e.id,"data-testid":e.id},e.value)}))),e.isExpanded&&n().createElement(o.WdL,{className:E.expandedRow,style:{paddingLeft:(0,s.isDesktop)(v)?"3rem":"4rem"},colSpan:i.length+2},n().createElement("div",{style:{marginLeft:u}},n().createElement(D,{observations:l[t].obs}))))})))))})):n().createElement("div",{className:E.encounterEmptyState},n().createElement("h4",{className:E.productiveHeading02},d("noEncountersFound","No encounters found")),n().createElement("p",{className:"".concat(E.bodyLong01," ").concat(E.text02)},d("thereIsNoInformationToDisplayHere","There is no information to display here")))},T=function(e){var t=e.notes,i=(0,a.useTranslation)().t;return n().createElement(n().Fragment,null,t.length>0?t.map((function(e,t){return n().createElement(n().Fragment,{key:t},n().createElement("p",{className:"".concat(E.medicationBlock," ").concat(E.bodyLong01),"data-testid":"note"},e.note),n().createElement("p",{className:E.caption01,style:{color:"#525252"}},e.time," · ",e.provider.name," · ",e.provider.role))})):n().createElement("p",{className:"".concat(E.bodyLong01," ").concat(E.text02)},i("noNotesFound","No notes found")))},k="object"==typeof global&&global&&global.Object===Object&&global;var N="object"==typeof self&&self&&self.Object===Object&&self;const L=(k||N||Function("return this")()).Symbol,F=Array.isArray;var H=Object.prototype,I=H.hasOwnProperty,R=H.toString,j=L?L.toStringTag:void 0;var G=Object.prototype.toString;var U=L?L.toStringTag:void 0;const O=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":U&&U in Object(e)?function(e){var t=I.call(e,j),i=e[j];try{e[j]=void 0;var r=!0}catch(e){}var n=R.call(e);return r&&(t?e[j]=i:delete e[j]),n}(e):function(e){return G.call(e)}(e)};var M=L?L.prototype:void 0,z=M?M.toString:void 0;const V=function e(t){if("string"==typeof t)return t;if(F(t))return function(e,t){for(var i=-1,r=null==e?0:e.length,n=Array(r);++i<r;)n[i]=t(e[i],i,e);return n}(t,e)+"";if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==O(e)}(t))return z?z.call(t):"";var i=t+"";return"0"==i&&1/t==-1/0?"-0":i},P=function(e){return null==e?"":V(e)},q=function(e,t,i){var r=e.length;return i=void 0===i?r:i,!t&&i>=r?e:function(e,t,i){var r=-1,n=e.length;t<0&&(t=-t>n?0:n+t),(i=i>n?n:i)<0&&(i+=n),n=t>i?0:i-t>>>0,t>>>=0;for(var a=Array(n);++r<n;)a[r]=e[r+t];return a}(e,t,i)};var J=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const W=function(e){return J.test(e)};var Y="\\ud800-\\udfff",Z="["+Y+"]",X="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",K="\\ud83c[\\udffb-\\udfff]",Q="[^"+Y+"]",$="(?:\\ud83c[\\udde6-\\uddff]){2}",ee="[\\ud800-\\udbff][\\udc00-\\udfff]",te="(?:"+X+"|"+K+")?",ie="[\\ufe0e\\ufe0f]?",re=ie+te+"(?:\\u200d(?:"+[Q,$,ee].join("|")+")"+ie+te+")*",ne="(?:"+[Q+X+"?",X,$,ee,Z].join("|")+")",ae=RegExp(K+"(?="+K+")|"+ne+re,"g");const oe=function(e){return W(e)?function(e){return e.match(ae)||[]}(e):function(e){return e.split("")}(e)},se=function(e){e=P(e);var t=W(e)?oe(e):void 0,i=t?t[0]:e.charAt(0),r=t?q(t,1).join(""):e.slice(1);return i.toUpperCase()+r},le=function(e){var t=e.medications,i=(0,a.useTranslation)().t;return n().createElement(n().Fragment,null,t.length>0?t.map((function(e,t){var r,a,o,l,c,d,v,A,u,_;return(null===(r=e.order)||void 0===r?void 0:r.dose)&&"Drug Order"===(null===(a=e.order)||void 0===a||null===(o=a.orderType)||void 0===o?void 0:o.display)&&n().createElement(n().Fragment,{key:t},n().createElement("p",{className:"".concat(E.bodyLong01," ").concat(E.medicationBlock)},n().createElement("strong",null,(_=null===(l=e.order.drug)||void 0===l?void 0:l.name,se(P(_).toLowerCase())))," —"," ",null===(c=e.order.doseUnits)||void 0===c?void 0:c.display," — ",null===(d=e.order.route)||void 0===d?void 0:d.display,n().createElement("br",null),n().createElement("span",{className:E.label01},i("dose","Dose").toUpperCase())," ",n().createElement("strong",null,function(e,t){if(!e||!t)return"";var i=e.search(/\D/),r=parseInt(e.substring(0,i)),n=e.search(/\//),a=e.substring(i);if(n>=0){a=e.substring(i,n);var o=e.substring(n+1).search(/\D/),s=parseInt(e.substr(n+1,o)),l=e.substring(n+1+o);return"".concat(t," ").concat(a," (").concat(t/r*s," ").concat(l,")")}return"".concat(r*t," ").concat(a)}(null===(v=e.order.drug)||void 0===v?void 0:v.strength,e.order.dose).toLowerCase())," ","— ",null===(A=e.order.frequency)||void 0===A?void 0:A.display," —"," ",e.order.duration?i("orderDurationAndUnit","for {duration} {durationUnit}",{duration:e.order.duration,durationUnit:null===(u=e.order.durationUnits)||void 0===u?void 0:u.display}):i("orderIndefiniteDuration","Indefinite duration"),n().createElement("br",null),n().createElement("span",{className:E.label01},i("refills","Refills").toUpperCase())," ",e.order.numRefills),n().createElement("p",{className:E.caption01,style:{color:"#525252"}},(0,s.formatTime)((0,s.parseDate)(e.order.dateActivated))," ·"," ",e.provider&&e.provider.name," ·"," ",e.provider&&e.provider.role))})):n().createElement("p",{className:"".concat(E.bodyLong01," ").concat(E.text02)},i("noMedicationsFound","No medications found")))};function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}const de=function(e){var t=e.patientUuid,i=e.encounters,a=(0,r.useMemo)((function(){var e=i.map((function(e){return"Encounter/".concat(e.uuid)}));return function(t){var i,r,n=(i=t,r=1,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,a=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw n}}return a}}(i,r)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ce(e,t):void 0}}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return e.includes(n.encounter.reference)}}),[i]);return n().createElement("div",{className:"".concat(E.bodyLong01," ").concat(E.testSummaryExtension)},n().createElement(s.ExtensionSlot,{name:"test-results-filtered-overview",state:{filter:a,patientUuid:t}}))};function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,a=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw n}}return a}}(e,t)||ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){if(e){if("string"==typeof e)return ve(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ve(e,t):void 0}}const _e=function(e){var t=e.encounters,i=e.patientUuid,l=(0,a.useTranslation)().t,c=Ae((0,r.useState)(0),2),d=(c[0],c[1]),v=Ae((0,r.useMemo)((function(){var e=[],i=[],r=[];return t.forEach((function(t){var n,a;(n=e).push.apply(n,function(e){if(Array.isArray(e))return ve(e)}(a=t.orders.map((function(e){return{order:e,provider:{name:t.encounterProviders.length?t.encounterProviders[0].provider.person.display:"",role:t.encounterProviders.length?t.encounterProviders[0].encounterRole.display:""}}})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||ue(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),"Visit Note"===t.encounterType.display&&t.obs.forEach((function(e){"Visit Diagnoses"===e.concept.display?i.push({diagnosis:e.groupMembers.find((function(e){return"PROBLEM LIST"===e.concept.display})).value.display,order:e.groupMembers.find((function(e){return"Diagnosis order"===e.concept.display})).value.display}):"Text of encounter note"===e.concept.display&&r.push({note:e.value,provider:{name:t.encounterProviders.length?t.encounterProviders[0].provider.person.display:"",role:t.encounterProviders.length?t.encounterProviders[0].encounterRole.display:""},time:(0,s.formatTime)((0,s.parseDate)(e.obsDatetime))})}))})),[i,r,e]}),[t]),3),A=v[0],u=v[1],_=v[2];return n().createElement("div",{className:E.summaryContainer},n().createElement("p",{className:E.diagnosisLabel},l("diagnoses","Diagnoses")),n().createElement("div",{className:E.diagnosesList},A.length>0?A.map((function(e,t){return n().createElement(o.Vp9,{key:t,type:"Primary"===e.order?"blue":"red"},e.diagnosis)})):n().createElement("p",{className:"".concat(E.bodyLong01," ").concat(E.text02),style:{marginBottom:"0.5rem"}},l("noDiagnosesFound","No diagnoses found"))),n().createElement(o.mQc,{className:E.verticalTabs},n().createElement(o.tdY,{"aria-label":"Visit summary tabs",className:E.tablist},n().createElement(o.OK9,{className:"".concat(E.tab," ").concat(E.bodyLong01),onClick:function(){return d(0)},id:"notes-tab"},l("notes","Notes")),n().createElement(o.OK9,{className:E.tab,onClick:function(){return d(1)},id:"tests-tab"},l("tests","Tests")),n().createElement(o.OK9,{className:E.tab,onClick:function(){return d(2)},id:"tab-3"},l("medications","Medications"))),n().createElement(o.nPR,null,n().createElement(o.x45,null,n().createElement(T,{notes:u})),n().createElement(o.x45,null,n().createElement(de,{patientUuid:i,encounters:t})),n().createElement(o.x45,null,n().createElement(le,{medications:_})))))};function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}const pe=function(e){var t,i,c,d=e.visitUuid,v=e.patientUuid,A=(0,a.useTranslation)().t,u=(i=(0,r.useState)(0),c=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,a=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw n}}return a}}(i,c)||function(e,t){if(e){if("string"==typeof e)return me(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?me(e,t):void 0}}(i,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=u[0],m=u[1],p=function(e){var t="/ws/rest/v1/visit/".concat(e,"?v=").concat("custom:(uuid,encounters:(uuid,encounterDatetime,orders:(uuid,dateActivated,drug:(uuid,name,strength),doseUnits:(uuid,display),dose,route:(uuid,display),frequency:(uuid,display),duration,durationUnits:(uuid,display),numRefills,orderType:(uuid,display),orderer:(uuid,person:(uuid,display))),obs:(uuid,concept:(uuid,display,conceptClass:(uuid,display)),display,groupMembers:(uuid,concept:(uuid,display),value:(uuid,display)),value),encounterType:(uuid,display),encounterProviders:(uuid,display,encounterRole:(uuid,display),provider:(uuid,person:(uuid,display)))),visitType:(uuid,name,display),startDatetime"),i=(0,l.ZP)(e?t:null,s.openmrsFetch),r=i.data,n=i.error,a=i.isLoading,o=i.isValidating;return{visit:r?r.data:null,isError:n,isLoading:a,isValidating:o}}(d),f=p.visit,C=p.isLoading,g=(0,r.useMemo)((function(){var e;return f?null==f||null===(e=f.encounters)||void 0===e?void 0:e.map((function(e){return{id:e.uuid,time:(0,s.formatTime)((0,s.parseDate)(e.encounterDateTime)),encounterType:e.encounterType.display,provider:e.encounterProviders.length>0?e.encounterProviders[0].display:"",obs:e.obs}})):[]}),[f]);return C?n().createElement(o.gqd,{role:"progressbar"}):f?n().createElement("div",{className:E.visitsDetailWidgetContainer},n().createElement("div",{className:E.visitsDetailHeaderContainer},n().createElement("h4",{className:E.productiveHeading02},null==f||null===(t=f.visitType)||void 0===t?void 0:t.display,n().createElement("br",null),n().createElement("p",{className:"".concat(E.bodyLong01," ").concat(E.text02)},(0,s.formatDatetime)((0,s.parseDate)(null==f?void 0:f.startDatetime)))),n().createElement("div",{style:{margin:"0 1rem"}},n().createElement(o.GHR,{className:E.contentSwitcher,selectedIndex:_,onChange:function(e){var t=e.index;return m(t)}},n().createElement(o.rsf,{name:"allEncounters",text:A("allEncounters","All Encounters")}),n().createElement(o.rsf,{name:"visitSummary",text:A("visitSummary","Visit Summary")})))),0===_&&(null==f?void 0:f.encounters)&&n().createElement(S,{visitUuid:f.uuid,encounters:g}),1===_&&n().createElement(_e,{encounters:f.encounters,patientUuid:v})):null}}}]);