(self.webpackChunk_openmrs_esm_patient_forms_app=self.webpackChunk_openmrs_esm_patient_forms_app||[]).push([[222],{6069:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(9601),o=r.n(n),a=r(2609),i=r.n(a)()(o());i.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-forms__empty-form__productiveHeading01___FRhAz,.-esm-patient-forms__empty-form__helper___JJk5S{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);margin-bottom:.5rem}.-esm-patient-forms__empty-form__productiveHeading03___SaX9E{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin-bottom:.5rem}.-esm-patient-forms__empty-form__productiveHeading04___Kj8c3{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-patient-forms__empty-form__bodyLong01___q2peG{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-patient-forms__empty-form__bodyShort01___VUCYJ{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-patient-forms__empty-form__label01___tKTfG{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-forms__empty-form__tile___vhHso{text-align:center;border:1px solid #e0e0e0}.-esm-patient-forms__empty-form__helper___JJk5S{color:#525252;margin-top:1rem}.-esm-patient-forms__empty-form__content___m8daX{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:1rem;margin-bottom:.5rem}.-esm-patient-forms__empty-form__desktopHeading___aMIWz h4{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252}.-esm-patient-forms__empty-form__tabletHeading___nbWOm h4{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);color:#525252}.-esm-patient-forms__empty-form__desktopHeading___aMIWz,.-esm-patient-forms__empty-form__tabletHeading___nbWOm{text-align:left;text-transform:capitalize;margin-bottom:1rem}.-esm-patient-forms__empty-form__desktopHeading___aMIWz h4:after,.-esm-patient-forms__empty-form__tabletHeading___nbWOm h4:after{content:"";display:block;width:2rem;padding-top:.188rem;border-bottom:.375rem solid var(--brand-03)}.-esm-patient-forms__empty-form__heading___c_soz:after{content:"";display:block;width:2rem;padding-top:.188rem;border-bottom:.375rem solid var(--brand-03)}',""]),i.locals={productiveHeading01:"-esm-patient-forms__empty-form__productiveHeading01___FRhAz",helper:"-esm-patient-forms__empty-form__helper___JJk5S",productiveHeading03:"-esm-patient-forms__empty-form__productiveHeading03___SaX9E",productiveHeading04:"-esm-patient-forms__empty-form__productiveHeading04___Kj8c3",bodyLong01:"-esm-patient-forms__empty-form__bodyLong01___q2peG",bodyShort01:"-esm-patient-forms__empty-form__bodyShort01___VUCYJ",label01:"-esm-patient-forms__empty-form__label01___tKTfG",tile:"-esm-patient-forms__empty-form__tile___vhHso",content:"-esm-patient-forms__empty-form__content___m8daX",desktopHeading:"-esm-patient-forms__empty-form__desktopHeading___aMIWz",tabletHeading:"-esm-patient-forms__empty-form__tabletHeading___nbWOm",heading:"-esm-patient-forms__empty-form__heading___c_soz"};const s=i},2890:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(9601),o=r.n(n),a=r(2609),i=r.n(a)()(o());i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-forms__form-view__productiveHeading01___yEQ5P{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);margin-bottom:.5rem}.-esm-patient-forms__form-view__productiveHeading03___KhJ2P{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin-bottom:.5rem}.-esm-patient-forms__form-view__productiveHeading04___uuf67{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-patient-forms__form-view__bodyLong01___Kncnh,.-esm-patient-forms__form-view__helper___CKcMx{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-patient-forms__form-view__bodyShort01___VfCNh{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-patient-forms__form-view__label01___etENq{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-forms__form-view__productiveHeading01___yEQ5P{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-patient-forms__form-view__bodyShort01___VfCNh{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-patient-forms__form-view__bodyLong01___Kncnh,.-esm-patient-forms__form-view__helper___CKcMx{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-patient-forms__form-view__formContainer___GdKgl{display:flex;flex-direction:column;height:auto;width:100%}.-esm-patient-forms__form-view__formContainer___GdKgl input[type=text]{background-color:#fff}.-esm-patient-forms__form-view__formContainer___GdKgl div:nth-of-type(2){padding-top:0}.-esm-patient-forms__form-view__formResultsLabel___wDcVE{margin:1rem}.omrs-breakpoint-gt-tablet .-esm-patient-forms__form-view__tableCell___r96CM{display:flex;justify-content:space-between;cursor:pointer;align-items:center}.omrs-breakpoint-gt-tablet .-esm-patient-forms__form-view__tableCell___r96CM>svg{visibility:hidden}.omrs-breakpoint-gt-tablet .-esm-patient-forms__form-view__tableCell___r96CM>label{cursor:pointer}.omrs-breakpoint-gt-tablet .-esm-patient-forms__form-view__tableCell___r96CM:hover>svg{visibility:visible}.-esm-patient-forms__form-view__formName___pC20U{color:#0f62fe}.omrs-breakpoint-lt-desktop .-esm-patient-forms__form-view__tableCell___r96CM{display:flex;justify-content:space-between;cursor:pointer;height:3rem;align-items:center}.omrs-breakpoint-lt-desktop .-esm-patient-forms__form-view__tableCell___r96CM>label{cursor:pointer}.omrs-breakpoint-lt-desktop .-esm-patient-forms__form-view__tableCell___r96CM.cds--data-table tr{height:3rem}.-esm-patient-forms__form-view__tile___CoHL6{text-align:center;margin-top:.25rem}.-esm-patient-forms__form-view__content___YEItW{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:1rem;margin-bottom:.5rem}.-esm-patient-forms__form-view__helper___CKcMx{color:#525252;margin:.5rem 0}",""]),i.locals={productiveHeading01:"-esm-patient-forms__form-view__productiveHeading01___yEQ5P",productiveHeading03:"-esm-patient-forms__form-view__productiveHeading03___KhJ2P",productiveHeading04:"-esm-patient-forms__form-view__productiveHeading04___uuf67",bodyLong01:"-esm-patient-forms__form-view__bodyLong01___Kncnh",helper:"-esm-patient-forms__form-view__helper___CKcMx",bodyShort01:"-esm-patient-forms__form-view__bodyShort01___VfCNh",label01:"-esm-patient-forms__form-view__label01___etENq",formContainer:"-esm-patient-forms__form-view__formContainer___GdKgl",formResultsLabel:"-esm-patient-forms__form-view__formResultsLabel___wDcVE",tableCell:"-esm-patient-forms__form-view__tableCell___r96CM",formName:"-esm-patient-forms__form-view__formName___pC20U",tile:"-esm-patient-forms__form-view__tile___CoHL6",content:"-esm-patient-forms__form-view__content___YEItW"};const s=i},9043:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(9601),o=r.n(n),a=r(2609),i=r.n(a)()(o());i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-forms__forms__bodyShort01___omrxv,.-esm-patient-forms__forms__helperContainer___Shdoh{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-patient-forms__forms__widgetCard___h7UB5{background-color:#fff;border:1px solid #e0e0e0;position:relative}.-esm-patient-forms__forms__contextSwitcherContainer___zmHmZ{width:60%;margin-right:1rem}.-esm-patient-forms__forms__desktopContentSwitcher___aTdjM{width:100%;height:2rem}.-esm-patient-forms__forms__tabletContentSwitcher___BiIU3{width:100%;height:2.5rem}.-esm-patient-forms__forms__helperContainer___Shdoh{color:#525252;text-align:left;padding-left:1.3rem}.-esm-patient-forms__forms__labelRed___KDnNu{color:#da1e28}",""]),i.locals={bodyShort01:"-esm-patient-forms__forms__bodyShort01___omrxv",helperContainer:"-esm-patient-forms__forms__helperContainer___Shdoh",widgetCard:"-esm-patient-forms__forms__widgetCard___h7UB5",contextSwitcherContainer:"-esm-patient-forms__forms__contextSwitcherContainer___zmHmZ",desktopContentSwitcher:"-esm-patient-forms__forms__desktopContentSwitcher___aTdjM",tabletContentSwitcher:"-esm-patient-forms__forms__tabletContentSwitcher___BiIU3",labelRed:"-esm-patient-forms__forms__labelRed___KDnNu"};const s=i},6824:function(e){e.exports=function(){"use strict";return function(e,t,r){t.prototype.isToday=function(){var e="YYYY-MM-DD",t=r();return this.format(e)===t.format(e)}}}()},1222:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Se});var n=r(268),o=r.n(n),a=r(4924),i=r(3565),s=r.n(i),l=(r(6824),r(1740)),m=r(6217),c=r(906),d=r(5186),f=r(9857),_=r(4450),u=r(2237);const p=function(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+t];return a}(e,t,r)};var g=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const h=function(e){return g.test(e)};var v="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",b="\\ud83c[\\udffb-\\udfff]",y="[^\\ud800-\\udfff]",w="(?:\\ud83c[\\udde6-\\uddff]){2}",C="[\\ud800-\\udbff][\\udc00-\\udfff]",E="(?:"+v+"|"+b+")?",S="[\\ufe0e\\ufe0f]?",x=S+E+"(?:\\u200d(?:"+[y,w,C].join("|")+")"+S+E+")*",z="(?:"+[y+v+"?",v,w,C,"[\\ud800-\\udfff]"].join("|")+")",T=RegExp(b+"(?="+b+")|"+z+x,"g");const H=function(e){return h(e)?function(e){return e.match(T)||[]}(e):function(e){return e.split("")}(e)},k=function(e){e=(0,u.Z)(e);var t=h(e)?H(e):void 0,r=t?t[0]:e.charAt(0),n=t?p(t,1).join(""):e.slice(1);return r.toUpperCase()+n};var N=r(6062),A=r.n(N),Z=r(4036),U=r.n(Z),L=r(6793),M=r.n(L),O=r(7892),I=r.n(O),D=r(1173),F=r.n(D),j=r(2464),P=r.n(j),V=r(6069),K={};K.styleTagTransform=P(),K.setAttributes=I(),K.insert=M().bind(null,"head"),K.domAPI=U(),K.insertStyleElement=F(),A()(V.Z,K);const R=V.Z&&V.Z.locals?V.Z.locals:void 0,J=function(e){var t=e.content,r=(0,a.useTranslation)().t,n=(0,c.useLayoutType)();return o().createElement(l.mh4,null,o().createElement(l.n9L,{className:R.tile},o().createElement("div",{className:(0,c.isDesktop)(n)?R.desktopHeading:R.tabletHeading},o().createElement("h4",null,r("forms","Forms"))),o().createElement(m.EmptyDataIllustration,null),o().createElement("p",{className:R.content},t)))};var W=r(7279);var G=r(3122),Y=r(3221);const q=function(){return Y.Z.Date.now()};var $=/\s/;var B=/^\s+/;const Q=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&$.test(e.charAt(t)););return t}(e)+1).replace(B,""):e};var X=r(2758),ee=/^[-+]0x[0-9a-f]+$/i,te=/^0b[01]+$/i,re=/^0o[0-7]+$/i,ne=parseInt;const oe=function(e){if("number"==typeof e)return e;if((0,X.Z)(e))return NaN;if((0,G.Z)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,G.Z)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Q(e);var r=te.test(e);return r||re.test(e)?ne(e.slice(2),r?2:8):ee.test(e)?NaN:+e};var ae=Math.max,ie=Math.min;var se=r(7631),le=r(3319),me=r(2890),ce={};ce.styleTagTransform=P(),ce.setAttributes=I(),ce.insert=M().bind(null,"head"),ce.domAPI=U(),ce.insertStyleElement=F(),A()(me.Z,ce);const de=me.Z&&me.Z.locals?me.Z.locals:void 0;function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _e(){return _e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_e.apply(this,arguments)}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const pe=function(e){var t,r,i=e.forms,s=e.patientUuid,d=e.patient,f=e.pageSize,_=e.pageUrl,u=e.urlLabel,p=(0,a.useTranslation)().t,g=(0,c.useConfig)().htmlFormEntryForms,h=(0,c.useLayoutType)(),v=(0,m.useVisitOrOfflineVisit)(s).currentVisit,b=ue((0,n.useState)(null),2),y=b[0],w=b[1],C=ue((0,n.useState)(i),2),E=C[0],S=C[1],x=(0,c.usePagination)(E.sort((function(e,n){var o,a;return(null!==(t=null===(o=n.lastCompleted)||void 0===o?void 0:o.getTime())&&void 0!==t?t:0)-(null!==(r=null===(a=e.lastCompleted)||void 0===a?void 0:a.getTime())&&void 0!==r?r:0)})),f),z=x.results,T=x.goTo,H=x.currentPage,k=(0,n.useMemo)((function(){return function(e,t,r){var n,o,a,i,s,l,m=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function _(t){var r=n,a=o;return n=o=void 0,m=t,i=e.apply(a,r)}function u(e){return m=e,s=setTimeout(g,t),c?_(e):i}function p(e){var r=e-l;return void 0===l||r>=t||r<0||d&&e-m>=a}function g(){var e=q();if(p(e))return h(e);s=setTimeout(g,function(e){var r=t-(e-l);return d?ie(r,a-(e-m)):r}(e))}function h(e){return s=void 0,f&&n?_(e):(n=o=void 0,i)}function v(){var e=q(),r=p(e);if(n=arguments,o=this,l=e,r){if(void 0===s)return u(l);if(d)return clearTimeout(s),s=setTimeout(g,t),_(l)}return void 0===s&&(s=setTimeout(g,t)),i}return t=oe(t)||0,(0,G.Z)(r)&&(c=!!r.leading,a=(d="maxWait"in r)?ae(oe(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f),v.cancel=function(){void 0!==s&&clearTimeout(s),m=0,n=l=o=s=void 0},v.flush=function(){return void 0===s?i:h(q())},v}((function(e){return w(e)}),300)}),[]);(0,n.useEffect)((function(){var e=(0,W.Z)(y)?i:i.filter((function(e){return-1!==e.form.name.toLowerCase().search(null==y?void 0:y.toLowerCase())}));S(e)}),[y,i]);var N,A=(0,n.useMemo)((function(){return[{key:"lastCompleted",header:p("lastCompleted","Last Completed")},{key:"formName",header:p("formName","Form Name (A-Z)")}]}),[p]),Z=(0,n.useMemo)((function(){return null==z?void 0:z.map((function(e){var t,r;return{id:e.form.uuid,lastCompleted:e.lastCompleted?(0,c.formatDatetime)(e.lastCompleted):void 0,formName:null!==(r=e.form.display)&&void 0!==r?r:e.form.name,formUuid:e.form.uuid,encounterUuid:null===(t=null==e?void 0:e.associatedEncounters[0])||void 0===t?void 0:t.uuid}}))}),[z]);return o().createElement("div",{className:de.formContainer},o().createElement(l.olm,{id:"searchInput",labelText:"",className:de.formSearchInput,placeholder:p("searchForForm","Search for a form"),onChange:function(e){return k(e.target.value)}}),o().createElement(o().Fragment,null,(null==y?void 0:y.length)>0&&(null==E?void 0:E.length)>0&&o().createElement("p",{className:de.formResultsLabel},E.length," ",p("matchesFound","match(es) found")),(null==E?void 0:E.length)>0&&o().createElement(o().Fragment,null,o().createElement(l.wQF,{size:(0,c.isDesktop)(h)?"sm":"lg",rows:Z,headers:A,isSortable:!0,useZebraStyles:!0},(function(e){var t=e.rows,r=e.headers,n=e.getHeaderProps,a=e.getTableProps;return o().createElement(l.xJi,{className:de.tableContainer},o().createElement(l.iA_,_e({},a()),o().createElement(l.ssF,null,o().createElement(l.SCH,null,r.map((function(e){var t;return o().createElement(l.xDH,_e({className:"".concat(de.productiveHeading01," ").concat(de.text02)},n({header:e,isSortable:e.isSortable})),null!==(N=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==N?N:e.header)})))),o().createElement(l.RMI,null,t.map((function(e,t){var r,n,a;return o().createElement(l.SCH,{key:e.id},o().createElement(l.pj1,null,null!==(r=e.cells[0].value)&&void 0!==r?r:p("never","Never")),o().createElement(l.pj1,{className:de.tableCell},o().createElement("label",{onClick:function(){return(0,le.U)(v,e.id,d,g,"",null!==(n=z[t].form.display)&&void 0!==n?n:z[t].form.name)},role:"presentation",className:de.formName},e.cells[1].value),e.cells[0].value&&o().createElement(se.I8,{size:20,description:"Edit form",onClick:function(){var r,n;return(0,le.U)(v,e.id,d,g,null===(r=(n=z[t].associatedEncounters)&&n.length?n[0]:void 0)||void 0===r?void 0:r.uuid,null!==(a=z[t].form.display)&&void 0!==a?a:z[t].form.name)}})))})))))})),o().createElement(m.PatientChartPagination,{pageNumber:H,totalItems:E.length,currentItems:z.length,pageSize:f,onPageNumberChange:function(e){var t=e.page;return T(t)},dashboardLinkUrl:_,dashboardLinkLabel:u})),(0,W.Z)(E)?o().createElement(l.mh4,null,o().createElement(l.n9L,{className:de.tile},o().createElement(m.EmptyDataIllustration,null),o().createElement("p",{className:de.content},p("noFormsAvailable","There are no matching forms to display")),o().createElement("p",{className:de.helper},p("formSearchHint","Try searching for the form using an alternative name or keyword")))):null))};var ge=r(9043),he={};he.styleTagTransform=P(),he.setAttributes=I(),he.insert=M().bind(null,"head"),he.domAPI=U(),he.insertStyleElement=F(),A()(ge.Z,he);const ve=ge.Z&&ge.Z.locals?ge.Z.locals:void 0;function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const we=function(e){var t,r,i,s,d=e.formsToDisplay,f=e.headerTitle,_=e.isValidating,p=e.patientUuid,g=e.patient,h=e.pageSize,v=e.pageUrl,b=e.urlLabel,y=e.error,w=(i=(0,n.useState)(0),s=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}}(i,s)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}(i,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),C=w[0],E=w[1],S="tablet"===(0,c.useLayoutType)(),x=(0,a.useTranslation)().t,z=null!==(t=null==d?void 0:d.flatMap((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ye(e,t,r[t])}))}return e}({formCategory:e.form.formCategory},e)})))&&void 0!==t?t:[],T=Array.from(new Set(null==z?void 0:z.flatMap((function(e){return e.form.formCategory})))),H=("formCategory",null==(r=z)?void 0:r.reduce((function(e,t){var r=t.formCategory;return e[r]||(e[r]=[]),e[r].push(t),e}),{}))[T[C]];return d||y?y?o().createElement(m.ErrorState,{headerTitle:x("forms","Forms"),error:y}):0===d.length?o().createElement(J,{content:x("noFormsAvailable","There are no forms to display for this patient")}):o().createElement("div",{className:ve.widgetCard},o().createElement(m.CardHeader,{title:f},_?o().createElement("span",null,o().createElement(l.lSo,null)):null,o().createElement("div",{className:ve.contextSwitcherContainer},o().createElement(l.GHR,{className:S?ve.tabletContentSwitcher:ve.desktopContentSwitcher,onChange:function(e){var t=e.name;return E(Number(t))},selectedIndex:0},null==T?void 0:T.map((function(e,t){return o().createElement(l.rsf,{name:t,text:(r=e,k((0,u.Z)(r).toLowerCase()))});var r}))))),o().createElement("div",{style:{width:"100%"}},H&&o().createElement(pe,{forms:H,patientUuid:p,patient:g,pageSize:h,pageUrl:v,urlLabel:b}))):o().createElement(l.gqd,{role:"progressbar",rowCount:5})};function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ee;!function(e){e[e.Recommended=0]="Recommended",e[e.Completed=1]="Completed",e[e.All=2]="All"}(Ee||(Ee={}));const Se=function(e){var t,r,i=e.patientUuid,u=e.patient,p=e.pageSize,g=e.pageUrl,h=e.urlLabel,v=e.isOffline,b=(0,a.useTranslation)().t,y=(0,c.useConfig)(),w=y.htmlFormEntryForms,C=y.showRecommendedFormsTab,E=y.showConfigurableForms,S=b("forms","Forms"),x="tablet"===(0,c.useLayoutType)(),z=(t=(0,n.useState)(C?0:2),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ce(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),T=z[0],H=z[1],k=(0,_.MS)(i,void 0,void 0,v),N=k.isValidating,A=k.data,Z=k.error,U=(0,c.useSession)(),L=v?null==A?void 0:A.filter((function(e){return(0,d.LD)(e.form,w)})):A;L=null==L?void 0:L.filter((function(e){var t,r,n;return(0,c.userHasAccess)(null==e||null===(t=e.form)||void 0===t||null===(r=t.encounterType)||void 0===r||null===(n=r.editPrivilege)||void 0===n?void 0:n.display,null==U?void 0:U.user)}));var M=(0,m.useVisitOrOfflineVisit)(i).currentVisit,O=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=(0,f.ZP)(r&&"/etl-latest/etl/patient-program-config?patientUuid=".concat(e),c.openmrsFetch),a=o.data,i=o.error;return{programConfigs:(0,n.useMemo)((function(){return null!==(t=null==a?void 0:a.data)&&void 0!==t?t:[]}),[a]),error:i}}(i,C).programConfigs,I=(0,n.useMemo)((function(){return null==L?void 0:L.filter((function(e){var t,r,n=e.form;return null===(r=null===(t=Object.values(O).flatMap((function(e){return e.visitTypes})))||void 0===t?void 0:t.find((function(e){return e.uuid===(null==M?void 0:M.visitType.uuid)})))||void 0===r?void 0:r.encounterTypes.some((function(e){return e.uuid===n.encounterType.uuid}))})).filter((function(e){var t=e.lastCompleted;return void 0===t||!s()(t).isToday()}))}),[null==M?void 0:M.visitType.uuid,L,O]);return E?o().createElement(we,{formsToDisplay:L,headerTitle:S,isValidating:N,patientUuid:i,patient:u,pageSize:p,pageUrl:g,urlLabel:h,error:Z}):L||Z?Z?o().createElement(m.ErrorState,{headerTitle:b("forms","Forms"),error:Z}):0===L.length?o().createElement(J,{content:b("noFormsAvailable","There are no forms to display for this patient")}):o().createElement("div",{className:ve.widgetCard},o().createElement(m.CardHeader,{title:S},N?o().createElement("span",null,o().createElement(l.lSo,null)):null,o().createElement("div",{className:ve.contextSwitcherContainer},o().createElement(l.GHR,{className:x?ve.tabletContentSwitcher:ve.desktopContentSwitcher,onChange:function(e){return H(e.name)},selectedIndex:T},o().createElement(l.rsf,{name:0,text:"Recommended"}),o().createElement(l.rsf,{name:1,text:"Completed"}),o().createElement(l.rsf,{name:2,text:"All"})))),o().createElement("div",{style:{width:"100%"}},1===T&&o().createElement(pe,{forms:L.filter((function(e){var t=e.associatedEncounters,r=e.lastCompleted;return t.length>0&&s()(r).isToday()})),patientUuid:i,patient:u,pageSize:p,pageUrl:g,urlLabel:h}),2===T&&o().createElement(pe,{forms:L,patientUuid:i,patient:u,pageSize:p,pageUrl:g,urlLabel:h}),0===T&&o().createElement(pe,{forms:I,patientUuid:i,patient:u,pageSize:p,pageUrl:g,urlLabel:h}))):o().createElement(l.gqd,{role:"progressbar",rowCount:5})}},4450:(e,t,r)=>{"use strict";r.d(t,{MS:()=>u,cq:()=>f});var n=r(5047),o=r.n(n),a=r(3565),i=r.n(a),s=r(9857),l=r(906),m=r(8179);function c(e,t,r,n,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){c(a,n,o,i,s,"next",e)}function s(e){c(a,n,o,i,s,"throw",e)}i(void 0)}))}}function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=(0,l.useConfig)(),n=r.showConfigurableForms,a=r.customFormsUrl,i=r.showHtmlFormEntryForms,c=n?a.concat("?patientUuid=".concat(t)):i?m.lA:m.HW;return(0,s.ZP)([c,e],d(o().mark((function t(){var r,a,i,s,m,d;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,(0,l.openmrsFetch)(c);case 3:if(i=t.sent,m=n?null==i?void 0:i.data.results:null!==(s=null===(r=i.data)||void 0===r||null===(a=r.results)||void 0===a?void 0:a.filter((function(e){return e.published&&!/component/i.test(e.name)})))&&void 0!==s?s:[],e){t.next=8;break}return t.abrupt("return",m);case 8:return t.next=10,(0,l.getDynamicOfflineDataEntries)("form");case 10:return d=t.sent,t.abrupt("return",m.filter((function(e){return d.some((function(t){return t.identifier===e.uuid}))})));case 12:case"end":return t.stop()}}),t)}))))}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i()(new Date).startOf("day").subtract(500,"day").toDate(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i()(new Date).endOf("day").toDate(),n="/ws/rest/v1/encounter?v=".concat(m._V,"&patient=").concat(e,"&fromdate=").concat(t.toISOString(),"&todate=").concat(r.toISOString());return(0,s.ZP)(n,(function(e){return(0,l.openmrsFetch)(e)}))}function u(e,t,r){var n,o,a,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=f(i,e),l=_(e,t,r),m=null!==(a=null===(n=l.data)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.results)&&void 0!==a?a:[],c=s.data?p(s.data,m):void 0;return{data:c,error:s.error,isValidating:s.isValidating||l.isValidating,allForms:s.data}}function p(e,t){return e.map((function(e){var r=t.filter((function(t){var r;return(null===(r=t.form)||void 0===r?void 0:r.uuid)===(null==e?void 0:e.uuid)})).sort((function(e,t){return new Date(t.encounterDatetime).getTime()-new Date(e.encounterDatetime).getTime()})),n=r.length>0?new Date(null==r?void 0:r[0].encounterDatetime):void 0;return{form:e,associatedEncounters:r,lastCompleted:n}}))}},5186:(e,t,r)=>{"use strict";r.d(t,{LD:()=>a,nY:()=>s});var n=r(9857),o=r(906);function a(e,t){var r=t.some((function(t){return t.formUuid===e.uuid})),n=e.resources.some(i);return!r&&n}function i(e){return"AmpathJsonSchema"===e.dataType||"JSON schema"===e.name}function s(){return(0,n.ZP)("dynamicFormEntries",(function(){return(0,o.getDynamicOfflineDataEntries)("form")}))}},2758:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(9001),o=r(3391);const a=function(e){return"symbol"==typeof e||(0,o.Z)(e)&&"[object Symbol]"==(0,n.Z)(e)}},2237:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(187);var o=r(7885),a=r(2758),i=n.Z?n.Z.prototype:void 0,s=i?i.toString:void 0;const l=function e(t){if("string"==typeof t)return t;if((0,o.Z)(t))return function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(t,e)+"";if((0,a.Z)(t))return s?s.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},m=function(e){return null==e?"":l(e)}}}]);