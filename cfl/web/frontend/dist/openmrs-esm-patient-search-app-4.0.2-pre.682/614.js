"use strict";(self.webpackChunk_openmrs_esm_patient_search_app=self.webpackChunk_openmrs_esm_patient_search_app||[]).push([[614],{4380:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(2609),r=a.n(n)()((function(e){return e[1]}));r.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-search__compact-patient-banner__patientSearchResult___fJ6Ec{text-decoration:none;display:flex;align-items:center;border-bottom:1px solid #e0e0e0;padding:0 .75rem}.-esm-patient-search__compact-patient-banner__patientSearchResult___fJ6Ec:hover,.-esm-patient-search__compact-patient-banner__patientSearchResult___fJ6Ec:focus{background-color:#f4f4f4}.-esm-patient-search__compact-patient-banner__patientBanner___hgdKu{display:flex}.-esm-patient-search__compact-patient-banner__patientName___79ezP{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-patient-search__compact-patient-banner__patientAvatar___9gXZS{width:3rem;height:3rem;margin:.5rem 1rem .5rem 0;border-radius:1px}.-esm-patient-search__compact-patient-banner__patientInfo___VUcS\\+{width:100%;display:flex;flex-flow:column wrap;margin:1rem;cursor:pointer}.-esm-patient-search__compact-patient-banner__demographics___EcurV{margin-top:.5rem;font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252}.-esm-patient-search__compact-patient-banner__identifiers___09ANP{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#8d8d8d}.-esm-patient-search__compact-patient-banner__actionsContainer___6WCsV{padding-top:.5rem;margin-top:1rem}.-esm-patient-search__compact-patient-banner__middot___j8qmD{margin:0 .5rem}",""]),r.locals={patientSearchResult:"-esm-patient-search__compact-patient-banner__patientSearchResult___fJ6Ec",patientBanner:"-esm-patient-search__compact-patient-banner__patientBanner___hgdKu",patientName:"-esm-patient-search__compact-patient-banner__patientName___79ezP",patientAvatar:"-esm-patient-search__compact-patient-banner__patientAvatar___9gXZS",patientInfo:"-esm-patient-search__compact-patient-banner__patientInfo___VUcS+",demographics:"-esm-patient-search__compact-patient-banner__demographics___EcurV",identifiers:"-esm-patient-search__compact-patient-banner__identifiers___09ANP",actionsContainer:"-esm-patient-search__compact-patient-banner__actionsContainer___6WCsV",middot:"-esm-patient-search__compact-patient-banner__middot___j8qmD"};const i=r},486:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(2609),r=a.n(n)()((function(e){return e[1]}));r.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-search__patient-search__productiveHeading01___p1jao{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-patient-search__patient-search__productiveHeading02___ueqOP{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0)}.-esm-patient-search__patient-search__productiveHeading03___TDhi9{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0)}.-esm-patient-search__patient-search__bodyLong01___x2TG5{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-patient-search__patient-search__label01___aowKV{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-search__patient-search__bodyShort01___2I7dX{font-size:var(--cds-body-short-01-font-size, 0.875rem);font-weight:var(--cds-body-short-01-font-weight, 400);line-height:var(--cds-body-short-01-line-height, 1.28572);letter-spacing:var(--cds-body-short-01-letter-spacing, 0.16px)}.cds--side-nav{z-index:0}.-esm-patient-search__patient-search__searchResultsContainer___bANht{width:100%;background-color:#fff}.-esm-patient-search__patient-search__searchResultsContainer___bANht a{text-decoration:none;font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0);color:#525252;margin:0rem}.omrs-breakpoint-lt-desktop .-esm-patient-search__patient-search__searchResultsContainer___bANht{top:6.25rem}.omrs-breakpoint-gt-tablet .-esm-patient-search__patient-search__searchResultsContainer___bANht{padding:0;top:3rem}.-esm-patient-search__patient-search__searchResults___yW7\\+A{width:100%}.-esm-patient-search__patient-search__loadingIcon___uErcv{padding:1rem 0;display:flex;justify-content:center;align-items:center}.-esm-patient-search__patient-search__searchTerm___rQWs-{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin-top:.375rem}.-esm-patient-search__patient-search__resultsText___6bo98{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252;line-height:1rem;margin:.5rem 1rem}.-esm-patient-search__patient-search__helperText___o1KXY{color:var(--omrs-color-ink-medium-contrast);margin-left:2.375rem}.-esm-patient-search__patient-search__emptyResultText___vmru7{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:1rem;margin-bottom:.313rem}.-esm-patient-search__patient-search__actionText___Yxiou{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px);color:#525252}.-esm-patient-search__patient-search__pagination___Bct7m{display:flex;justify-content:space-evenly;padding:4.688rem 0 1.5rem}.-esm-patient-search__patient-search__emptySearchResultsTile___KHKBc{text-align:center;margin-top:1rem;padding:3rem 0rem}.omrs-breakpoint-gt-tablet .-esm-patient-search__patient-search__emptySearchResultsTile___KHKBc{margin:1rem}.-esm-patient-search__patient-search__errorMessage___TBmBd{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-top:2.25rem;margin-bottom:.5rem}.-esm-patient-search__patient-search__errorCopy___5nyXQ{margin-bottom:.5rem;font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px);color:#525252}",""]),r.locals={productiveHeading01:"-esm-patient-search__patient-search__productiveHeading01___p1jao",productiveHeading02:"-esm-patient-search__patient-search__productiveHeading02___ueqOP",productiveHeading03:"-esm-patient-search__patient-search__productiveHeading03___TDhi9",bodyLong01:"-esm-patient-search__patient-search__bodyLong01___x2TG5",label01:"-esm-patient-search__patient-search__label01___aowKV",bodyShort01:"-esm-patient-search__patient-search__bodyShort01___2I7dX",searchResultsContainer:"-esm-patient-search__patient-search__searchResultsContainer___bANht",searchResults:"-esm-patient-search__patient-search__searchResults___yW7+A",loadingIcon:"-esm-patient-search__patient-search__loadingIcon___uErcv",searchTerm:"-esm-patient-search__patient-search__searchTerm___rQWs-",resultsText:"-esm-patient-search__patient-search__resultsText___6bo98",helperText:"-esm-patient-search__patient-search__helperText___o1KXY",emptyResultText:"-esm-patient-search__patient-search__emptyResultText___vmru7",actionText:"-esm-patient-search__patient-search__actionText___Yxiou",pagination:"-esm-patient-search__patient-search__pagination___Bct7m",emptySearchResultsTile:"-esm-patient-search__patient-search__emptySearchResultsTile___KHKBc",errorMessage:"-esm-patient-search__patient-search__errorMessage___TBmBd",errorCopy:"-esm-patient-search__patient-search__errorCopy___5nyXQ"};const i=r},3614:(e,t,a)=>{a.d(t,{Z:()=>A});var n=a(5206),r=a.n(n),i=a(4924),s=a(686),c=a(6118),o=a(906),_=a(634),l=a(6062),p=a.n(l),m=a(4036),h=a.n(m),d=a(6793),g=a.n(d),u=a(7892),v=a.n(u),f=a(1173),b=a.n(f),y=a(2464),E=a.n(y),w=a(4380),N={};N.styleTagTransform=E(),N.setAttributes=v(),N.insert=g().bind(null,"head"),N.domAPI=h(),N.insertStyleElement=b(),p()(w.Z,N);const T=w.Z&&w.Z.locals?w.Z.locals:void 0;var x=function(){return r().createElement("div",{className:T.patientSearchResult},r().createElement("div",{className:T.patientAvatar,role:"img"},r().createElement(s.Cqk,{style:{height:"3rem",width:"3rem"}})),r().createElement("div",null,r().createElement("h2",{className:T.patientName},r().createElement(s.N2B,null)),r().createElement("span",{className:T.demographics},r().createElement(s.Cqk,null)," ",r().createElement("span",{className:T.middot},"·")," ",r().createElement(s.Cqk,null)," ",r().createElement("span",{className:T.middot},"·")," ",r().createElement(s.Cqk,null))))};const R=function(e){var t=e.patients,a=e.hidePanel,s=e.selectPatientAction,c=(0,o.useConfig)(),_=(0,i.useTranslation)().t,l=(0,n.useCallback)((function(e,t){e.preventDefault(),s?s(t):(0,o.navigate)({to:"".concat((0,o.interpolateString)(c.search.patientResultUrl,{patientUuid:t.uuid}),"/").concat(encodeURIComponent(c.search.redirectToPatientDashboard))}),a&&a()}),[c.search,a,s]),p=(0,n.useMemo)((function(){return t.map((function(e){var t,a,n=null===(t=e.person.addresses)||void 0===t?void 0:t.find((function(e){return e.preferred}));return{id:e.uuid,name:[{given:[e.person.personName.givenName,e.person.personName.middleName],family:e.person.personName.familyName}],gender:e.person.gender,birthDate:e.person.birthdate,deceasedDateTime:e.person.deathDate,deceasedBoolean:e.person.death,identifier:e.identifiers,address:n?[{city:n.cityVillage,country:n.country,postalCode:n.postalCode,state:n.stateProvince,use:"home"}]:[],telecom:null===(a=e.attributes)||void 0===a?void 0:a.filter((function(e){return"Telephone Number"==e.attributeType.display}))}}))}),[t]);return r().createElement(r().Fragment,null,p.map((function(e,a){var n,i,s,p,m,h,d,g,u,v,f,b;return r().createElement(o.ConfigurableLink,{onClick:function(e){return l(e,t[a])},to:"".concat((0,o.interpolateString)(c.search.patientResultUrl,{patientUuid:e.id}),"/").concat(encodeURIComponent(c.search.redirectToPatientDashboard)),key:e.id,className:T.patientSearchResult},r().createElement("div",{className:T.patientAvatar,role:"img"},r().createElement(o.ExtensionSlot,{extensionSlotName:"patient-photo-slot",state:{patientUuid:e.id,patientName:"".concat(null===(n=e.name)||void 0===n||null===(i=n[0])||void 0===i||null===(s=i.given)||void 0===s?void 0:s.join(" ")," ").concat(null===(p=e.name)||void 0===p||null===(m=p[0])||void 0===m?void 0:m.family),size:"small"}})),r().createElement("div",null,r().createElement("h2",{className:T.patientName},"".concat(null===(h=e.name)||void 0===h||null===(d=h[0])||void 0===d||null===(g=d.given)||void 0===g?void 0:g.join(" ")," ").concat(null===(u=e.name)||void 0===u||null===(v=u[0])||void 0===v?void 0:v.family)),r().createElement("p",{className:T.demographics},function(e){switch(e){case"M":return _("male","Male");case"F":return _("female","Female");case"O":return _("other","Other");case"U":return _("unknown","Unknown");default:return e}}(e.gender)," ",r().createElement("span",{className:T.middot},"·")," ",(0,o.age)(e.birthDate)," ",r().createElement("span",{className:T.middot},"·")," ",null===(f=e.identifier)||void 0===f||null===(b=f[0])||void 0===b?void 0:b.identifier)))})))};var z=a(9653),C=a(486),S={};S.styleTagTransform=E(),S.setAttributes=v(),S.insert=g().bind(null,"head"),S.domAPI=h(),S.insertStyleElement=b(),p()(C.Z,S);const k=C.Z&&C.Z.locals?C.Z.locals:void 0,A=function(e){var t=e.hidePanel,a=e.query,l=void 0===a?"":a,p=e.selectPatientAction,m=(0,i.useTranslation)().t,h=(0,o.useConfig)(),d=(0,_.qT)(l,h.includeDead,!!l),g=d.isLoading,u=d.data,v=d.fetchError,f=d.loadingNewData,b=d.setPage,y=d.hasMore,E=d.totalResults,w=(0,n.useRef)(null),N=(0,n.useCallback)((function(e){f||(w.current&&w.current.disconnect(),w.current=new IntersectionObserver((function(e){e[0].isIntersecting&&y&&b((function(e){return e+1}))}),{threshold:.75}),e&&w.current.observe(e))}),[f,y,b]);return g?r().createElement("div",{className:k.searchResultsContainer},r().createElement(x,null),r().createElement(x,null),r().createElement(x,null),r().createElement(x,null),r().createElement(x,null)):r().createElement("div",{className:k.searchResultsContainer},v?r().createElement("div",{className:k.searchResults},r().createElement(s.mh4,null,r().createElement(s.n9L,{className:k.emptySearchResultsTile},r().createElement(z.Z,null),r().createElement("div",null,r().createElement("p",{className:k.errorMessage},m("error","Error")),r().createElement("p",{className:k.errorCopy},m("errorCopy","Sorry, there was an error. You can try to reload this page, or contact the site administrator and quote the error code above.")))))):(0,c.Z)(u)?r().createElement("div",{className:k.searchResults},r().createElement(s.mh4,null,r().createElement(s.n9L,{className:k.emptySearchResultsTile},r().createElement(z.Z,null),r().createElement("p",{className:k.emptyResultText},m("noPatientChartsFoundMessage","Sorry, no patient charts have been found")),r().createElement("p",{className:k.actionText},r().createElement("span",null,m("trySearchWithPatientUniqueID","Try searching with the patient's unique ID number")),r().createElement("br",null),r().createElement("span",null,m("orPatientName","OR the patient's name(s)")))))):r().createElement("div",{className:k.searchResults,style:{maxHeight:"22rem"}},r().createElement("p",{className:k.resultsText},E," ",m("searchResultsText","search result(s)")),r().createElement(R,{hidePanel:t,patients:u,selectPatientAction:p}),y&&r().createElement("div",{className:k.loadingIcon,ref:N},r().createElement(s.gbz,{withOverlay:!1,small:!0}))))}}}]);