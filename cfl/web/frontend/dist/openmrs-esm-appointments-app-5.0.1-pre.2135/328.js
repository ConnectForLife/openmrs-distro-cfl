"use strict";(globalThis.webpackChunk_openmrs_esm_appointments_app=globalThis.webpackChunk_openmrs_esm_appointments_app||[]).push([[328],{8447:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(272),r=n.n(a),o=n(2609),i=n.n(o)()(r());i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-appointments__appointments-form__productiveHeading01___f1B6i{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-appointments__appointments-form__productiveHeading02___FKWGW{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0)}.-esm-appointments__appointments-form__productiveHeading03___wY7wA{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-appointments__appointments-form__productiveHeading04___Uffg7{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-appointments__appointments-form__bodyLong01___yGB1p{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-appointments__appointments-form__bodyShort01___AC_3i{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-appointments__appointments-form__bodyShort02___Wlr7j{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-appointments__appointments-form__text02___RN5sR{color:#525252}.-esm-appointments__appointments-form__label01___zwrTc{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-appointments__appointments-form__modal___dByeC{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-appointments__appointments-form__formContainer___eFj89{margin:0 1rem}.-esm-appointments__appointments-form__stickyFormHeader___Knd9z{position:sticky;top:3rem;z-index:10}.-esm-appointments__appointments-form__row___kkp8W{display:flex;margin:.5rem}.-esm-appointments__appointments-form__select___AeArq{width:90%;margin-right:60%}.-esm-appointments__appointments-form__inputContainer___oAhyS{margin:1rem 0}.-esm-appointments__appointments-form__button___kM_VU{height:4rem;display:flex;align-content:flex-start;align-items:baseline;min-width:50%}.-esm-appointments__appointments-form__timePickerInput___giOkD{width:8rem}.-esm-appointments__appointments-form__datePickerInput___k31Uy{padding-bottom:1rem;margin-left:12.5rem}.-esm-appointments__appointments-form__workLoadCard___lsrdX{display:flex;margin:0 1rem;color:#525252}.-esm-appointments__appointments-form__monthlyWorkLoadCard___lT79I{color:#525252;display:flex;flex-wrap:wrap}.-esm-appointments__appointments-form__workLoadContainer___JZFqB{display:flex;flex-direction:column;background-color:#fff;padding-bottom:1rem}.-esm-appointments__appointments-form__workLoadTitle___MNLtt{padding-top:1rem;color:#525252;margin:0 1rem 1rem 1rem;font-size:var(--cds-legal-01-font-size, 0.75rem);font-weight:var(--cds-legal-01-font-weight, 400);line-height:var(--cds-legal-01-line-height, 1.33333);letter-spacing:var(--cds-legal-01-letter-spacing, 0.32px);font-weight:400}.-esm-appointments__appointments-form__input___wxHSE{width:13.5rem}.-esm-appointments__appointments-form__hide___ypOyp{display:none}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./src/appointments/forms/create-edit-form/appointments-form.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,mECs0BI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CDl0BJ,mECk0BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CD9zBJ,mEC8zBI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CD1zBJ,mEC0zBI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CDtzBJ,0DCszBI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CDlzBJ,2DCkzBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CD9yBJ,2DC8yBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CD1yBJ,sDACE,aD5BQ,CC+BV,uDCsyBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDlyBJ,qDACE,cAAA,CACA,WAAA,CACA,YAAA,CACA,YAAA,CACA,+BAAA,CACA,YAAA,CACA,oBAAA,CACA,kBAAA,CE5CF,6DACE,aAAA,CAGF,gEACE,eAAA,CACA,QCyCW,CDxCX,UAAA,CAGF,mDACE,YAAA,CACA,YCKW,CDFb,sDACE,SAAA,CACA,gBAAA,CAGF,8DACE,aAAA,CAGF,sDACE,WAAA,CACA,YAAA,CACA,wBAAA,CACA,oBAAA,CACA,aAAA,CAGF,+DACE,UAAA,CAGF,+DACE,mBAAA,CACA,mBAAA,CAGF,4DACE,YAAA,CACA,aAAA,CACA,aAAA,CAEF,mEACE,aAAA,CACA,YAAA,CACA,cAAA,CAEF,iEACE,YAAA,CACA,qBAAA,CACA,qBAAA,CACA,mBAAA,CAGF,6DACE,gBChCW,CDiCX,aAAA,CACA,uBAAA,CDywBE,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CCvwBF,eAAA,CAEF,qDACE,aAAA,CAGF,oDACE,YAAA",sourceRoot:""}]),i.locals={productiveHeading01:"-esm-appointments__appointments-form__productiveHeading01___f1B6i",productiveHeading02:"-esm-appointments__appointments-form__productiveHeading02___FKWGW",productiveHeading03:"-esm-appointments__appointments-form__productiveHeading03___wY7wA",productiveHeading04:"-esm-appointments__appointments-form__productiveHeading04___Uffg7",bodyLong01:"-esm-appointments__appointments-form__bodyLong01___yGB1p",bodyShort01:"-esm-appointments__appointments-form__bodyShort01___AC_3i",bodyShort02:"-esm-appointments__appointments-form__bodyShort02___Wlr7j",text02:"-esm-appointments__appointments-form__text02___RN5sR",label01:"-esm-appointments__appointments-form__label01___zwrTc",modal:"-esm-appointments__appointments-form__modal___dByeC",formContainer:"-esm-appointments__appointments-form__formContainer___eFj89",stickyFormHeader:"-esm-appointments__appointments-form__stickyFormHeader___Knd9z",row:"-esm-appointments__appointments-form__row___kkp8W",select:"-esm-appointments__appointments-form__select___AeArq",inputContainer:"-esm-appointments__appointments-form__inputContainer___oAhyS",button:"-esm-appointments__appointments-form__button___kM_VU",timePickerInput:"-esm-appointments__appointments-form__timePickerInput___giOkD",datePickerInput:"-esm-appointments__appointments-form__datePickerInput___k31Uy",workLoadCard:"-esm-appointments__appointments-form__workLoadCard___lsrdX",monthlyWorkLoadCard:"-esm-appointments__appointments-form__monthlyWorkLoadCard___lT79I",workLoadContainer:"-esm-appointments__appointments-form__workLoadContainer___JZFqB",workLoadTitle:"-esm-appointments__appointments-form__workLoadTitle___MNLtt",input:"-esm-appointments__appointments-form__input___wxHSE",hide:"-esm-appointments__appointments-form__hide___ypOyp"};const s=i},3860:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(272),r=n.n(a),o=n(2609),i=n.n(o)()(r());i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{padding:0;border:0;margin:0;font:inherit;font-size:100%;vertical-align:baseline}button,select,input,textarea{border-radius:0;font-family:inherit}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:\"\"}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}code{font-family:'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.28572;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.28572;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-appointments__workload__skeleton___jhMhJ{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{opacity:.3;transform:scaleX(0);transform-origin:left}}.-esm-appointments__workload__cardContainer___nHXRE{background-color:#fff;display:flex;height:6rem}.-esm-appointments__workload__tileContainer___bhF3C{padding:.5rem;flex:1;display:flex;align-items:center;justify-content:center;flex-direction:column;cursor:pointer;border:1px solid #a6c8ff}.-esm-appointments__workload__tileContainer___bhF3C:first-child{border-left-width:1px}.-esm-appointments__workload__tileContainer___bhF3C label{color:#525252}.-esm-appointments__workload__tileHeader___dHBCb{display:flex;justify-content:space-between;padding-bottom:1rem}.-esm-appointments__workload__headerLabel___PU12A{font-size:.875rem;font-weight:600;line-height:1.28572;letter-spacing:.16px;color:#525252}.-esm-appointments__workload__totalsLabel___DdXz0{font-size:.75rem;font-weight:400;line-height:1.33333;letter-spacing:.32px;color:#525252}.-esm-appointments__workload__totalsValue___J6rVn{font-size:1.75rem;font-weight:400;line-height:1.28572;letter-spacing:0;color:#161616}.-esm-appointments__workload__headerLabelContainer___vO88j{display:flex;align-items:center;height:2rem}.-esm-appointments__workload__link___sGRk_{text-decoration:none}.-esm-appointments__workload__activeWorkloadCard___uttch{background-color:#edf5ff}.-esm-appointments__workload__activeWorkloadCard___uttch label{color:#0f62fe}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./../../node_modules/carbon-components/src/globals/scss/_css--reset.scss","webpack://./../../node_modules/carbon-components/src/globals/scss/vendor/@carbon/elements/scss/type/_reset.scss","webpack://./../../node_modules/carbon-components/src/globals/scss/vendor/@carbon/elements/scss/type/_font-family.scss","webpack://./../../node_modules/carbon-components/src/globals/scss/vendor/@carbon/elements/scss/icons/mixins.scss","webpack://./../../node_modules/carbon-components/src/globals/scss/vendor/@carbon/elements/scss/type/_styles.import.scss","webpack://./../../node_modules/carbon-components/src/globals/scss/_helper-mixins.scss","webpack://./src/appointments/forms/workload.scss","webpack://./../../node_modules/carbon-components/src/globals/scss/vendor/@carbon/elements/scss/themes/generated/_mixins.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCpBE,2ZAiFE,SAAA,CACA,QAAA,CACA,QAAA,CACA,YAAA,CACA,cAAA,CACA,uBAAA,CAIF,6BAIE,eAAA,CACA,mBAAA,CAGF,4BACE,YAAA,CAIF,mFAYE,aAAA,CAGF,KACE,aAAA,CAGF,IACE,oBAAA,CAGF,IACE,kBAAA,CAGF,MAEE,eAAA,CAGF,aAEE,WAAA,CAGF,wDAIE,UAAA,CAGF,MACE,wBAAA,CACA,gBAAA,CAGF,EACE,qBAAA,CAIF,OACE,QAAA,CC3KJ,KACE,cAAA,CAGF,KC0CA,eAAA,CDvCE,gEAViB,CAWjB,iCAAA,CACA,kCAAA,CACA,iCAAA,CAGF,KACE,wGAhBiB,CAmBnB,OC6BA,eAAA,CCxDA,8CACE,IACE,eAAA,CAAA,CFkCJ,GGghBE,kBA0LsB,CA1LtB,eA0LsB,CA1LtB,iBA0LsB,CA1LtB,gBA0LsB,CHtsBxB,GG4gBE,cA0LsB,CA1LtB,eA0LsB,CA1LtB,gBA0LsB,CA1LtB,gBA0LsB,CHlsBxB,GGwgBE,iBA0LsB,CA1LtB,eA0LsB,CA1LtB,mBA0LsB,CA1LtB,gBA0LsB,CH9rBxB,GGogBE,iBA0LsB,CA1LtB,eA0LsB,CA1LtB,eA0LsB,CA1LtB,gBA0LsB,CH1rBxB,GGggBE,cA0LsB,CA1LtB,eA0LsB,CA1LtB,iBA0LsB,CA1LtB,gBA0LsB,CHtrBxB,GG4fE,iBA0LsB,CA1LtB,eA0LsB,CA1LtB,mBA0LsB,CA1LtB,oBA0LsB,CHlrBxB,EGwfE,cA0LsB,CA1LtB,eA0LsB,CA1LtB,eA0LsB,CA1LtB,gBA0LsB,CH9qBxB,EAII,aAAA,CAMJ,GACE,iBAAA,CIoHF,yDACE,GACE,UAAA,CACA,mBAAA,CACA,qBAAA,CAGF,IACE,SAAA,CACA,mBAAA,CACA,qBAAA,CAGF,IACE,mBAAA,CACA,sBAAA,CAGF,IACE,mBAAA,CACA,sBAAA,CAGF,IACE,mBAAA,CACA,sBAAA,CAGF,IACE,mBAAA,CACA,sBAAA,CAGF,IACE,mBAAA,CACA,qBAAA,CAGF,IACE,mBAAA,CACA,qBAAA,CAGF,KACE,UAAA,CACA,mBAAA,CACA,qBAAA,CAAA,CCnPN,oDACE,qBCuCQ,CDtCR,YAAA,CACA,WEyDW,CFtDb,oDACE,aAAA,CACA,MAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,qBAAA,CACA,cAAA,CACA,wBAAA,CAEA,gEACE,qBAAA,CAGF,0DACE,aGqBM,CHjBV,iDACE,YAAA,CACA,6BAAA,CACA,mBEHW,CFMb,kDF2hBI,iBA0LsB,CA1LtB,eA0LsB,CA1LtB,mBA0LsB,CA1LtB,oBA0LsB,CEntBxB,aCYU,CDTZ,kDFshBI,gBA0LsB,CA1LtB,eA0LsB,CA1LtB,mBA0LsB,CA1LtB,oBA0LsB,CE9sBxB,aCOU,CDJZ,kDFihBI,iBA0LsB,CA1LtB,eA0LsB,CA1LtB,mBA0LsB,CA1LtB,gBA0LsB,CEzsBxB,aAAA,CAGF,2DACE,YAAA,CACA,kBAAA,CACA,WC0Ma,CDvMf,2CACE,oBAAA,CAGF,yDACE,wBGnDQ,CHqDR,+DACE,aGjDM",sourceRoot:""}]),i.locals={cardContainer:"-esm-appointments__workload__cardContainer___nHXRE",tileContainer:"-esm-appointments__workload__tileContainer___bhF3C",tileHeader:"-esm-appointments__workload__tileHeader___dHBCb",headerLabel:"-esm-appointments__workload__headerLabel___PU12A",totalsLabel:"-esm-appointments__workload__totalsLabel___DdXz0",totalsValue:"-esm-appointments__workload__totalsValue___J6rVn",headerLabelContainer:"-esm-appointments__workload__headerLabelContainer___vO88j",link:"-esm-appointments__workload__link___sGRk_",activeWorkloadCard:"-esm-appointments__workload__activeWorkloadCard___uttch",skeleton:"-esm-appointments__workload__skeleton___jhMhJ"};const s=i},3244:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(272),r=n.n(a),o=n(2609),i=n.n(o)()(r());i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-appointments__patient-search__padded___UUzTu{padding:1rem}[data-extension-id=patient-search-bar]>div{width:100%}[data-extension-id=patient-search-bar]>div input{background-color:#fff;border-bottom:none;min-height:3rem}[data-extension-id=patient-search-bar]>div button{height:3rem}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-search/patient-search.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,mDACE,YC0BW,CDtBX,2CACE,UAAA,CAEA,iDACE,qBDZE,CCaF,kBAAA,CACA,eCoCO,CDjCT,kDACE,WCgCO",sourceRoot:""}]),i.locals={padded:"-esm-appointments__patient-search__padded___UUzTu"};const s=i},7202:(e,t,n)=>{n.d(t,{Z:()=>q});var a=n(268),r=n.n(a),o=n(4924),i=n(8879),s=n.n(i),l=n(3504),c=n(2870),m=n(12),u=n(1354),A=n.n(u),d=n(1583),p=n.n(d),f=n(7378),_=n.n(f),v=n(5993),C=n.n(v),h=n(4154),g=n.n(h),b=n(8141),y=n.n(b),B=n(8447),w={};w.styleTagTransform=y(),w.setAttributes=C(),w.insert=_().bind(null,"head"),w.domAPI=p(),w.insertStyleElement=g(),A()(B.Z,w);const E=B.Z&&B.Z.locals?B.Z.locals:void 0;var D=n(3255),k=n(1027),x=n(1723),F=n(4546);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var S=function(e,t,n){var a,r=(0,F.EN)(new Date(n),e),o=null!==(a=function(e,t){for(var n=new Map([]),a=0;a<=35;a++)n.set(s()(e).add(a,"day").format("YYYY-MM-DD"),0);return t.map((function(e){var t=e.date,a=e.count;n.has(t)&&n.set(t,a)})),Array.from(n).flatMap((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2);return{date:t[0],count:t[1]}}))}(new Date(n),r))&&void 0!==a?a:[];return"month"===t?o:o.slice(0,7)},T=n(3860),I={};I.styleTagTransform=y(),I.setAttributes=C(),I.insert=_().bind(null,"head"),I.domAPI=p(),I.insertStyleElement=g(),A()(T.Z,I);const M=T.Z&&T.Z.locals?T.Z.locals:void 0,O=function(e){var t=e.date,n=e.count,a=e.isActive,i=e.onClick;return(0,o.useTranslation)().t,r().createElement("div",{tabIndex:0,role:"button",onClick:i,className:"".concat(M.tileContainer,"  ").concat(a&&M.activeWorkloadCard)},r().createElement("div",{className:M.tileHeader},r().createElement("label",{className:M.headerLabel},t)),r().createElement("div",null,r().createElement("label",{className:M.totalsLabel},n)))};var U=n(6196);const G=function(e){var t=e.selectedLocation,n=e.defaultFacility,a=e.locations,i=(0,o.useTranslation)().t;return t?n&&0!==Object.keys(n).length?r().createElement(l.QlF,{key:null==n?void 0:n.uuid,text:null==n?void 0:n.display,value:null==n?void 0:n.uuid},null==n?void 0:n.display):a&&a.length>0?r().createElement(r().Fragment,null,a.map((function(e){return r().createElement(l.QlF,{key:e.uuid,text:e.display,value:e.uuid},e.display)}))):null:r().createElement(l.QlF,{text:i("selectOption","Select an option"),value:""})};function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function j(e,t,n,a,r,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){P(e,t,n[t])}))}return e}function Y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const q=function(e){var t,n=e.appointment,i=e.patientUuid,u=e.context,A=(0,o.useTranslation)().t,d=(0,c.useConfig)(),p=d.appointmentTypes,f=d.appointmentStatuses,_=d.hiddenFormFields,v=function(e,t){var n,a,r,o,i,l,m,u,A,d,p,f,_,v,C=(0,c.useSession)();return{appointmentKind:null!==(i=null==e?void 0:e.appointmentKind)&&void 0!==i?i:"Scheduled",status:null!==(l=null==e?void 0:e.status)&&void 0!==l?l:"Scheduled",serviceUuid:null!==(m=null==e?void 0:e.serviceUuid)&&void 0!==m?m:"",startDateTime:s()(new Date).format("hh:mm"),endDateTime:s()(new Date).format("hh:mm"),providers:null!==(u=null==e?void 0:e.providers)&&void 0!==u?u:[],providerUuid:null!==(A=null==e||null===(n=e.providers)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.uuid)&&void 0!==A?A:null==C||null===(r=C.currentProvider)||void 0===r?void 0:r.uuid,comments:null!==(d=null==e?void 0:e.comments)&&void 0!==d?d:"",locationUuid:null!==(p=null==e?void 0:e.location)&&void 0!==p?p:null==C||null===(o=C.sessionLocation)||void 0===o?void 0:o.uuid,frequency:"",uuid:null!==(f=null==e?void 0:e.id)&&void 0!==f?f:"",appointmentNumber:null!==(_=null==e?void 0:e.appointmentNumber)&&void 0!==_?_:"",patientUuid:null!==(v=null==e?void 0:e.patientUuid)&&void 0!==v?v:t,visitDate:(null==e?void 0:e.dateTime)?new Date(e.dateTime):new Date,timeFormat:(new Date).getHours()>=12?"PM":"AM",isFullDay:!0,day:null==e?void 0:e.dateTime}}(n,i),C=H((0,a.useState)(v),2),h=C[0],g=C[1],b=(0,c.usePatient)(null!=i?i:h.patientUuid),y=b.patient,B=b.isLoading,w=(0,c.useLocations)(),L=(0,c.useSession)(),T=(0,F.ko)().providers,I=(0,F.Su)().services,M=H((0,a.useState)(!1),2),N=M[0],P=M[1],q=(0,F.EN)(h.visitDate,h.serviceUuid),W=H((0,a.useState)(0),2),K=W[0],Z=W[1],J=S(h.serviceUuid,0===K?"week":"month",h.visitDate),Q=(0,k.zF)().currentAppointmentDate,R=H((0,a.useState)(""),2),X=R[0],V=R[1],$=(0,U.P)(),ee=$.defaultFacility,te=$.isLoading,ne=null==I?void 0:I.find((function(e){return e.uuid===h.serviceUuid}));(0,a.useEffect)((function(){var e;(null==w?void 0:w.length)&&L?V(null==L||null===(e=L.sessionLocation)||void 0===e?void 0:e.uuid):!te&&ee&&V(null==ee?void 0:ee.uuid)}),[w,L,te]);var ae,re,oe,ie=(ae=function(){var e,t,n,a,r,o;return function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(i){return e=H((0,k.A8)(h.startDateTime,h.timeFormat),2),t=e[0],n=e[1],a=(0,F.iW)(h.visitDate,t,n),r=(0,F.iW)(h.visitDate,t,n),o={appointmentKind:h.appointmentKind,status:h.status,serviceUuid:h.serviceUuid,startDateTime:s()(a).format(),endDateTime:s()(r).format(),providerUuid:h.providerUuid,providers:[{uuid:h.providerUuid}],comments:h.comments,locationUuid:h.locationUuid,patientUuid:h.patientUuid,appointmentNumber:h.appointmentNumber,uuid:h.uuid},new AbortController,P(!0),(0,F.GB)(o).then((function(e){200===e.status&&((0,c.showToast)({critical:!0,kind:"success",description:A("appointmentNowVisible","It is now visible on the Appointments page"),title:A("appointmentScheduled","Appointment scheduled")}),P(!1),(0,D.JG)("/ws/rest/v1/appointment/appointmentStatus?forDate=".concat(Q,"&status=Scheduled")),(0,D.JG)("/ws/rest/v1/appointment/appointmentStatus?forDate=".concat(Q,"&status=CheckedIn")),(0,D.JG)("/ws/rest/v1/appointment/all?forDate=".concat(Q)),(0,D.JG)("/ws/rest/v1/appointment/appointmentStatus?status=Scheduled&forDate=".concat(Q)),(0,D.JG)("/ws/rest/v1/appointment/appointmentStatus?status=Pending&forDate=".concat(Q)),(0,x.Km)())}),(function(e){(0,c.showNotification)({title:A("appointmentFormError","Error scheduling appointment"),kind:"error",critical:!0,description:null==e?void 0:e.message}),P(!1)})),[2]}))},re=function(){var e=this,t=arguments;return new Promise((function(n,a){var r=ae.apply(e,t);function o(e){j(r,n,a,o,i,"next",e)}function i(e){j(r,n,a,o,i,"throw",e)}o(void 0)}))},function(){return re.apply(this,arguments)});return r().createElement("div",{className:E.formContainer},B?r().createElement(l.N2B,null):r().createElement("div",{className:E.stickyFormHeader},r().createElement(c.ExtensionSlot,{name:"patient-header-slot",state:{patient:y,patientUuid:h.patientUuid}})),r().createElement("div",{className:E.inputContainer,id:"appointment-place"},r().createElement("p",null,A("selectAppointmentLocation","Select where the appointment will take place")),r().createElement(l.GHR,{className:E.inputContainer,"data-testid":"appointment-place"},r().createElement(l.rsf,{value:"facility",id:"facility",text:A("facility","Facility")},A("facility","Facility")),r().createElement(l.rsf,{value:"community",id:"community",text:A("community","Community")},A("community","Community")))),r().createElement(l.PhF,{labelText:A("selectLocation","Select a location"),id:"location",invalidText:"Required",value:X,defaultSelected:X,onChange:function(e){return V(e.target.value)}},r().createElement(G,{selectedLocation:X,defaultFacility:ee,locations:w})),r().createElement(l.PhF,{id:"service",invalidText:"Required",labelText:A("selectService","Select a service"),className:E.inputContainer,onChange:function(e){return g(Y(z({},h),{serviceUuid:e.target.value}))},value:h.serviceUuid},h.serviceUuid&&"--"!=h.serviceUuid?null:r().createElement(l.QlF,{text:A("chooseService","Select service"),value:""}),(null==I?void 0:I.length)>0&&I.map((function(e){return r().createElement(l.QlF,{key:e.uuid,text:e.name,value:e.uuid},e.name)}))),r().createElement("p",null,A("appointmentDateAndTime","Appointments Date and Time")),r().createElement("div",{className:E.row},r().createElement(l.ZDl,{onToggle:function(e){return g(Y(z({},h),{isFullDay:e}))},id:"allDay",labelA:"Off",labelB:"On",labelText:"All Day",defaultToggled:h.isFullDay}),r().createElement(l.Mtg,{dateFormat:"d/m/Y",datePickerType:"single",id:"visitDate",minDate:h.visitDate,className:E.datePickerInput,onChange:function(e){var t=H(e,1)[0];return g(Y(z({},h),{visitDate:t}))},value:h.visitDate},r().createElement(l.aj6,{id:"visitStartDateInput",labelText:A("date","Date"),placeholder:"dd/mm/yyyy",style:{width:"100%"}}))),h.isFullDay?null:r().createElement("div",{className:E.row},r().createElement(l.jII,{disabled:!ne,className:E.timePickerInput,pattern:"([\\d]+:[\\d]{2})",onChange:function(e){return g(Y(z({},h),{startDateTime:e.target.value}))},value:h.endDateTime,labelText:A("startTime","Start Time"),id:"start-time-picker"},r().createElement(l.M6n,{disabled:!ne,id:"start-time-picker",onChange:function(e){return g(Y(z({},h),{timeFormat:e.target.value}))},value:h.timeFormat,labelText:A("time","Time"),"aria-label":A("time","Time")},r().createElement(l.QlF,{value:"AM",text:"AM"}),r().createElement(l.QlF,{value:"PM",text:"PM"}))),r().createElement(l.jII,{disabled:!ne,className:E.timePickerInput,pattern:"([\\d]+:[\\d]{2})",onChange:function(e){return g(Y(z({},h),{endDateTime:e.target.value}))},value:h.endDateTime,labelText:A("endTime","End Time"),id:"end-time-picker"},r().createElement(l.M6n,{disabled:!ne,id:"end-time-picker",onChange:function(e){return g(Y(z({},h),{timeFormat:e.target.value}))},value:h.timeFormat,labelText:A("time","Time"),"aria-label":A("time","Time")},r().createElement(l.QlF,{value:"AM",text:"AM"}),r().createElement(l.QlF,{value:"PM",text:"PM"})))),h.serviceUuid&&r().createElement("div",{className:E.workLoadContainer},r().createElement(r().Fragment,null,r().createElement("p",{className:E.workLoadTitle},A("serviceWorkloadTitle","".concat(null==ne?void 0:ne.name," clinic work load on the week of ").concat(s()(null!==(oe=null===(t=(0,m.Z)(q))||void 0===t?void 0:t.date)&&void 0!==oe?oe:new Date).format("DD/MM")))),r().createElement(l.mQc,{selectedIndex:K,onChange:function(e){var t=e.selectedIndex;return Z(t)},className:E.tabs},r().createElement(l.tdY,{style:{paddingLeft:"1rem"}},r().createElement(l.OK9,null,A("weekly","WeeKly")),r().createElement(l.OK9,null,A("monthly","Monthly"))),r().createElement(l.nPR,null,r().createElement(l.x45,{style:{padding:0}},r().createElement("div",{className:E.workLoadCard},null==J?void 0:J.map((function(e,t){var n=e.date,a=e.count;return r().createElement(O,{onClick:function(){return g(Y(z({},h),{visitDate:new Date(n)}))},key:"".concat(n,"-").concat(t),date:s()(n).format("DD/MM"),count:a,isActive:s()(n).format("DD-MM-YYYY")===s()(h.visitDate).format("DD-MM-YYYY")})})))),r().createElement(l.x45,{style:{padding:0}},r().createElement("div",{className:E.monthlyWorkLoadCard},null==J?void 0:J.map((function(e){var t=e.date,n=e.count;return r().createElement(O,{onClick:function(){return g(Y(z({},h),{visitDate:new Date(t)}))},key:t,date:s()(t).format("DD/MM"),count:n,isActive:s()(t).format("DD-MM-YYYY")===s()(h.visitDate).format("DD-MM-YYYY")})})))))))),r().createElement(l.PhF,{id:"appointmentType",invalidText:"Required",labelText:A("selectAppointmentType","Select an appointment type"),className:E.inputContainer,onChange:function(e){return g(Y(z({},h),{appointmentKind:e.target.value}))},value:h.appointmentKind},h.appointmentKind&&"--"!=h.appointmentKind?null:r().createElement(l.QlF,{text:A("selectAppointmentType","Select an appointment type"),value:""}),(null==p?void 0:p.length)>0&&p.map((function(e){return r().createElement(l.QlF,{key:e,text:e,value:e},e)}))),"creating"!==u&&r().createElement(l.PhF,{id:"appointmentStatus",invalidText:"Required",labelText:A("selectAppointmentStatus","Select status"),className:E.inputContainer,onChange:function(e){return g(Y(z({},h),{status:e.target.value}))},value:h.status},h.status&&"--"!=h.status?null:r().createElement(l.QlF,{text:A("selectAppointmentStatus","Select status"),value:""}),(null==f?void 0:f.length)>0&&f.map((function(e){return r().createElement(l.QlF,{key:e,text:e,value:e},e)}))),r().createElement(l.PhF,{id:"providers",invalidText:"Required",labelText:A("selectProvider","Select a provider"),className:"".concat(E.inputContainer," ").concat(_.includes("providers")&&E.hide),onChange:function(e){g(Y(z({},h),{providerUuid:e.target.value}))},value:h.providerUuid},h.providerUuid?null:r().createElement(l.QlF,{text:A("chooseProvider","Select Provider"),value:""}),(null==T?void 0:T.length)>0&&T.map((function(e){return r().createElement(l.QlF,{key:e.uuid,text:e.display,value:e.uuid},e.display)}))),r().createElement("div",{className:E.inputContainer,id:"radio-group"},r().createElement("label",{className:"cds--label"},A("getAppointmentReminder","Would you like to get a reminder about this appointment?")),r().createElement(l.SYO,{defaultSelected:"No",orientation:"vertical",onChange:function(e){},name:"appointment-reminder-radio-group"},r().createElement(l.EUY,{className:E.radioButton,id:"Yes",labelText:"Yes",value:"Yes"}),r().createElement(l.EUY,{className:E.radioButton,id:"No",labelText:"No",value:"No"}))),r().createElement(l.mh4,{style:{margin:"0.25rem 0"}},r().createElement(l.Kx8,{cols:50,id:"comment",invalidText:"A valid value is required",labelText:A("comment","Comment"),placeholder:A("typeInComments","Type in appointment comment"),rows:4,value:h.comments,onChange:function(e){return g(Y(z({},h),{comments:e.target.value}))}})),r().createElement(l.uVA,null,r().createElement(l.zxk,{onClick:x.Km,className:E.button,kind:"secondary"},A("discard","Discard")),r().createElement(l.zxk,{onClick:ie,className:E.button,disabled:N||!h.serviceUuid,kind:"primary",type:"submit"},A("save","Save"))))}},4546:(e,t,n)=>{n.d(t,{EN:()=>C,GB:()=>f,Su:()=>d,iW:()=>h,ko:()=>p,v1:()=>v});var a=n(3255),r=n(2870),o=n(8879),i=n.n(o),s=n(8179),l=n(12);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function m(e,t,n,a,r,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){m(o,a,r,i,s,"next",e)}function s(e){m(o,a,r,i,s,"throw",e)}i(void 0)}))}}var A=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function d(){var e=(0,a.ZP)("/ws/rest/v1/appointmentService/all/default",r.openmrsFetch),t=e.data,n=e.error,o=e.isLoading,i=e.isValidating;return{services:t?t.data:[],isLoading:o,isError:n,isValidating:i}}function p(){var e=(0,a.ZP)("/ws/rest/v1/provider",r.openmrsFetch),t=e.data,n=e.error,o=e.isLoading;return{providers:t?t.data.results:null,isError:n,isLoading:o}}function f(e){var t=new AbortController;return(0,r.openmrsFetch)("/ws/rest/v1/appointment",{method:"POST",signal:t.signal,headers:{"Content-Type":"application/json"},body:e})}var _,v=(_=u((function(e,t){var n,a,o,l;return A(this,(function(c){switch(c.label){case 0:return n=new AbortController,a=Intl.DateTimeFormat().resolvedOptions().timeZone,o=i()(new Date).format(s.J$),l="/ws/rest/v1/appointments/".concat(t,"/status-change"),[4,(0,r.openmrsFetch)(l,{body:{toStatus:e,onDate:o,timeZone:a},method:"POST",headers:{"Content-Type":"application/json"},signal:n.signal})];case 1:return[2,c.sent()]}}))})),function(e,t){return _.apply(this,arguments)}),C=function(e,t){var n=i()(e).startOf("week").format(s.J$),o=i()(n).add(2,"week").format(s.J$),m="/ws/rest/v1/appointment/appointmentSummary?startDate=".concat(n,"&endDate=").concat(o),u=(0,a.ZP)(m,r.openmrsFetch),A=u.data,d=(u.error,(0,l.Z)(null==A?void 0:A.data.filter((function(e){return e.appointmentService.uuid===t})))),p=null==d?void 0:d.appointmentCountMap;return Object.entries(null!=p?p:[]).map((function(e){var t,n,a=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{date:a[0],count:a[1].allAppointmentsCount}})).sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}))},h=(u((function(e){return A(this,(function(t){switch(t.label){case 0:return[4,(0,r.openmrsFetch)("/ws/rest/v1/appointments/conflicts",{method:"POST",body:{patientUuid:e.patientUuid,serviceUuid:e.serviceUuid,startDateTime:e.startDateTime,endDateTime:e.endDateTime,providers:[],locationUuid:e.locationUuid,appointmentKind:e.appointmentKind},headers:{"Content-Type":"application/json"}})];case 1:return[2,t.sent()]}}))})),function(e,t,n){return i()(new Date(i()(e).year(),i()(e).month(),i()(e).date(),t,n))})},5326:(e,t,n)=>{n.d(t,{Ey:()=>A,Gd:()=>v,IF:()=>f,Nz:()=>C,aN:()=>p,bf:()=>s,c1:()=>_,df:()=>u,g9:()=>l,vN:()=>c,xj:()=>d});var a=n(2870),r=n(8879),o=n.n(r);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var s=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=null==t?void 0:t.map((function(e){var t=e.countMap;return{serviceName:e.serviceName,count:t.reduce((function(e,t){return e+t.allAppointmentsCount}),0)}}));return n.find((function(t){return t.count===(e=Math).max.apply(e,function(e){if(Array.isArray(e))return i(e)}(a=n.map((function(e){return e.count})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var a}))},l=function(e){return e.flatMap((function(e){return{serviceName:e.appointmentService.name,countMap:Object.entries(e.appointmentCountMap).flatMap((function(e){return e[1]}))}}))},c=function(e,t){return e.map((function(e){return Object.entries(e.appointmentCountMap).flatMap((function(e){return e[1][t]}))})).flat(1).reduce((function(e,t){return e+t}),0)};function m(){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0);return Math.floor(e/6e4)+"min"}var u=function(e,t){var n,r,o,i,s,l,c,u,A,d,p,f,_,v,C,h,g;return{id:null==e?void 0:e.uuid,name:null===(n=e.patient)||void 0===n?void 0:n.name,age:null===(r=e.patient)||void 0===r?void 0:r.birthDate,gender:null===(o=e.patient)||void 0===o?void 0:o.gender,phoneNumber:null===(i=e.patient)||void 0===i?void 0:i.phoneNumber,dob:(0,a.formatDate)((0,a.parseDate)(null===(s=e.patient)||void 0===s?void 0:s.birthDate),{mode:"wide"}),patientUuid:null===(l=e.patient)||void 0===l?void 0:l.uuid,dateTime:(v=(0,a.parseDate)(e.startDateTime),C=v.getHours(),h=v.getMinutes(),g=C>=12?"PM":"AM",(C=(C%=12)||12)+":"+(h=h<10?"0"+h:h)+" "+g),serviceType:e.service?e.service.name:"--",serviceColor:(null===(c=e.service)||void 0===c?void 0:c.color)?e.service.color:"__",serviceUuid:e.service?e.service.uuid:null,appointmentKind:e.appointmentKind?e.appointmentKind:"--",status:e.status,provider:e.provider?null===(u=e.provider.person)||void 0===u?void 0:u.display:"--",location:e.location?e.location.name:"--",comments:e.comments?e.comments:"--",appointmentNumber:e.appointmentNumber,color:null!==(_=null==e||null===(A=e.service)||void 0===A?void 0:A.color)&&void 0!==_?_:"",identifier:null===(d=e.patient)||void 0===d?void 0:d.identifier,duration:(null===(p=e.service)||void 0===p?void 0:p.durationMins)?(null==e||null===(f=e.service)||void 0===f?void 0:f.durationMins)+t("minutes","min"):m(e.startDateTime,e.endDateTime),recurring:e.recurring}},A=function(e){var t,n,r,o,i,s,l,c;return{id:e.uuid,name:null===(t=e.patient)||void 0===t?void 0:t.name,age:null===(n=e.patient)||void 0===n?void 0:n.birthDate,gender:null===(r=e.patient)||void 0===r?void 0:r.gender,phoneNumber:null===(o=e.patient)||void 0===o?void 0:o.phoneNumber,dob:(0,a.formatDate)((0,a.parseDate)(null===(i=e.patient)||void 0===i?void 0:i.birthDate),{mode:"wide"}),patientUuid:null===(s=e.patient)||void 0===s?void 0:s.uuid,dateTime:e.startDateTime,serviceType:e.service?e.service.name:"--",serviceUuid:e.service?e.service.uuid:null,appointmentKind:e.appointmentKind?e.appointmentKind:"--",status:e.status,provider:e.providers?null===(l=null==e?void 0:e.providers[0])||void 0===l?void 0:l.name:"--",location:e.location?null===(c=e.location)||void 0===c?void 0:c.name:"--",comments:e.comments?e.comments:"--",appointmentNumber:e.appointmentNumber,providers:e.providers,identifier:e.patient.identifier}},d=function(e,t){return e.isSame(t,"month")},p=function(e){for(var t=o()(e).startOf("month"),n=o()(e).endOf("month"),a=o()(e).daysInMonth(),r=o()(e).subtract(1,"month"),i=o()(e).add(1,"month"),s=[],l=r.daysInMonth()-t.day();l<r.daysInMonth();l++)s.push(e.date(l).month(r.month()));for(var c=1;c<=a;c++)s.push(e.date(c));for(var m=s.length>30?7:14,u=1;u<m-n.day();u++)s.push(e.date(u).month(i.month()));return s},f=function(e,t){switch(e){case"M":return t("male","Male");case"F":return t("female","Female");case"O":return t("other","Other");case"U":return t("unknown","Unknown");default:return e}},_=function(e){for(var t=[],n=0;n<1;n++)for(var a=0;a<8;a++)t.push(o()(e).day(0===a?0:a-1).hour(n));return t},v=function(e){for(var t=[],n=0;n<24;n++)for(var a=0;a<8;a++)t.push(o()(e).day(0===a?0:a-1).hour(n));return t},C=function(e){for(var t=[],n=0;n<24;n++)t.push(o()(e).hour(n));return t}},1027:(e,t,n)=>{n.d(t,{es:()=>p,A8:()=>u,Nz:()=>a.Nz,g9:()=>a.g9,Ey:()=>a.Ey,IF:()=>a.IF,bf:()=>a.bf,vN:()=>a.vN,xj:()=>a.xj,df:()=>a.df,zF:()=>f,Gd:()=>a.Gd,c1:()=>a.c1});var a=n(5326),r=n(2870),o=n(8879),i=n.n(o),s=n(268),l=n(8179);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=function(e,t){var n=m(null==e?void 0:e.split(":"),2),a=n[0],r=n[1];return"12"===a&&"AM"===t&&(a="00"),"PM"===t&&(a="12"===a?a:parseInt(a,10)+12),[a,r]},A={appointmentDate:i()((new Date).setHours(0,0,0,0)).format(l.J$)};function d(){return(0,r.getGlobalStore)("appointmentStartDate",A)}function p(e){d().setState({appointmentDate:i()(new Date(e).setHours(0,0,0,0)).format(l.J$)})}var f=function(){var e=m((0,s.useState)(A.appointmentDate),2),t=e[0],n=e[1];return(0,s.useEffect)((function(){d().subscribe((function(e){var t=e.appointmentDate;return n(t.toString())}))}),[]),{currentAppointmentDate:t,setCurrentAppointmentDate:n}}},6196:(e,t,n)=>{n.d(t,{P:()=>o});var a=n(2870),r=n(2303),o=function(){var e=(0,a.useConfig)().defaultFacilityUrl,t=(0,r.Z)(e,a.openmrsFetch),n=t.data,o=t.error,i=t.isLoading;return{defaultFacility:n?null==n?void 0:n.data:null,isLoading:i,isError:o}}},1723:(e,t,n)=>{n.d(t,{I8:()=>l,Ir:()=>m,Km:()=>c});var a=n(2870),r=n(268);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var i={isOverlayOpen:!1,header:""},s=function(){return(0,a.getGlobalStore)("appointment-store",i)},l=function(e,t){s().setState({isOverlayOpen:!0,component:t,header:e})},c=function(){s().setState({component:null,isOverlayOpen:!1})},m=function(){var e,t,n=(e=(0,r.useState)(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=n[0],i=n[1],l=(0,r.useCallback)((function(e){i(e)}),[]);(0,r.useEffect)((function(){l(s().getState()),s().subscribe(l)}),[l]);var c=null!=a?a:{};return{isOverlayOpen:c.isOverlayOpen,component:c.component,header:c.header}}},328:(e,t,n)=>{n.d(t,{Z:()=>w});var a=n(268),r=n.n(a),o=n(2870),i=n(1354),s=n.n(i),l=n(1583),c=n.n(l),m=n(7378),u=n.n(m),A=n(5993),d=n.n(A),p=n(4154),f=n.n(p),_=n(8141),v=n.n(_),C=n(3244),h={};h.styleTagTransform=v(),h.setAttributes=d(),h.insert=u().bind(null,"head"),h.domAPI=c(),h.insertStyleElement=f(),s()(C.Z,h);const g=C.Z&&C.Z.locals?C.Z.locals:void 0;var b=n(1723),y=n(4924),B=n(7202);const w=function(){var e=(0,y.useTranslation)().t;return r().createElement("div",{className:"omrs-main-content"},r().createElement("span",{className:g.searchBarWrapper},r().createElement(o.ExtensionSlot,{name:"patient-search-bar-slot",state:{selectPatientAction:function(t){(0,b.Km)(),(0,b.I8)(e("appointmentForm","Create Appointment"),r().createElement(B.Z,{patientUuid:t.uuid,context:"creating"}))},buttonProps:{kind:"primary"}}})))}}}]);