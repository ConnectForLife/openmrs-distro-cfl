"use strict";(self.webpackChunk_openmrs_esm_patient_registration_app=self.webpackChunk_openmrs_esm_patient_registration_app||[]).push([[925],{61098:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(82609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".-esm-patient-registration__field__productiveHeading02___0\\+2Gm{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.-esm-patient-registration__field__productiveHeading02Light___bbKeq{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem;color:#525252}.-esm-patient-registration__field__label01___6YyKZ{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.-esm-patient-registration__field__grid___g21pQ{display:grid;grid-template-columns:1fr 1fr;column-gap:1rem}.-esm-patient-registration__field__halfWidthInDesktopView___J9cO8{width:calc(50% - 1rem)}.-esm-patient-registration__field__patientPhoto___9mWMr{display:flex;justify-content:center}.-esm-patient-registration__field__nameField___uPmod{grid-row:1;grid-column:1}.-esm-patient-registration__field__nameField___uPmod>.bx--content-switcher{display:grid;grid-template-columns:1fr 1fr;width:max-content;justify-content:flex-start}.-esm-patient-registration__field__contentSwitcher___G7dTq{margin-bottom:1rem}.-esm-patient-registration__field__dobField___P6SHd>.bx--content-switcher{display:grid;grid-template-columns:1fr 1fr;width:max-content;justify-content:flex-start}.-esm-patient-registration__field__photoExtension___IqCnX{margin-bottom:1rem;grid-row:1;grid-column:2;justify-self:center}.-esm-patient-registration__field__sexField___F8TIv,.-esm-patient-registration__field__dobField___P6SHd{margin-bottom:1rem}.-esm-patient-registration__field__dobContentSwitcherLabel___vW\\+UB{margin-bottom:.5rem}.-esm-patient-registration__field__identifierLabelText___bdyJF{display:flex;align-items:center}.-esm-patient-registration__field__setIDNumberButton___XziAX{margin-bottom:1rem}.-esm-patient-registration__field__setIDNumberButton___XziAX>svg{margin-left:.5rem}.-esm-patient-registration__field__customField___40yP4{margin-bottom:1rem}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__grid___g21pQ{grid-template-columns:1fr;grid-template-rows:auto auto}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__nameField___uPmod{grid-row:2;grid-column:1}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__photoExtension___IqCnX{grid-column:1;grid-row:1;justify-self:start}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__radioButton___d7GuU label{height:3rem !important}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__halfWidthInDesktopView___J9cO8{width:100%}.-esm-patient-registration__field__radioFieldError___LyxW0{color:#da1e28;display:block;font-weight:400;max-height:12.5rem;overflow:visible;font-size:.75rem;letter-spacing:.32px;line-height:1.34;margin:.25rem 0 0}",""]),i.locals={productiveHeading02:"-esm-patient-registration__field__productiveHeading02___0+2Gm",productiveHeading02Light:"-esm-patient-registration__field__productiveHeading02Light___bbKeq",label01:"-esm-patient-registration__field__label01___6YyKZ",grid:"-esm-patient-registration__field__grid___g21pQ",halfWidthInDesktopView:"-esm-patient-registration__field__halfWidthInDesktopView___J9cO8",patientPhoto:"-esm-patient-registration__field__patientPhoto___9mWMr",nameField:"-esm-patient-registration__field__nameField___uPmod",contentSwitcher:"-esm-patient-registration__field__contentSwitcher___G7dTq",dobField:"-esm-patient-registration__field__dobField___P6SHd",photoExtension:"-esm-patient-registration__field__photoExtension___IqCnX",sexField:"-esm-patient-registration__field__sexField___F8TIv",dobContentSwitcherLabel:"-esm-patient-registration__field__dobContentSwitcherLabel___vW+UB",identifierLabelText:"-esm-patient-registration__field__identifierLabelText___bdyJF",setIDNumberButton:"-esm-patient-registration__field__setIDNumberButton___XziAX",customField:"-esm-patient-registration__field__customField___40yP4",radioButton:"-esm-patient-registration__field__radioButton___d7GuU",radioFieldError:"-esm-patient-registration__field__radioFieldError___LyxW0"};const a=i},3433:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(82609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__identifier-selection__title___fPIy3{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__identifier-selection__submit___WgYnV{width:250px}.-esm-patient-registration__identifier-selection__submit___WgYnV:hover{cursor:pointer}.-esm-patient-registration__identifier-selection__cancelButton___ar-za{width:11.688rem}.-esm-patient-registration__identifier-selection__submitButton___mJgTx{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__identifier-selection__infoGrid___5ovdR{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__identifier-selection__label01___sm7Rq{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px;margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__identifier-selection__productiveHeading02___aocJ0{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;color:#8d8d8d;cursor:pointer}.-esm-patient-registration__identifier-selection__space05___pbxiU{margin:1rem 0 1rem 0}.-esm-patient-registration__identifier-selection__formContainer___XacnD{display:flex;width:100%}.-esm-patient-registration__identifier-selection__stickyColumn___H9Wbn{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__identifier-selection__touchTarget___heOv2 a:active{color:#161616}.-esm-patient-registration__identifier-selection__linkName___oKi4d{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__identifier-selection__linkName___oKi4d:active{text-decoration:none;color:#161616}.-esm-patient-registration__identifier-selection__linkName___oKi4d:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__identifier-selection__main___s9KQc{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__identifier-selection__infoGrid___5ovdR{max-width:unset}.-esm-patient-registration__identifier-selection__overlayButtons___frh9W{display:grid;grid-template-columns:1fr 1fr}.-esm-patient-registration__identifier-selection__overlayButtons___frh9W button{max-width:unset}.-esm-patient-registration__identifier-selection__radioGroup___n\\+7PW{background-color:#f4f4f4;padding:1rem}.-esm-patient-registration__identifier-selection__radioButton___yaoFj{margin:0 !important}.-esm-patient-registration__identifier-selection__radioButton___yaoFj label{height:2rem}.omrs-breakpoint-lt-desktop .-esm-patient-registration__identifier-selection__radioButton___yaoFj label{height:3rem !important}",""]),i.locals={title:"-esm-patient-registration__identifier-selection__title___fPIy3",submit:"-esm-patient-registration__identifier-selection__submit___WgYnV",cancelButton:"-esm-patient-registration__identifier-selection__cancelButton___ar-za",submitButton:"-esm-patient-registration__identifier-selection__submitButton___mJgTx",infoGrid:"-esm-patient-registration__identifier-selection__infoGrid___5ovdR",label01:"-esm-patient-registration__identifier-selection__label01___sm7Rq",productiveHeading02:"-esm-patient-registration__identifier-selection__productiveHeading02___aocJ0",space05:"-esm-patient-registration__identifier-selection__space05___pbxiU",formContainer:"-esm-patient-registration__identifier-selection__formContainer___XacnD",stickyColumn:"-esm-patient-registration__identifier-selection__stickyColumn___H9Wbn",touchTarget:"-esm-patient-registration__identifier-selection__touchTarget___heOv2",linkName:"-esm-patient-registration__identifier-selection__linkName___oKi4d",main:"-esm-patient-registration__identifier-selection__main___s9KQc",overlayButtons:"-esm-patient-registration__identifier-selection__overlayButtons___frh9W",radioGroup:"-esm-patient-registration__identifier-selection__radioGroup___n+7PW",radioButton:"-esm-patient-registration__identifier-selection__radioButton___yaoFj"};const a=i},11662:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(82609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__autosuggest__label01___f95oj{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.-esm-patient-registration__autosuggest__suggestions___v5o3w{position:relative;border-top-width:0;list-style:none;margin-top:0;max-height:143px;overflow-y:auto;padding-left:0;width:100%;position:absolute;left:0;background-color:#fff;margin-bottom:20px;z-index:99}.-esm-patient-registration__autosuggest__suggestions___v5o3w li{padding:1rem;line-height:1.29;color:#525252;border-bottom:1px solid #8d8d8d}.-esm-patient-registration__autosuggest__suggestions___v5o3w li:hover{background-color:#e5e5e5;color:#161616;cursor:pointer}.-esm-patient-registration__autosuggest__suggestions___v5o3w li:not(:last-of-type){border-bottom:1px solid #999}.-esm-patient-registration__autosuggest__autocomplete___it56z{position:relative}.-esm-patient-registration__autosuggest__autocompleteSearch___sc5fh{width:100%}.-esm-patient-registration__autosuggest__suggestions___v5o3w a{color:inherit;text-decoration:none}",""]),i.locals={label01:"-esm-patient-registration__autosuggest__label01___f95oj",suggestions:"-esm-patient-registration__autosuggest__suggestions___v5o3w",autocomplete:"-esm-patient-registration__autosuggest__autocomplete___it56z",autocompleteSearch:"-esm-patient-registration__autosuggest__autocompleteSearch___sc5fh"};const a=i},4939:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(82609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__input__title___4PKlg{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__input__submit___mloB4{width:250px}.-esm-patient-registration__input__submit___mloB4:hover{cursor:pointer}.-esm-patient-registration__input__cancelButton___blAcs{width:11.688rem}.-esm-patient-registration__input__submitButton___SofD2{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__input__infoGrid___xohlq{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__input__label01___fwQQq{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px;margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__input__productiveHeading02___7pE9K{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;color:#8d8d8d;cursor:pointer}.-esm-patient-registration__input__space05___9oNC\\+{margin:1rem 0 1rem 0}.-esm-patient-registration__input__formContainer___YE8UP{display:flex;width:100%}.-esm-patient-registration__input__stickyColumn___KQudo{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__input__touchTarget___lFvgc a:active{color:#161616}.-esm-patient-registration__input__linkName___C8vKy{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__input__linkName___C8vKy:active{text-decoration:none;color:#161616}.-esm-patient-registration__input__linkName___C8vKy:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__input__main___rng6t{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__input__infoGrid___xohlq{max-width:unset}.-esm-patient-registration__input__fieldRow___5TD7U{display:flex;flex-direction:row;justify-content:flex-start;flex-wrap:wrap}.-esm-patient-registration__input__subFieldRow___zGAH4{margin-bottom:5px}.-esm-patient-registration__input__label___65tRW{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px;color:#525252}.-esm-patient-registration__input__textID___F\\+F-t{margin-bottom:1rem}.-esm-patient-registration__input__requiredField___x0TVf{color:#da1e28}.-esm-patient-registration__input__input___JYX4d{margin-right:5px}.-esm-patient-registration__input__checkboxField___gmx7u{display:flex;flex-direction:row;justify-content:flex-start;width:400px;margin-left:10px}.-esm-patient-registration__input__textInput___QJYjz{width:250px !important;height:40px !important}.-esm-patient-registration__input__numberInput___IGlx4{width:200px !important;height:40px !important}.-esm-patient-registration__input__checkboxInput___IVRIk{height:1.5rem !important;width:1.5rem !important;margin-top:8px}.-esm-patient-registration__input__selectInput___yrzZ-{width:150px !important;height:40px !important}.-esm-patient-registration__input__dateInput___2shrY{width:200px !important;height:40px !important;font-size:large !important}.-esm-patient-registration__input__telInput___HxQe3{width:250px !important;height:40px !important}.-esm-patient-registration__input__errorInput___aW2qL{border:2px solid #da1e28 !important;padding-left:.875rem !important}.-esm-patient-registration__input__errorMessage___cbdW2{color:#da1e28;align-self:center}.-esm-patient-registration__input__dummyData___GFQGF{cursor:pointer;margin-left:5px}.-esm-patient-registration__input__IDInput___6B3\\+s{display:grid;grid-template-columns:1fr auto;align-items:center;max-width:27rem}.-esm-patient-registration__input__trashCan___usc53{color:#da1e28}.omrs-breakpoint-lt-desktop .-esm-patient-registration__input__IDInput___6B3\\+s{max-width:unset;width:100%}.-esm-patient-registration__input__dangerLabel01___sb6Np{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px;color:#da1e28}",""]),i.locals={title:"-esm-patient-registration__input__title___4PKlg",submit:"-esm-patient-registration__input__submit___mloB4",cancelButton:"-esm-patient-registration__input__cancelButton___blAcs",submitButton:"-esm-patient-registration__input__submitButton___SofD2",infoGrid:"-esm-patient-registration__input__infoGrid___xohlq",label01:"-esm-patient-registration__input__label01___fwQQq",productiveHeading02:"-esm-patient-registration__input__productiveHeading02___7pE9K",space05:"-esm-patient-registration__input__space05___9oNC+",formContainer:"-esm-patient-registration__input__formContainer___YE8UP",stickyColumn:"-esm-patient-registration__input__stickyColumn___KQudo",touchTarget:"-esm-patient-registration__input__touchTarget___lFvgc",linkName:"-esm-patient-registration__input__linkName___C8vKy",main:"-esm-patient-registration__input__main___rng6t",fieldRow:"-esm-patient-registration__input__fieldRow___5TD7U",subFieldRow:"-esm-patient-registration__input__subFieldRow___zGAH4",label:"-esm-patient-registration__input__label___65tRW",textID:"-esm-patient-registration__input__textID___F+F-t",requiredField:"-esm-patient-registration__input__requiredField___x0TVf",input:"-esm-patient-registration__input__input___JYX4d",checkboxField:"-esm-patient-registration__input__checkboxField___gmx7u",textInput:"-esm-patient-registration__input__textInput___QJYjz",numberInput:"-esm-patient-registration__input__numberInput___IGlx4",checkboxInput:"-esm-patient-registration__input__checkboxInput___IVRIk",selectInput:"-esm-patient-registration__input__selectInput___yrzZ-",dateInput:"-esm-patient-registration__input__dateInput___2shrY",telInput:"-esm-patient-registration__input__telInput___HxQe3",errorInput:"-esm-patient-registration__input__errorInput___aW2qL",errorMessage:"-esm-patient-registration__input__errorMessage___cbdW2",dummyData:"-esm-patient-registration__input__dummyData___GFQGF",IDInput:"-esm-patient-registration__input__IDInput___6B3+s",trashCan:"-esm-patient-registration__input__trashCan___usc53",dangerLabel01:"-esm-patient-registration__input__dangerLabel01___sb6Np"};const a=i},51093:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(82609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__patient-registration__title___d6s20{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__patient-registration__submit___S6frc{width:250px}.-esm-patient-registration__patient-registration__submit___S6frc:hover{cursor:pointer}.-esm-patient-registration__patient-registration__cancelButton___2-E\\+5{width:11.688rem}.-esm-patient-registration__patient-registration__submitButton___Ps1do{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__patient-registration__infoGrid___2S1kw{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__patient-registration__label01___CxOgi{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px;margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__patient-registration__productiveHeading02___mBDux{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;color:#8d8d8d;cursor:pointer}.-esm-patient-registration__patient-registration__space05___\\+IJfn{margin:1rem 0 1rem 0}.-esm-patient-registration__patient-registration__formContainer___ydkLz{display:flex;width:100%}.-esm-patient-registration__patient-registration__stickyColumn___2G55G{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__patient-registration__touchTarget___KxfOv a:active{color:#161616}.-esm-patient-registration__patient-registration__linkName___Ukv7z{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__patient-registration__linkName___Ukv7z:active{text-decoration:none;color:#161616}.-esm-patient-registration__patient-registration__linkName___Ukv7z:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__patient-registration__main___eiIwY{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__patient-registration__infoGrid___2S1kw{max-width:unset}",""]),i.locals={title:"-esm-patient-registration__patient-registration__title___d6s20",submit:"-esm-patient-registration__patient-registration__submit___S6frc",cancelButton:"-esm-patient-registration__patient-registration__cancelButton___2-E+5",submitButton:"-esm-patient-registration__patient-registration__submitButton___Ps1do",infoGrid:"-esm-patient-registration__patient-registration__infoGrid___2S1kw",label01:"-esm-patient-registration__patient-registration__label01___CxOgi",productiveHeading02:"-esm-patient-registration__patient-registration__productiveHeading02___mBDux",space05:"-esm-patient-registration__patient-registration__space05___+IJfn",formContainer:"-esm-patient-registration__patient-registration__formContainer___ydkLz",stickyColumn:"-esm-patient-registration__patient-registration__stickyColumn___2G55G",touchTarget:"-esm-patient-registration__patient-registration__touchTarget___KxfOv",linkName:"-esm-patient-registration__patient-registration__linkName___Ukv7z",main:"-esm-patient-registration__patient-registration__main___eiIwY"};const a=i},80138:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(82609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__relationships__title___zOYZm{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__relationships__submit___kNlmu{width:250px}.-esm-patient-registration__relationships__submit___kNlmu:hover{cursor:pointer}.-esm-patient-registration__relationships__cancelButton___cFt6p{width:11.688rem}.-esm-patient-registration__relationships__submitButton___CW8X\\+{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__relationships__infoGrid___9dg84{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__relationships__label01___TYH\\+i{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px;margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__relationships__productiveHeading02___PuSkg{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;color:#8d8d8d;cursor:pointer}.-esm-patient-registration__relationships__space05___gWnMG{margin:1rem 0 1rem 0}.-esm-patient-registration__relationships__formContainer___U91DX{display:flex;width:100%}.-esm-patient-registration__relationships__stickyColumn___2cbAk{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__relationships__touchTarget___chVrk a:active{color:#161616}.-esm-patient-registration__relationships__linkName___M6KoQ{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__relationships__linkName___M6KoQ:active{text-decoration:none;color:#161616}.-esm-patient-registration__relationships__linkName___M6KoQ:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__relationships__main___G8ux-{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__relationships__infoGrid___9dg84{max-width:unset}.-esm-patient-registration__relationships__labelText___hTuhj{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.-esm-patient-registration__relationships__bodyShort02___hfBao{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.-esm-patient-registration__relationships__searchBox___xY0Yt{margin-bottom:1rem}.-esm-patient-registration__relationships__relationshipHeader___2w\\+Ew{display:flex;align-items:center}.-esm-patient-registration__relationships__productiveHeading___IiVgd{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;color:#525252}.-esm-patient-registration__relationships__trashCan___nBYrg{color:#da1e28 !important}.omrs-breakpoint-lt-desktop .-esm-patient-registration__relationships__relationshipHeader___2w\\+Ew{justify-content:space-between}",""]),i.locals={title:"-esm-patient-registration__relationships__title___zOYZm",submit:"-esm-patient-registration__relationships__submit___kNlmu",cancelButton:"-esm-patient-registration__relationships__cancelButton___cFt6p",submitButton:"-esm-patient-registration__relationships__submitButton___CW8X+",infoGrid:"-esm-patient-registration__relationships__infoGrid___9dg84",label01:"-esm-patient-registration__relationships__label01___TYH+i",productiveHeading02:"-esm-patient-registration__relationships__productiveHeading02___PuSkg",space05:"-esm-patient-registration__relationships__space05___gWnMG",formContainer:"-esm-patient-registration__relationships__formContainer___U91DX",stickyColumn:"-esm-patient-registration__relationships__stickyColumn___2cbAk",touchTarget:"-esm-patient-registration__relationships__touchTarget___chVrk",linkName:"-esm-patient-registration__relationships__linkName___M6KoQ",main:"-esm-patient-registration__relationships__main___G8ux-",labelText:"-esm-patient-registration__relationships__labelText___hTuhj",bodyShort02:"-esm-patient-registration__relationships__bodyShort02___hfBao",searchBox:"-esm-patient-registration__relationships__searchBox___xY0Yt",relationshipHeader:"-esm-patient-registration__relationships__relationshipHeader___2w+Ew",productiveHeading:"-esm-patient-registration__relationships__productiveHeading___IiVgd",trashCan:"-esm-patient-registration__relationships__trashCan___nBYrg"};const a=i},62936:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(82609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__section__title___WE522{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__section__submit___ZCyMT{width:250px}.-esm-patient-registration__section__submit___ZCyMT:hover{cursor:pointer}.-esm-patient-registration__section__cancelButton___BtWcr{width:11.688rem}.-esm-patient-registration__section__submitButton___SX3tz{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__section__infoGrid___m6EFv{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__section__label01___SB4dO{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px;margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__section__productiveHeading02___0Qr6X{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;color:#8d8d8d;cursor:pointer}.-esm-patient-registration__section__space05___\\+I97l{margin:1rem 0 1rem 0}.-esm-patient-registration__section__formContainer___bUz8M{display:flex;width:100%}.-esm-patient-registration__section__stickyColumn___e3QEm{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__section__touchTarget___ubpCE a:active{color:#161616}.-esm-patient-registration__section__linkName___NOqjy{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__section__linkName___NOqjy:active{text-decoration:none;color:#161616}.-esm-patient-registration__section__linkName___NOqjy:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__section__main___3eHUo{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__section__infoGrid___m6EFv{max-width:unset}",""]),i.locals={title:"-esm-patient-registration__section__title___WE522",submit:"-esm-patient-registration__section__submit___ZCyMT",cancelButton:"-esm-patient-registration__section__cancelButton___BtWcr",submitButton:"-esm-patient-registration__section__submitButton___SX3tz",infoGrid:"-esm-patient-registration__section__infoGrid___m6EFv",label01:"-esm-patient-registration__section__label01___SB4dO",productiveHeading02:"-esm-patient-registration__section__productiveHeading02___0Qr6X",space05:"-esm-patient-registration__section__space05___+I97l",formContainer:"-esm-patient-registration__section__formContainer___bUz8M",stickyColumn:"-esm-patient-registration__section__stickyColumn___e3QEm",touchTarget:"-esm-patient-registration__section__touchTarget___ubpCE",linkName:"-esm-patient-registration__section__linkName___NOqjy",main:"-esm-patient-registration__section__main___3eHUo"};const a=i},17857:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(82609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__overlay__title___ovEFv{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__overlay__submit___MEU04{width:250px}.-esm-patient-registration__overlay__submit___MEU04:hover{cursor:pointer}.-esm-patient-registration__overlay__cancelButton___Kuq8k{width:11.688rem}.-esm-patient-registration__overlay__submitButton___koip2{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__overlay__infoGrid___IR-lJ{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__overlay__label01___UFjWe{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px;margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__overlay__productiveHeading02___0-7g8{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;color:#8d8d8d;cursor:pointer}.-esm-patient-registration__overlay__space05___3-aCf{margin:1rem 0 1rem 0}.-esm-patient-registration__overlay__formContainer___0etfN{display:flex;width:100%}.-esm-patient-registration__overlay__stickyColumn___ZAq3J{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__overlay__touchTarget___eSQ3o a:active{color:#161616}.-esm-patient-registration__overlay__linkName___Kol4j{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__overlay__linkName___Kol4j:active{text-decoration:none;color:#161616}.-esm-patient-registration__overlay__linkName___Kol4j:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__overlay__main___pCgsu{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__overlay__infoGrid___IR-lJ{max-width:unset}.-esm-patient-registration__overlay__desktopOverlay___pTy0O{position:fixed;top:3rem;right:0;height:calc(100vh - 3rem);min-width:27rem;background-color:#fff;border-left:1px solid #a8a8a8;overflow:hidden;display:grid;grid-template-rows:auto 1fr auto;z-index:999}.-esm-patient-registration__overlay__tabletOverlay___\\+CQze{position:fixed;top:0;bottom:0;left:0;right:0;z-index:9999;background-color:#fff;overflow:hidden;padding-top:3rem;display:grid;grid-template-rows:1fr auto}.-esm-patient-registration__overlay__tabletOverlayHeader___omtl4 button{background-color:#005d5d !important}.-esm-patient-registration__overlay__tabletOverlayHeader___omtl4 .-esm-patient-registration__overlay__headerContent___S7vPL{color:#fff}.-esm-patient-registration__overlay__desktopHeader___X3NCa{display:flex;justify-content:space-between;align-items:center;background-color:#e0e0e0;border-bottom:1px solid #a8a8a8}.-esm-patient-registration__overlay__headerContent___S7vPL{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;padding:0 1rem;color:#161616}.-esm-patient-registration__overlay__closeButton___8Pcw1{background-color:#fff}.-esm-patient-registration__overlay__overlayContent___9V2UN{padding:1rem;overflow-y:auto}.-esm-patient-registration__overlay__buttonsGroup___5b3bz{align-self:end}.-esm-patient-registration__overlay__buttonsGroup___5b3bz button{max-width:unset !important}",""]),i.locals={title:"-esm-patient-registration__overlay__title___ovEFv",submit:"-esm-patient-registration__overlay__submit___MEU04",cancelButton:"-esm-patient-registration__overlay__cancelButton___Kuq8k",submitButton:"-esm-patient-registration__overlay__submitButton___koip2",infoGrid:"-esm-patient-registration__overlay__infoGrid___IR-lJ",label01:"-esm-patient-registration__overlay__label01___UFjWe",productiveHeading02:"-esm-patient-registration__overlay__productiveHeading02___0-7g8",space05:"-esm-patient-registration__overlay__space05___3-aCf",formContainer:"-esm-patient-registration__overlay__formContainer___0etfN",stickyColumn:"-esm-patient-registration__overlay__stickyColumn___ZAq3J",touchTarget:"-esm-patient-registration__overlay__touchTarget___eSQ3o",linkName:"-esm-patient-registration__overlay__linkName___Kol4j",main:"-esm-patient-registration__overlay__main___pCgsu",desktopOverlay:"-esm-patient-registration__overlay__desktopOverlay___pTy0O",tabletOverlay:"-esm-patient-registration__overlay__tabletOverlay___+CQze",tabletOverlayHeader:"-esm-patient-registration__overlay__tabletOverlayHeader___omtl4",headerContent:"-esm-patient-registration__overlay__headerContent___S7vPL",desktopHeader:"-esm-patient-registration__overlay__desktopHeader___X3NCa",closeButton:"-esm-patient-registration__overlay__closeButton___8Pcw1",overlayContent:"-esm-patient-registration__overlay__overlayContent___9V2UN",buttonsGroup:"-esm-patient-registration__overlay__buttonsGroup___5b3bz"};const a=i},70925:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Dn});var r=n(9902),i=n.n(r),a=n(79575),o=n(59542),l=n(707),s=n(93066),u=n(86279),c=n(25047),_=n.n(c),d=n(69686),m=n(73277),p=n(57030),f=n(54924);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const h=function(e){var t,n,i=e.when,o=e.redirect,l=(0,a.useHistory)(),u=(0,f.useTranslation)().t,c=(0,r.useRef)(!1),_=(t=(0,r.useState)(),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=_[0],m=_[1],p=d||o,h=(0,r.useCallback)((function(e){var t=u("discardModalBody","The changes you made to this patient's details have not been saved. Discard changes?");return e.preventDefault(),e.returnValue=t,t}),[]),v=(0,r.useCallback)((function(e){if(!e.detail.navigationIsCanceled&&!c.current){c.current=!0,e.detail.cancelNavigation();var t=(0,s.showModal)("cancel-patient-edit-modal",{onConfirm:function(){m(e.detail.newUrl),t()}},(function(){c.current=!1}))}}),[]);return(0,r.useEffect)((function(){if(i&&void 0===p)return window.addEventListener("single-spa:before-routing-event",v),window.addEventListener("beforeunload",h),function(){window.removeEventListener("beforeunload",h),window.removeEventListener("single-spa:before-routing-event",v)}}),[p,i,h,v]),(0,r.useEffect)((function(){"string"==typeof p&&l.push("/".concat(function(e){var t;return null===(t=e.split(window.getOpenmrsSpaBase()))||void 0===t?void 0:t[1]}(p)))}),[p]),null};var v=n(46062),y=n.n(v),b=n(44036),w=n.n(b),E=n(96793),x=n.n(E),k=n(17892),T=n.n(k),O=n(11173),S=n.n(O),N=n(42464),I=n.n(N),C=n(51093),j={};j.styleTagTransform=I(),j.setAttributes=T(),j.insert=x().bind(null,"head"),j.domAPI=w(),j.insertStyleElement=S(),y()(C.Z,j);const P=C.Z&&C.Z.locals?C.Z.locals:void 0;var A=n(37065),D=n(74653),F=n(34519),Z=n.n(F),B=D.Ry({givenName:D.Z_().required("givenNameRequired"),familyName:D.Z_().required("familyNameRequired"),additionalGivenName:D.Z_().when("addNameInLocalLanguage",{is:!0,then:D.Z_().required("givenNameRequired"),otherwise:D.Z_().notRequired()}),additionalFamilyName:D.Z_().when("addNameInLocalLanguage",{is:!0,then:D.Z_().required("familyNameRequired"),otherwise:D.Z_().notRequired()}),gender:D.Z_().oneOf(["Male","Female","Other","Unknown"],"genderUnspecified").required("genderRequired"),birthdate:D.hT().when("birthdateEstimated",{is:!1,then:D.hT().required("birthdayRequired").max(Date(),"birthdayNotInTheFuture").nullable(),otherwise:D.hT().nullable()}),yearsEstimated:D.Rx().when("birthdateEstimated",{is:!0,then:D.Rx().required("yearsEstimateRequired").min(0,"negativeYears"),otherwise:D.Rx().nullable()}),monthsEstimated:D.Rx().min(0,"negativeMonths"),deathDate:D.hT().max(Date(),"deathdayNotInTheFuture").nullable(),email:D.Z_().optional().email("invalidEmail"),identifiers:D.Vo((function(e){return D.Ry(Z()(e,(function(){return D.Ry({required:D.Xg(),identifierValue:D.Z_().when("required",{is:!0,then:D.Z_().required("identifierValueRequired"),otherwise:D.Z_().notRequired()})})})))}))}),L=(0,r.createContext)(void 0),U=n(23076),V=n(97117),M=n(9571),R=n(4939),G={};G.styleTagTransform=I(),G.setAttributes=T(),G.insert=x().bind(null,"head"),G.domAPI=w(),G.insertStyleElement=S(),y()(R.Z,G);const H=R.Z&&R.Z.locals?R.Z.locals:void 0;var q={patientUuid:(0,M.Z)(),givenName:"John",middleName:"",familyName:"Smith",unidentifiedPatient:!1,additionalGivenName:"Joey",additionalMiddleName:"",additionalFamilyName:"Smitty",addNameInLocalLanguage:!0,gender:"Male",birthdate:new Date(2020,1,1),yearsEstimated:1,monthsEstimated:2,birthdateEstimated:!0,telephoneNumber:"0800001066",address1:"Bom Jesus Street",address2:"",cityVillage:"Recife",stateProvince:"Pernambuco",country:"Brazil",postalCode:"50030-310",isDead:!1,deathDate:"",deathCause:"",relationships:[],identifiers:{}},z=function(e){var t=e.setValues;return i().createElement("main",null,i().createElement("button",{onClick:function(){return t(q)},className:"omrs-btn omrs-filled-neutral ".concat(H.dummyData),type:"button","aria-label":"Dummy Data Input"},"Input Dummy Data"))},W=n(72777),Y=n(11525);function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Q(e,t,n[t])}))}return e}function X(e,t,n){var r,i,a;return null!==(a=null===(i=null===(r=n.querySelector(t))||void 0===r?void 0:r.querySelector("[name=".concat(e,"]")))||void 0===i?void 0:i.getAttribute("value"))&&void 0!==a?a:null}function J(){(0,s.navigate)({to:"".concat(window.spaBase,"/home")})}function ee(e){var t,n={},r=null===(t=e.address)||void 0===t?void 0:t[0];if(r){var i=!0,a=!1,o=void 0;try{for(var l,s=Object.keys(r)[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value;switch(u){case"city":n.cityVillage=r[u];break;case"state":n.stateProvince=r[u];break;case"district":n.countyDistrict=r[u];break;case"extension":r[u].forEach((function(e){e.extension.forEach((function(e){n[e.url.split("#")[1]]=e.valueString}))}));break;default:"country"!==u&&"postalCode"!==u||(n[u]=r[u])}}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}return n}function te(e){var t,n=e.name[0],r=e.name[1],i=null===(t=e.address)||void 0===t?void 0:t[0];return $({preferredNameUuid:null==n?void 0:n.id,additionalNameUuid:null==r?void 0:r.id,preferredAddressUuid:null==i?void 0:i.id},e.identifier.map((function(e){return Q({},(0,W.Z)(e.system||e.type.text),{uuid:e.id,value:e.value})})))}function ne(e){var t={};return e.telecom&&(t.phone=e.telecom[0].value),t}var re=n(49857),ie=n(8179);function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function le(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){oe(a,r,i,o,l,"next",e)}function l(e){oe(a,r,i,o,l,"throw",e)}o(void 0)}))}}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){se(e,t,n[t])}))}return e}function ce(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e){return me.apply(this,arguments)}function me(){return(me=le(_().mark((function e(t){var n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.getSynchronizationItems)(ie.Kt);case 2:return n=e.sent,e.abrupt("return",n.find((function(e){return e._patientRegistrationData.formValues.patientUuid===t})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pe=n(70225),fe=n(44187),ge=n(61098),he={};he.styleTagTransform=I(),he.setAttributes=T(),he.insert=x().bind(null,"head"),he.domAPI=w(),he.insertStyleElement=S(),y()(ge.Z,he);const ve=ge.Z&&ge.Z.locals?ge.Z.locals:void 0;var ye=n(57367);function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(){return we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}var Ee=function(e){var t,n,a=e.checkWarning,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["checkWarning"]),l=(t=(0,A.U$)(o.name),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=l[0],u=l[1],c=(0,f.useTranslation)().t,_=s.value||"",d=u.error&&c(u.error),m=(0,r.useMemo)((function(){if(!d&&"function"==typeof a){var e=a(_);return e&&c(e)}}),[a,d,_,c]);return i().createElement("div",{style:{marginBottom:"1rem"}},i().createElement(ye.Z,we({},o,s,{invalid:!(!u.touched||!u.error),invalidText:d,warn:!!m,warnText:m,value:_})))},xe=function(){var e=(0,f.useTranslation)().t;return i().createElement("div",null,i().createElement(Ee,{id:"phone",name:"attributes.14d4f066-15f5-102d-96e4-000c29c2a5d7",labelText:e("phoneNumberInputLabelText","Phone number (optional)"),light:!0}))},ke=function(){var e=(0,f.useTranslation)().t;return i().createElement("div",null,i().createElement("h4",{className:ve.productiveHeading02Light},e("phoneEmailLabelText","Phone, Email, etc.")),i().createElement("div",{className:ve.grid},i().createElement(xe,null),i().createElement(Ee,{id:"email",name:"attributes.ac7d7773-fe9f-11ec-8b9b-0242ac1b0002",labelText:e("emailLabelText","Email"),light:!0})))},Te=n(76228),Oe=n(28953);function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ne=/^([^0-9]*)$/;function Ie(e){if(!Ne.test(e))return"numberInNameDubious"}var Ce=function(){var e,t,n=(0,f.useTranslation)().t,a=(0,r.useContext)(L),o=a.setCapturePhotoProps,l=a.currentPhoto,u=a.setFieldValue,c=(0,s.useConfig)().fieldConfigurations,_=null==c?void 0:c.name,d=!(e=(0,A.U$)("unidentifiedPatient"),t=1,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].value,m=(0,r.useCallback)((function(e,t){o&&o({imageData:e,dateTime:t})}),[o]);return i().createElement("div",null,i().createElement("h4",{className:ve.productiveHeading02Light},n("fullNameLabelText","Full Name")),i().createElement("div",{className:ve.grid},i().createElement(s.ExtensionSlot,{className:ve.photoExtension,extensionSlotName:"capture-patient-photo-slot",state:{onCapturePhoto:m,initialState:l}}),i().createElement("div",{className:ve.nameField},i().createElement("div",{className:ve.dobContentSwitcherLabel},i().createElement("span",{className:ve.label01},n("patientNameKnown","Patient's Name is Known?"))),i().createElement(Te.Z,{className:ve.contentSwitcher,onChange:function(e){"known"===e.name?(u("givenName",""),u("familyName",""),u("unidentifiedPatient",!1)):(u("givenName",_.defaultUnknownGivenName),u("familyName",_.defaultUnknownFamilyName),u("unidentifiedPatient",!0))}},i().createElement(Oe.Z,{name:"known",text:n("yes","Yes")}),i().createElement(Oe.Z,{name:"unknown",text:n("no","No")})),d&&i().createElement(i().Fragment,null,i().createElement(Ee,{id:"givenName",name:"givenName",labelText:n("givenNameLabelText","First Name"),light:!0,checkWarning:Ie}),_.displayMiddleName&&i().createElement(Ee,{id:"middleName",name:"middleName",labelText:n("middleNameLabelText","Middle Name (optional)"),light:!0,checkWarning:Ie}),i().createElement(Ee,{id:"familyName",name:"familyName",labelText:n("familyNameLabelText","Family Name"),light:!0,checkWarning:Ie})))))},je=n(18769),Pe=n(56086);function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var De=function(){var e,t,n=(0,f.useTranslation)().t,a=(e=(0,A.U$)("gender"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],l=a[1],s=(0,r.useContext)(L).setFieldValue;return i().createElement("div",{className:ve.halfWidthInDesktopView},i().createElement("h4",{className:ve.productiveHeading02Light},n("sexFieldLabelText","Sex")),i().createElement("div",{className:ve.sexField},i().createElement("p",{className:"bx--label"},n("genderLabelText","Sex")),i().createElement(je.Z,{name:"gender",orientation:"vertical",onChange:function(e){s("gender",e)},valueSelected:o.value},i().createElement(Pe.Z,{id:"male",labelText:n("maleLabelText","Male"),value:"Male"}),i().createElement(Pe.Z,{id:"female",labelText:n("femaleLabelText","Female"),value:"Female"}),i().createElement(Pe.Z,{id:"other",labelText:n("otherLabelText","Other"),value:"Other"}),i().createElement(Pe.Z,{id:"unknown",labelText:n("unknownLabelText","Unknown"),value:"Unknown"})),l.touched&&l.error&&i().createElement("div",{className:ve.radioFieldError},n(l.error,"Gender is required"))))},Fe=n(618),Ze=n(55791),Be=n(90195);function Le(e){return Ue(e)&&!e.identifierSources.some((function(e){var t,n;return!(null===(t=e.autoGenerationOption)||void 0===t?void 0:t.manualEntryEnabled)&&(null===(n=e.autoGenerationOption)||void 0===n?void 0:n.automaticGenerationEnabled)}))}function Ue(e){return"UNIQUE"===e.uniquenessBehavior||"LOCATION"===e.uniquenessBehavior}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(){return Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(this,arguments)}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Me(e,t,n[t])}))}return e}function He(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qe=function(e){var t=e.patientIdentifier,n=e.fieldName,a=(0,r.useContext)(u.Cg).identifierTypes,o=(0,r.useContext)(L),l=o.isOffline,c=o.values,_=(0,r.useMemo)((function(){return a.find((function(e){return e.uuid===t.identifierTypeUuid}))}),[t,a]),d=t.autoGeneration,m=t.initialValue,g=t.identifierValue,h=t.identifierName,v=t.required,y=He((0,r.useState)(d||m===g),2),b=y[0],w=y[1],E="identifiers.".concat(n,".identifierValue"),x=He((0,A.U$)(E),2),k=x[0],T=x[1],O=i().useContext(L).setFieldValue,S=(0,f.useTranslation)().t,N=l&&Le(_),I=(0,s.useConfig)().defaultPatientIdentifierTypes,C=(0,r.useMemo)((function(){var e={};return null==I||I.forEach((function(t){e[t]=!0})),e}),[I]),j=(0,r.useCallback)((function(){var e,r;w(!0),O("identifiers.".concat(n),(e=Ge({},t),r=null!=(r={identifierValue:m,selectedSource:null,autoGeneration:!1})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})),e))}),[m,w]);return i().createElement("div",{className:H.IDInput},d||b?i().createElement("div",{className:H.textID},i().createElement("p",{className:H.label},h),i().createElement("p",{className:H.bodyShort02},d?S("autoGeneratedPlaceholderText","Auto-generated"):g),i().createElement("input",Re({type:"hidden"},k,{disabled:!0})),!(!T.touched||!T.error)&&i().createElement("span",{className:H.dangerLabel01},T.error&&S(T.error))):i().createElement(Ee,Re({id:E,light:!0,labelText:h,name:E,disabled:N,required:v,invalid:!(!T.touched||!T.error),invalidText:T.error&&S(T.error)},k)),i().createElement("div",null,!t.required&&t.initialValue&&b&&i().createElement(p.Z,{kind:"ghost",onClick:function(){var e;w(!1),O("identifiers.".concat(n),Ge({},t,ft(null==_||null===(e=_.identifierSources)||void 0===e?void 0:e[0],m,m)))},iconDescription:S("editIdentifierTooltip","Edit"),disabled:N,hasIconOnly:!0},i().createElement(Fe.dr6,null)),m&&m!==g&&i().createElement(p.Z,{kind:"ghost",onClick:j,iconDescription:S("resetIdentifierTooltip","Reset"),disabled:N,hasIconOnly:!0},i().createElement(Ze.Wet,null)),!t.required&&!C[t.identifierTypeUuid]&&i().createElement(s.UserHasAccess,{privilege:"coreapps.systemAdministration"},i().createElement(p.Z,{kind:"danger--ghost",onClick:function(){if(m)var e=(0,s.showModal)("delete-identifier-confirmation-modal",{deleteIdentifier:function(t){t&&O("identifiers",ht(c.identifiers,n)),e()},identifierName:h,initialValue:m});else O("identifiers",ht(c.identifiers,n))},iconDescription:S("deleteIdentifierTooltip","Delete"),disabled:N,hasIconOnly:!0},i().createElement(Be.XqF,null)))))},ze=n(5787),We=n(44673),Ye=n(3433),Ke={};Ke.styleTagTransform=I(),Ke.setAttributes=T(),Ke.insert=x().bind(null,"head"),Ke.domAPI=w(),Ke.insertStyleElement=S(),y()(Ye.Z,Ke);const Qe=Ye.Z&&Ye.Z.locals?Ye.Z.locals:void 0;var $e=n(14868),Xe=n(55380),Je=n(98358),et=n(83342),tt=n(17857),nt={};nt.styleTagTransform=I(),nt.setAttributes=T(),nt.insert=x().bind(null,"head"),nt.domAPI=w(),nt.insertStyleElement=S(),y()(tt.Z,nt);const rt=tt.Z&&tt.Z.locals?tt.Z.locals:void 0,it=function(e){var t=e.close,n=e.children,r=e.header,a=e.buttonsGroup,o="desktop"===(0,s.useLayoutType)();return i().createElement("div",{className:o?rt.desktopOverlay:rt.tabletOverlay},o?i().createElement("div",{className:rt.desktopHeader},i().createElement("div",{className:rt.headerContent},r),i().createElement(p.Z,{className:rt.closeButton,onClick:t,kind:"ghost",hasIconOnly:!0},i().createElement(Je.PcV,null))):i().createElement(et.Z,{className:rt.tabletOverlayHeader},i().createElement(p.Z,{onClick:t,hasIconOnly:!0},i().createElement(We._V8,{onClick:t})),i().createElement("div",{className:rt.headerContent},r)),i().createElement("div",{className:rt.overlayContent},n),i().createElement("div",{className:rt.buttonsGroup},a))};function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ot(e,t,n[t])}))}return e}function st(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const ct=function(e){var t,n=e.closeOverlay,a=e.setFieldValue,o=(0,r.useContext)(u.Cg).identifierTypes,l=(0,r.useContext)(L),c=l.isOffline,_=l.values,d=l.initialFormValues,m=ut((0,r.useState)(_.identifiers),2),g=m[0],h=m[1],v=ut((0,r.useState)(""),2),y=v[0],b=v[1],w=(0,f.useTranslation)().t,E=(0,s.useConfig)().defaultPatientIdentifierTypes,x=(0,r.useMemo)((function(){var e={};return null==E||E.forEach((function(t){e[t]=!0})),e}),[E]);(0,r.useEffect)((function(){h(_.identifiers)}),[_.identifiers]);var k=(0,r.useCallback)((function(e){var n;return b(null!==(t=null==e||null===(n=e.target)||void 0===n?void 0:n.value)&&void 0!==t?t:"")}),[]),T=(0,r.useMemo)((function(){return null==o?void 0:o.filter((function(e){var t;return null==e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase())}))}),[g,y]),O=function(e,t){return h((function(n){var r,i;return t?st(lt({},n),ot({},e.fieldName,gt(e,null!==(i=null!==(r=_.identifiers[e.fieldName])&&void 0!==r?r:d.identifiers[e.fieldName])&&void 0!==i?i:{}))):n[e.fieldName]?Object.fromEntries(Object.entries(n).filter((function(t){return ut(t,1)[0]!==e.fieldName}))):n}))},S=function(e,t){return h((function(n){return st(lt({},n),ot({},e.fieldName,lt({},n[e.fieldName],ft(e.identifierSources.find((function(e){return e.uuid===t})),n[e.fieldName].identifierValue,n[e.fieldName].initialValue))))}))},N=(0,r.useMemo)((function(){return T.map((function(e){var t,n,r=g[e.fieldName],a=e.isPrimary||e.required||x[e.uuid]||_.identifiers[e.fieldName],o=c&&Le(e);return i().createElement("div",{key:e.uuid,className:Qe.space05},i().createElement($e.Z,{id:e.uuid,value:e.uuid,labelText:e.name,onChange:function(t){return O(e,t)},checked:!!r,disabled:a||c&&o}),r&&(null==e||null===(t=e.identifierSources)||void 0===t?void 0:t.length)>0&&(!r.initialValue||(null==r?void 0:r.selectedSource))&&i().createElement("div",{className:Qe.radioGroup},i().createElement(je.Z,{legendText:w("source","Source"),name:"".concat(null==e?void 0:e.fieldName,"-identifier-sources"),defaultSelected:null==r||null===(n=r.selectedSource)||void 0===n?void 0:n.uuid,onChange:function(t){return S(e,t)},orientation:"vertical"},null==e?void 0:e.identifierSources.map((function(t){var n;return i().createElement(Pe.Z,{key:t.uuid,labelText:t.name,name:t.uuid,value:t.uuid,className:Qe.radioButton,disabled:c&&Ue(e)&&(null===(n=t.autoGenerationOption)||void 0===n?void 0:n.manualEntryEnabled)})})))))}))}),[T,_.identifiers,x,c,Le,Ue,O,g,S]),I=(0,r.useCallback)((function(){a("identifiers",g),n()}),[g,a]);return i().createElement(it,{close:n,header:w("configureIdentifiers","Configure identifiers"),buttonsGroup:i().createElement("div",{className:Qe.overlayButtons},i().createElement(p.Z,{kind:"secondary",size:"lg",onClick:n},w("cancel","Cancel")),i().createElement(p.Z,{kind:"primary",size:"lg",onClick:I},w("configureIdentifiers","Configure identifiers")))},i().createElement("div",null,i().createElement("p",{className:Qe.bodyLong02},w("IDInstructions","Select the identifiers you'd like to add for this patient:")),o.length>7&&i().createElement("div",{className:Qe.space05},i().createElement(Xe.Z,{labelText:w("searchIdentifierPlaceholder","Search identifier"),placeholder:w("searchIdentifierPlaceholder","Search identifier"),onChange:k,value:y})),i().createElement("fieldset",null,N)))};function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){dt(e,t,n[t])}))}return e}function pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_t(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t,n){var r,i=null==e||null===(r=e.autoGenerationOption)||void 0===r?void 0:r.automaticGenerationEnabled;return{selectedSource:e,autoGeneration:i,identifierValue:i?"auto-generated":"auto-generated"!==t?t:n}}function gt(e,t){var n,r,i;return mt({identifierTypeUuid:e.uuid,identifierName:e.name,preferred:e.isPrimary,initialValue:"",required:e.isPrimary||e.required},t,ft(null!==(r=null==t?void 0:t.selectedSource)&&void 0!==r?r:null===(n=e.identifierSources)||void 0===n?void 0:n[0],null==t?void 0:t.identifierValue,null!==(i=null==t?void 0:t.initialValue)&&void 0!==i?i:""))}function ht(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){return pt(e,1)[0]!==t})))}var vt=function(){var e=(0,r.useContext)(u.Cg).identifierTypes,t=!e,n=(0,r.useContext)(L),a=n.values,o=n.setFieldValue,l=n.initialFormValues,c=(0,f.useTranslation)().t,_="desktop"===(0,s.useLayoutType)(),d=pt((0,r.useState)(!1),2),m=d[0],g=d[1],h=(0,s.useConfig)().defaultPatientIdentifierTypes;return(0,r.useEffect)((function(){if(e){var t={};e.filter((function(e){return e.isPrimary||e.required||!!(null==h?void 0:h.find((function(t){return t===e.uuid})))})).filter((function(e){return!a.identifiers[e.fieldName]})).forEach((function(e){var n,r;t[e.fieldName]=gt(e,null!==(r=null!==(n=a.identifiers[e.uuid])&&void 0!==n?n:l.identifiers[e.uuid])&&void 0!==r?r:{})})),Object.keys(t).length&&o("identifiers",mt({},a.identifiers,t))}}),[e,o,gt,h,a.identifiers]),t?i().createElement("div",{className:ve.halfWidthInDesktopView},i().createElement("div",{className:ve.identifierLabelText},i().createElement("h4",{className:ve.productiveHeading02Light},c("idFieldLabelText","Identifiers"))),i().createElement(ze.Z,null)):i().createElement("div",{className:ve.halfWidthInDesktopView},i().createElement(s.UserHasAccess,{privilege:"coreapps.systemAdministration"},i().createElement("div",{className:ve.identifierLabelText},i().createElement("h4",{className:ve.productiveHeading02Light},c("idFieldLabelText","Identifiers")),i().createElement(p.Z,{kind:"ghost",className:ve.setIDNumberButton,onClick:function(){return g(!0)},size:_?"sm":"md"},c("configure","Configure")," ",i().createElement(We.i9_,null)))),i().createElement("div",null,Object.entries(a.identifiers).map((function(e){var t=pt(e,2),n=t[0],r=t[1];return i().createElement(qe,{key:n,fieldName:n,patientIdentifier:r})})),m&&i().createElement(ct,{setFieldValue:o,closeOverlay:function(){return g(!1)}})))},yt=n(6642),bt=n(86194);function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Et(){return Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Et.apply(this,arguments)}function xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var kt=function(e,t){var n=new Date,r=new Date(n.getFullYear()-e,n.getMonth()-t,1),i=new Date(r.getFullYear(),r.getMonth()+1,0).getDate();return new Date(r.getFullYear(),r.getMonth(),Math.min(n.getDate(),i))},Tt=function(){var e,t,n=(0,f.useTranslation)().t,a=!xt((0,A.U$)("birthdateEstimated"),1)[0].value,o=xt((0,A.U$)("birthdate"),2),l=o[0],s=o[1],u=xt((0,A.U$)("yearsEstimated"),2),c=u[0],_=u[1],d=xt((0,A.U$)("monthsEstimated"),2),m=d[0],p=d[1],g=(0,r.useContext)(L).setFieldValue,h=(t="/",{parse:function(n){var r=n.split(t),i=new Date(null);return e.forEach((function(e,t){switch(e){case"d":i.setDate(parseInt(r[t]));break;case"m":i.setMonth(parseInt(r[t])-1);break;case"Y":i.setFullYear(parseInt(r[t]))}})),i},format:function(n){if(null===n)return"";if(i=n,null!=(a=Date)&&"undefined"!=typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](i):i instanceof a){var r=[];return e.forEach((function(e,t){switch(e){case"d":r[t]=n.getDate();break;case"m":r[t]=n.getMonth()+1;break;case"Y":r[t]=n.getFullYear()}})),r.join(t)}return n;var i,a},placeHolder:(e=["d","m","Y"]).map((function(e){return"Y"===e?"YYYY":e+e})).join(t),dateFormat:e.join(t)}),v=h.format,y=h.placeHolder,b=h.dateFormat,w=new Date;return i().createElement("div",{className:ve.halfWidthInDesktopView},i().createElement("h4",{className:ve.productiveHeading02Light},n("birthFieldLabelText","Birth")),i().createElement("div",{className:ve.dobField},i().createElement("div",{className:ve.dobContentSwitcherLabel},i().createElement("span",{className:ve.label01},n("dobToggleLabelText","Date of Birth Known?"))),i().createElement(Te.Z,{onChange:function(e){g("birthdateEstimated","unknown"===e.name),g("birthdate",""),g("yearsEstimated",""),g("monthsEstimated","")}},i().createElement(Oe.Z,{name:"known",text:n("yes","Yes")}),i().createElement(Oe.Z,{name:"unknown",text:n("no","No")}))),a?i().createElement("div",{className:ve.dobField},i().createElement(yt.Z,{dateFormat:b,datePickerType:"single",light:!0,onChange:function(e){var t=xt(e,1)[0];g("birthdate",t)},maxDate:v(w)},i().createElement(bt.Z,Et({id:"birthdate"},l,{placeholder:y,labelText:n("dateOfBirthLabelText","Date of Birth"),invalid:!(!s.touched||!s.error),invalidText:s.error&&n(s.error),value:v(l.value)})))):i().createElement("div",{className:ve.grid},i().createElement(ye.Z,{id:"yearsEstimated",type:"number",light:!0,onChange:function(e){var t=+e.target.value;!isNaN(t)&&t<140&&t>=0&&(g("yearsEstimated",t),g("birthdate",kt(t,p.value)))},labelText:n("estimatedYearsLabelText","Estimated Years"),invalid:!(!_.touched||!_.error),invalidText:_.error&&n(_.error),value:c.value,min:0}),i().createElement(ye.Z,{id:"monthsEstimated",type:"number",light:!0,onChange:function(e){var t=+e.target.value;!isNaN(t)&&t<=11&&t>=0&&(g("monthsEstimated",t),g("birthdate",kt(_.value,t)))},labelText:n("estimatedMonthsLabelText","Estimated Months"),invalid:!(!p.touched||!p.error),invalidText:p.error&&n(p.error),value:m.value,min:0})))},Ot=n(25223),St=n(52810),Nt=n(85067),It=n(2303);function Ct(e){var t,n="string"==typeof e&&""!==e,r=(0,It.Z)(n?"/ws/rest/v1/concept/".concat(e):null,s.openmrsFetch),i=r.data,a=r.error;return a&&(0,s.showToast)({title:a.name,description:a.message,kind:"error"}),{data:null==i||null===(t=i.data)||void 0===t?void 0:t.answers,isLoading:!i&&!a}}function jt(){return jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jt.apply(this,arguments)}function Pt(e){var t=e.fieldDefinition,n=function(e){var t="string"==typeof e&&""!==e,n=(0,It.Z)(t?"/ws/rest/v1/concept/".concat(e):null,s.openmrsFetch),r=n.data,i=n.error;return i&&(0,s.showToast)({title:i.name,description:i.message,kind:"error"}),{data:null==r?void 0:r.data,isLoading:!r&&!i}}(t.uuid),r=n.data,a=n.isLoading;if(!(0,s.useConfig)().registrationObs.encounterTypeUuid)return console.error("The registration form has been configured to have obs fields, but no registration encounter type has been configured. Obs fields will not be displayed."),null;if(a)return null;switch(r.datatype.display){case"Text":return i().createElement(At,{concept:r,validationRegex:t.validation.matches,label:t.label});case"Numeric":return i().createElement(Dt,{concept:r,label:t.label});case"Coded":return i().createElement(Ft,{concept:r,answerConceptSetUuid:t.answerConceptSetUuid,label:t.label});default:return i().createElement(Ot.K0,{kind:"error",title:"Error"},'Concept has unknown datatype "',r.datatype.display,'"')}}function At(e){var t=e.concept,n=e.validationRegex,r=e.label,a=(0,f.useTranslation)().t,o="obs.".concat(t.uuid);return i().createElement("div",{className:"".concat(ve.customField," ").concat(ve.halfWidthInDesktopView)},i().createElement(A.gN,{name:o,validate:function(e){if(e&&n&&""!==n&&"string"==typeof n&&""!==e)return new RegExp(n).test(e)?void 0:a("invalidInput","Invalid Input")}},(function(e){var n=e.field,a=e.form,l=a.touched,s=a.errors;return e.meta,i().createElement(Ee,jt({id:o,labelText:null!=r?r:t.display,light:!0,invalid:s[o]&&l[o]},n))})))}function Dt(e){var t=e.concept,n=e.label,r=((0,f.useTranslation)().t,"obs.".concat(t.uuid));return i().createElement("div",{className:"".concat(ve.customField," ").concat(ve.halfWidthInDesktopView)},i().createElement(A.gN,{name:r},(function(e){var a=e.field,o=e.form,l=o.touched,s=o.errors;return e.meta,i().createElement(Ee,jt({id:r,labelText:null!=n?n:t.display,light:!0,invalid:s[r]&&l[r],type:"number"},a))})))}function Ft(e){var t,n=e.concept,r=e.answerConceptSetUuid,a=e.label,o=(0,s.useConfig)(),l=Ct(null!=r?r:n.uuid),u=l.data,c=l.isLoading,_="obs.".concat(n.uuid),d=null==o||null===(t=o.fieldDefinitions)||void 0===t?void 0:t.filter((function(e){return"obs"===e.type&&e.uuid===n.uuid}))[0];return i().createElement("div",{className:"".concat(ve.customField," ").concat(ve.halfWidthInDesktopView)},c?null:i().createElement(A.gN,{name:_},(function(e){var t,r=e.field,o=e.form,l=o.touched,s=o.errors;return e.meta,(null==d||null===(t=d.customConceptAnswers)||void 0===t?void 0:t.length)?i().createElement(St.Z,jt({id:_,name:_,labelText:null!=a?a:null==n?void 0:n.display,light:!0,invalid:s[_]&&l[_]},r),i().createElement(Nt.Z,{key:"no-answer-select-item-".concat(_),value:"",text:""}),null==d?void 0:d.customConceptAnswers.map((function(e){return i().createElement(Nt.Z,{key:e.uuid,value:e.uuid,text:e.label})}))):i().createElement(St.Z,jt({id:_,name:_,labelText:null!=a?a:null==n?void 0:n.display,light:!0,invalid:s[_]&&l[_]},r),i().createElement(Nt.Z,{key:"no-answer-select-item-".concat(_),value:"",text:""}),u.map((function(e){return i().createElement(Nt.Z,{key:e.uuid,value:e.uuid,text:e.display})})))})))}function Zt(e){var t=e.personAttributeType,n=e.answerConceptSetUuid,r=e.label,a=Ct(n),o=a.data,l=a.isLoading;return i().createElement("div",{className:"".concat(ve.customField," ").concat(ve.halfWidthInDesktopView)},!l&&(null==o?void 0:o.length)?i().createElement(St.Z,{id:"person-attribute-".concat(t.uuid),name:"attributes.".concat(t.uuid),labelText:null!=r?r:null==t?void 0:t.display,light:!0},i().createElement(Nt.Z,{value:"",text:""}),o.map((function(e){return i().createElement(Nt.Z,{key:e.uuid,value:e.uuid,text:e.display})}))):i().createElement(Ee,{id:"person-attribute-".concat(t.uuid),labelText:null!=r?r:null==t?void 0:t.display,name:"attributes.".concat(t.uuid),light:!0}))}function Bt(){return Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bt.apply(this,arguments)}function Lt(e){var t=e.personAttributeType,n=e.validationRegex,r=e.label,a=(0,f.useTranslation)().t,o="attributes.".concat(t.uuid);return i().createElement("div",{className:"".concat(ve.customField," ").concat(ve.halfWidthInDesktopView)},i().createElement(A.gN,{name:o,validate:function(e){if(e&&n&&""!==n&&"string"==typeof n&&""!==e)return new RegExp(n).test(e)?void 0:a("invalidInput","Invalid Input")}},(function(e){var n=e.field,a=e.form,l=a.touched,s=a.errors;return e.meta,i().createElement(Ee,Bt({id:"person-attribute-".concat(t.uuid),labelText:null!=r?r:null==t?void 0:t.display,light:!0,invalid:s[o]&&l[o]},n))})))}function Ut(e){var t=e.fieldDefinition,n=function(e){var t=(0,It.Z)("/ws/rest/v1/personattributetype/".concat(e),s.openmrsFetch),n=t.data,r=t.error;return r&&(0,s.showToast)({title:r.name,description:r.message,kind:"error"}),{data:null==n?void 0:n.data,isLoading:!n&&!r}}(t.uuid),r=n.data;if(n.isLoading)return null;switch(r.format){case"java.lang.String":return i().createElement(Lt,{personAttributeType:r,validationRegex:t.validation.matches,label:t.label});case"org.openmrs.Concept":return i().createElement(Zt,{personAttributeType:r,answerConceptSetUuid:t.answerConceptSetUuid,label:t.label});default:return i().createElement(Ot.K0,{kind:"error",title:"Error"},'Patient attribute type has unknown format "',r.format,'"')}}function Vt(e){var t=e.name,n=(0,s.useConfig)().fieldDefinitions.filter((function(e){return e.id==t}))[0];return"person attribute"===n.type?i().createElement(Ut,{fieldDefinition:n}):"obs"===n.type?i().createElement(Pt,{fieldDefinition:n}):i().createElement("div",null,"Error: Unknown field type ",n.type)}var Mt=n(14424);function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gt(){return Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gt.apply(this,arguments)}function Ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qt=function(e){var t=e.name,n=e.labeltext,a=e.setSelectedValue,o=e.selected,l=(0,f.useTranslation)().t,u=Ht((0,A.U$)(t),3),c=u[0],_=(u[1],u[2]),d=Ht((0,r.useState)([]),2),m=d[0],p=d[1],g=Ht((0,r.useState)(null),2),h=g[0],v=g[1],y=_.setValue;return h?i().createElement("span",null,l("".concat(h.message))):i().createElement(Mt.Z,Gt({id:t,onInputChange:function(e){var n,r,i,a,l;r=t,""==(n=e)||(i=r.replace(" ",""),a=o,l=n,(0,s.openmrsFetch)("".concat("/module/addresshierarchy/ajax/getPossibleAddressHierarchyEntriesWithParents.form","?addressField=").concat(i,"&limit=20&searchString=").concat(l,"&parentUuid=").concat(a),{method:"GET"})).then((function(e){p(e.data.map((function(e){return{id:e.uuid,text:e.name}})))})).catch((function(e){v(e)})),y(e)},items:m,itemToString:function(e){return e?e.text:""}},c,{onChange:function(e){null!=e.selectedItem?a(e.selectedItem.id):a(null),y(null!=e.selectedItem?e.selectedItem.text:null)},placeholder:n,titleText:n,light:!0}))};function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e){return(new DOMParser).parseFromString(e,"text/xml")}function Kt(e,t){var n=t.getElementsByTagName(e)[0];return Yt(n?n.outerHTML:"")}var Qt=function(){var e=Wt((0,r.useState)(""),2),t=e[0],n=e[1],a=Wt((0,r.useState)([]),2),o=a[0],l=a[1],s=(0,f.useTranslation)().t,c=(0,r.useContext)(u.Cg).addressTemplate.results[0].value,_=function(e){n(e)};return(0,r.useEffect)((function(){var e=Yt(c),t=Kt("elementdefaults",e),n=Kt("nameMappings",e).getElementsByTagName("entry"),r=Array.prototype.map.call(n,(function(e){var n=e.getElementsByTagName("string")[0].innerHTML,r=s(n,e.getElementsByTagName("string")[1].innerHTML),i=function(e,t){var n=t.getElementsByName(e)[0];return n?n.getAttribute("value"):null}(n,t);return{id:n,name:n,labelText:r,value:i}}));l(r)}),[s,c]),i().createElement("div",null,i().createElement("h4",{className:ve.productiveHeading02Light},s("addressHeader","Address")),i().createElement("div",{style:{width:"50%",paddingBottom:"5%"}},o.map((function(e){return i().createElement(qt,{name:e.name,labeltext:e.labelText,items:[],id:e.name,placeholder:e.labelText,setSelectedValue:_,selected:t})}))))};function $t(e){var t=e.name,n=(0,s.useConfig)();if(!pe.X8.includes(t)&&!n.fieldDefinitions.some((function(e){return e.id==t})))return(0,s.reportError)("Invalid field name '".concat(t,"'. Valid options are '").concat(n.fieldDefinitions.map((function(e){return e.id})).concat(pe.X8).join("', '"),"'.")),null;switch(t){case"name":return i().createElement(Ce,null);case"gender":return i().createElement(De,null);case"dob":return i().createElement(Tt,null);case"address":return i().createElement(Qt,null);case"id":return i().createElement(vt,null);case"phone & email":return i().createElement(ke,null);default:return i().createElement(Vt,{name:t})}}var Xt=function(e){var t=e.sectionDefinition;return i().createElement("section",{"aria-label":"".concat(t.name," Section")},t.fields.map((function(e){return i().createElement($t,{key:"".concat(t.name,"-").concat(e),name:e})})))};function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function en(){return en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},en.apply(this,arguments)}function tn(e,t){if(e){if("string"==typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jt(e,t):void 0}}var nn=function(e){var t,n,r=e.name,a=e.options,o=e.label,l=(t=(0,A.U$)(r),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,n)||tn(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=l[0],u=(l[1],[i().createElement(Nt.Z,{disabled:!0,hidden:!0,text:"Select ".concat(o),key:"",value:""})].concat(function(e){return function(e){if(Array.isArray(e))return Jt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a.map((function(e,t){return i().createElement(Nt.Z,{text:e,value:e,key:t})})))));return i().createElement("div",{style:{marginBottom:"1rem"}},i().createElement(St.Z,en({id:"identifier"},s,{labelText:o,light:!0}),u))},rn=n(62936),an={};an.styleTagTransform=I(),an.setAttributes=T(),an.insert=x().bind(null,"head"),an.domAPI=w(),an.insertStyleElement=S(),y()(rn.Z,an);const on=rn.Z&&rn.Z.locals?rn.Z.locals:void 0;var ln=function(){var e=i().useContext(L).values,t=(0,f.useTranslation)().t;return i().createElement("section",{className:on.formSection,"aria-label":"Death Info Section"},i().createElement("h5",{className:"omrs-type-title-5 ".concat(on.formSectionTitle)},"Death Info"),i().createElement("section",{className:on.fieldGroup},i().createElement(Ee,{labelText:t("isDeadInputLabel","Is Dead"),name:"isDead",id:"isDead",light:!0}),e.isDead&&i().createElement(i().Fragment,null,i().createElement(Ee,{labelText:t("deathDateInputLabel","Date of Death"),name:"deathDate",id:"deathDate",light:!0}),i().createElement(nn,{options:[t("unknown","Unknown"),t("stroke","Stroke")],label:t("causeOfDeathInputLabel","Cause of Death"),name:"deathCause"}))))};function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var un=function(e){var t,n,a=e.fields,o=(t=(0,A.U$)("addNameInLocalLanguage"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sn(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],s=o[1],u=(0,r.useContext)(L).setFieldValue;return(0,r.useEffect)((function(){!l.value&&s.touched&&(u("additionalGivenName",""),u("additionalMiddleName",""),u("additionalFamilyName",""))}),[l.value,s.touched]),i().createElement("section",{className:on.formSection,"aria-label":"Demographics Section"},a.map((function(e){return i().createElement($t,{key:"demographics-".concat(e),name:e})})))},cn=n(80138),_n={};_n.styleTagTransform=I(),_n.setAttributes=T(),_n.insert=x().bind(null,"head"),_n.domAPI=w(),_n.insertStyleElement=S(),y()(cn.Z,_n);const dn=cn.Z&&cn.Z.locals?cn.Z.locals:void 0;var mn=n(11662),pn={};pn.styleTagTransform=I(),pn.setAttributes=T(),pn.insert=x().bind(null,"head"),pn.domAPI=w(),pn.insertStyleElement=S(),y()(mn.Z,pn);const fn=mn.Z&&mn.Z.locals?mn.Z.locals:void 0;function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hn(){return hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hn.apply(this,arguments)}var vn=function(e){var t,n,a=e.getDisplayValue,o=e.getFieldValue,l=e.getSearchResults,s=e.onSuggestionSelected,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["getDisplayValue","getFieldValue","getSearchResults","onSuggestionSelected"]),c=(t=(0,r.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=c[0],d=c[1],m=(0,r.useRef)(null),p=(0,r.useRef)(null),g=((0,f.useTranslation)().t,u.name),h=u.labelText;(0,r.useEffect)((function(){return document.addEventListener("mousedown",v),function(){document.removeEventListener("mousedown",v)}}),[p]);var v=function(e){p.current&&!p.current.contains(e.target)&&d([])};return i().createElement("div",{className:fn.autocomplete,ref:p},i().createElement("label",{className:"bx--label"},h),i().createElement(Xe.Z,hn({id:"autosuggest",onChange:function(e){var t=e.target.value;t?l(t).then((function(e){d(e)})):d([])},ref:m,className:fn.autocompleteSearch,light:!0},u)),_.length>0&&i().createElement("ul",{className:fn.suggestions},_.map((function(e,t){return i().createElement("li",{key:t,onClick:function(e){return function(e){var t=a(_[e]),n=o(_[e]);m.current.input.value=t,s(g,n),d([])}(t)}},a(e))}))))};function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bn(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var En=function(){var e,t,n=(0,r.useContext)(u.Cg).relationshipTypes,a=(e=(0,r.useState)([]),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],l=a[1],s=(0,f.useTranslation)().t;return(0,r.useEffect)((function(){var e=[];n.results.forEach((function(t){var n={display:t.aIsToB,uuid:t.uuid,direction:"aIsToB"},r={display:t.bIsToA,uuid:t.uuid,direction:"bIsToA"};n.display===r.display?e.push(n):e.push(n,r)})),l(e)}),[n]),i().createElement("section",{"aria-label":"Relationships Section"},i().createElement(A.F2,{name:"relationships"},(function(e){var t=e.push,n=e.remove,r=e.form.values.relationships;return i().createElement("div",null,r&&r.length>0?r.map((function(e,t){return i().createElement("div",{key:t,className:on.formSection},i().createElement(xn,{relationship:e,index:t,displayRelationshipTypes:o,key:t,remove:n}))})):null,i().createElement("div",{className:dn.actions},i().createElement(p.Z,{kind:"ghost",onClick:function(){return t({relatedPersonUuid:"",action:"ADD"})}},s("addRelationshipButtonText","Add Relationship"))))})))},xn=function(e){var t,n,a,o,l=e.relationship,s=e.index,u=e.displayRelationshipTypes,c=e.remove,d=(0,f.useTranslation)().t,m=i().useContext(L).setFieldValue,g=!l.uuid,h=(0,r.useCallback)((function(e){var t=e.target,n=t.name,r=t.options[t.selectedIndex].value;m(n,r),(null==l?void 0:l.action)||m("relationships[".concat(s,"].action"),"UPDATE")}),[]),v=(0,r.useCallback)((function(e,t){m(e,t)}),[]),y=(t=_().mark((function e(t){var n,r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new AbortController,e.next=3,(0,V.M8)(t,n);case 3:return r=e.sent,e.abrupt("return",r.data.results);case 5:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(e){bn(a,r,i,o,l,"next",e)}function l(e){bn(a,r,i,o,l,"throw",e)}o(void 0)}))},function(e){return n.apply(this,arguments)}),b=(0,r.useCallback)((function(){"ADD"===l.action?c(s):m("relationships[".concat(s,"].action"),"DELETE")}),[l,s]),w=(0,r.useCallback)((function(){var e,t;m("relationships[".concat(s,"]"),(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){wn(e,t,n[t])}))}return e}({},l),t=null!=(t={action:void 0,relationshipType:l.initialrelationshipTypeValue})?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e))}),[s]);return"DELETE"!==l.action?i().createElement("div",{className:dn.relationship},i().createElement("div",{className:dn.searchBox},i().createElement("div",{className:dn.relationshipHeader},i().createElement("h4",{className:dn.productiveHeading},null!==(a=null==l?void 0:l.relation)&&void 0!==a?a:d("relationshipPlaceholder","Relationship")),i().createElement(p.Z,{kind:"ghost",iconDescription:d("deleteRelationshipTooltipText","Delete"),hasIconOnly:!0,onClick:b},i().createElement(Be.XqF,{className:dn.trashCan}))),i().createElement("div",null,g?i().createElement(vn,{name:"relationships[".concat(s,"].relatedPersonUuid"),labelText:d("relativeFullNameLabelText","Full name"),placeholder:d("relativeNamePlaceholder","Firstname Familyname"),defaultValue:l.relatedPersonName,onSuggestionSelected:v,getSearchResults:y,getDisplayValue:function(e){return e.display},getFieldValue:function(e){return e.uuid},required:!0}):i().createElement(i().Fragment,null,i().createElement("span",{className:dn.labelText},d("relativeFullNameLabelText","Full name")),i().createElement("p",{className:dn.bodyShort02},l.relatedPersonName)))),i().createElement("div",{className:"".concat(dn.selectRelationshipType),style:{marginBottom:"1rem"}},i().createElement(St.Z,{light:!0,id:"select",labelText:d("relationship","Relationship"),onChange:h,name:"relationships[".concat(s,"].relationshipType"),defaultValue:null!==(o=null==l?void 0:l.relationshipType)&&void 0!==o?o:"placeholder-item"},i().createElement(Nt.Z,{disabled:!0,hidden:!0,value:"placeholder-item",text:d("relationshipToPatient","Relationship to patient")}),u.map((function(e){return i().createElement(Nt.Z,{text:e.display,value:"".concat(e.uuid,"/").concat(e.direction),key:e.display})}))))):i().createElement(Ot.K0,{kind:"info",title:d("relationshipRemovedText","Relationship removed"),actions:i().createElement(Ot.xh,{onClick:w},d("restoreRelationshipActionButton","Undo"))})};function kn(e){var t=e.sectionDefinition;switch(t.id){case"demographics":return i().createElement(un,{fields:t.fields});case"death":return i().createElement(ln,null);case"relationships":return i().createElement(En,null);default:return i().createElement(Xt,{sectionDefinition:t})}}var Tn=function(e){var t=e.sectionDefinition,n=e.index,r=(0,f.useTranslation)().t;return i().createElement("div",{id:t.id},i().createElement("h3",{className:P.productiveHeading02,style:{color:"#161616"}},n+1,". ",t.name),i().createElement("span",{className:P.label01},r("allFieldsRequiredText","All fields are required unless marked optional")),i().createElement("div",{style:{margin:"1rem 0 1rem"}},i().createElement(fe.n9,null,i().createElement(kn,{sectionDefinition:t}))))};function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sn(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Nn(e,t,n[t])}))}return e}function Cn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pn=function(e){var t,n=e.savePatientForm,o=e.match,l=e.isOffline,c=(0,r.useContext)(u.Cg),g=c.currentSession,v=c.addressTemplate,y=c.identifierTypes,b=(0,a.useLocation)().search,w=(0,s.useConfig)(),E=jn((0,r.useState)(),2),x=E[0],k=E[1],T=jn((0,r.useState)(B),2),O=T[0],S=T[1],N=o.params.patientUuid,I=(0,s.usePatient)(N),C=I.isLoading,j=I.patient,F=(0,f.useTranslation)().t,Z=jn((0,r.useState)(null),2),R=Z[0],G=Z[1],H=jn(function(e){var t=(0,s.usePatient)(e),n=t.isLoading,i=t.patient,a=function(e){var t=!!e,n=(0,re.ZP)(t?"/ws/rest/v1/person/".concat(e,"/attribute"):null,s.openmrsFetch),i=n.data,a=n.error,o=(0,r.useMemo)((function(){var e;return{data:null==i||null===(e=i.data)||void 0===e?void 0:e.results,isLoading:!i&&!a}}),[i,a]);return o}(e),o=a.data,l=a.isLoading,u=function(e){var t=!!e,n=(0,re.ZP)(t?"/ws/rest/v1/patient/".concat(e,"/identifier?v=custom:(uuid,identifier,identifierType:(uuid,required,name),preferred)"):null,s.openmrsFetch),i=n.data,a=n.error,o=(0,r.useMemo)((function(){var e,t,n={};return null==i||null===(e=i.data)||void 0===e||null===(t=e.results)||void 0===t||t.forEach((function(e){n[(0,W.Z)(e.identifierType.name)]={identifierUuid:e.uuid,preferred:e.preferred,initialValue:e.identifier,identifierValue:e.identifier,identifierTypeUuid:e.identifierType.uuid,identifierName:e.identifierType.name,required:e.identifierType.required,selectedSource:null,autoGeneration:!1}})),{data:n,isLoading:!i&&!a}}),[i,a]);return o}(e),c=u.data,d=u.isLoading,m=function(e){var t=!!e,n=(0,re.ZP)(t?"/ws/rest/v1/relationship?v=".concat(ie.UO,"&person=").concat(e):null,s.openmrsFetch),i=n.data,a=n.error,o=(0,r.useMemo)((function(){var t;return{data:null==i||null===(t=i.data)||void 0===t?void 0:t.results.map((function(t){return t.personA.uuid===e?{relatedPersonName:t.personB.display,relatedPersonUuid:t.personB.uuid,relation:t.relationshipType.bIsToA,relationshipType:"".concat(t.relationshipType.uuid,"/bIsToA"),initialrelationshipTypeValue:"".concat(t.relationshipType.uuid,"/bIsToA"),uuid:t.uuid}:{relatedPersonName:t.personA.display,relatedPersonUuid:t.personA.uuid,relation:t.relationshipType.aIsToB,relationshipType:"".concat(t.relationshipType.uuid,"/aIsToB"),initialrelationshipTypeValue:"".concat(t.relationshipType.uuid,"/aIsToB"),uuid:t.uuid}})),error:a,isLoading:!i&&!a}}),[e,i,a]);return o}(e),p=m.data,f=m.isLoading,g=_e((0,r.useState)({patientUuid:(0,M.Z)(),givenName:"",middleName:"",familyName:"",unidentifiedPatient:!1,additionalGivenName:"",additionalMiddleName:"",additionalFamilyName:"",addNameInLocalLanguage:!1,gender:"",birthdate:null,yearsEstimated:null,monthsEstimated:0,birthdateEstimated:!1,telephoneNumber:"",address1:"",address2:"",cityVillage:"",stateProvince:"",country:"",postalCode:"",isDead:!1,deathDate:"",deathCause:"",relationships:[],identifiers:{}}),2),h=g[0],v=g[1];return(0,r.useEffect)((function(){le(_().mark((function t(){var r;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=4;break}v(ue({},h,(o=void 0,o={},l=(a=i).name[0],s=a.name[1],o.patientUuid=a.id,o.givenName=null==l?void 0:l.given[0],o.middleName=null==l?void 0:l.given[1],o.familyName=null==l?void 0:l.family,o.unidentifiedPatient="UNKNOWN"===l.given[0]&&"unknown"===l.family||void 0,o.addNameInLocalLanguage=!!s||void 0,o.additionalGivenName=null==s?void 0:s.given[0],o.additionalMiddleName=null==s?void 0:s.given[1],o.additionalFamilyName=null==s?void 0:s.family,o.gender=(0,Y.Z)(a.gender),o.birthdate=a.birthDate?new Date(a.birthDate):void 0,o.telephoneNumber=a.telecom?a.telecom[0].value:"",(a.deceasedBoolean||a.deceasedDateTime)&&(o.isDead=!0,o.deathDate=a.deceasedDateTime?a.deceasedDateTime.split("T")[0]:""),$({},o,a.identifier.map((function(e){return Q({},(0,W.Z)(e.system||e.type.text),e.value)})))),ee(i),ne(i))),t.next=12;break;case 4:if(n||!e){t.next=12;break}return t.next=7,de(e);case 7:if((r=t.sent)._patientRegistrationData.formValues){t.next=11;break}return console.error("Found a queued offline patient registration for patient ".concat(e,", but without form values. Not using these values.")),t.abrupt("return");case 11:v(r._patientRegistrationData.formValues);case 12:case"end":return t.stop()}var a,o,l,s}),t)})))()}),[n,i,e]),(0,r.useEffect)((function(){!f&&p&&v((function(e){return ce(ue({},e),{relationships:p})}))}),[f,p,v]),(0,r.useEffect)((function(){!d&&c&&v((function(e){return ce(ue({},e),{identifiers:c})}))}),[d,c,v]),(0,r.useEffect)((function(){if(!l&&o){var e={};o.forEach((function(t){e[t.attributeType.uuid]=t.value})),v((function(t){return ce(ue({},t),{attributes:e})}))}}),[o,v,l]),[h,v]}(N),2),q=H[0],ae=H[1],oe=jn(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,s.usePatient)(e),i=n.isLoading,a=n.patient,o=_e((0,r.useState)(t),2),l=o[0],u=o[1];return(0,r.useEffect)((function(){le(_().mark((function n(){var r,o;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=4;break}u(ue({},l,ee(a))),n.next=10;break;case 4:if(i||!e){n.next=10;break}return n.next=7,de(e);case 7:r=n.sent,u(null!==(o=null==r?void 0:r._patientRegistrationData.initialAddressFieldValues)&&void 0!==o?o:t);case 10:case"end":return n.stop()}}),n)})))()}),[i,a,e]),[l,u]}(N),1),se=oe[0],me=jn(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,s.usePatient)(e),i=n.isLoading,a=n.patient,o=_e((0,r.useState)(t),2),l=o[0],u=o[1];return(0,r.useEffect)((function(){if(a)u(ue({},l,te(a)));else if(!i&&e){var n;de(e).then((function(e){return u(null!==(n=null==e?void 0:e._patientRegistrationData.initialAddressFieldValues)&&void 0!==n?n:t)}))}}),[i,a,e]),[l,u]}(N),1),fe=me[0],ge=null===(t=g.sessionLocation)||void 0===t?void 0:t.uuid,he=C?void 0:!(!N||!j),ve=(0,r.useMemo)((function(){return"true"===localStorage.getItem("openmrs:devtools")&&!he}),[he]),ye=(0,V.Uu)(null==j?void 0:j.id).data,be=(0,r.useRef)(new U.I);(0,r.useEffect)((function(){}),[q]);var we=(0,r.useMemo)((function(){var e;return w.sections.map((function(t){return null!==(e=w.sectionDefinitions.filter((function(e){return e.id==t}))[0])&&void 0!==e?e:pe.bs.filter((function(e){return e.id==t}))[0]})).filter((function(e){return e}))}),[w.sections,w.sectionDefinitions]);(0,r.useEffect)((function(){var e=v.results[0].value;if(e){var t=function(e){var t=(new DOMParser).parseFromString(e,"text/xml"),n=t.querySelector("nameMappings").getElementsByTagName("entry"),r=Array.prototype.map.call(n,(function(e){var n=e.getElementsByTagName("string")[0].innerHTML;return{name:n,label:e.getElementsByTagName("string")[1].innerHTML,regex:X(n,"elementRegex",t)||".*",regexFormat:X(n,"elementRegexFormats",t)||""}})),i=D.Ry(r.reduce((function(e,t){return e[t.name]=D.Z_().matches(t.regex,t.regexFormat),e}),{}));return{addressFieldValues:Array.prototype.map.call(n,(function(e){return{name:e.getElementsByTagName("string")[0].innerHTML,defaultValue:""}})),addressValidationSchema:i}}(e),n=t.addressFieldValues,r=t.addressValidationSchema;if(S((function(e){return e.concat(r)})),!1===he){var i=!0,a=!1,o=void 0;try{for(var l,s=n[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value,c=u.name,_=u.defaultValue;se[c]||(se[c]=_)}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}ae(In({},q,se))}}}),[he,v,se]);var Ee,xe,ke=(Ee=_().mark((function e(t,r){var i,a,o,l,u,c,d,m;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new AbortController,r.setSubmitting(!0),a=Cn(In({},t),{identifiers:(_=t.identifiers,Object.fromEntries(Object.entries(_).filter((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return r[0],void 0!==r[1].identifierValue}))))}),e.prev=3,e.next=6,n(!he,a,fe,se,R,ge,q.identifiers,g,w,be.current,i);case 6:(0,s.showToast)({description:he?F("updationSuccessToastDescription","The patient's information has been successfully updated"):F("registrationSuccessToastDescription","The patient can now be found by searching for them using their name or ID number"),title:he?F("updationSuccessToastTitle","Patient Details Updated"):F("registrationSuccessToastTitle","New Patient Created"),kind:"success"}),o=new URLSearchParams(b).get("afterUrl"),l=(0,s.interpolateUrl)(o||w.links.submitButton,{patientUuid:t.patientUuid}),k(l),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),(null===(u=e.t0.responseBody)||void 0===u||null===(c=u.error)||void 0===c?void 0:c.globalErrors)?e.t0.responseBody.error.globalErrors.forEach((function(e){(0,s.showToast)({description:e.message})})):(null===(d=e.t0.responseBody)||void 0===d||null===(m=d.error)||void 0===m?void 0:m.message)?(0,s.showToast)({description:e.t0.responseBody.error.message}):(0,s.createErrorHandler)()(e.t0),r.setSubmitting(!1);case 17:case"end":return e.stop()}var _}),e,null,[[3,12]])})),xe=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=Ee.apply(e,t);function a(e){Sn(i,n,r,a,o,"next",e)}function o(e){Sn(i,n,r,a,o,"throw",e)}a(void 0)}))},function(e,t){return xe.apply(this,arguments)}),Te=function(e){return i().createElement("div",null,i().createElement("p",null,F("fieldErrorTitleMessage","The following fields have errors:")),i().createElement("ul",{style:{listStyle:"inside"}},Object.keys(e).map((function(e,t){return i().createElement("li",{key:t},F("".concat(e,"LabelText"),e))}))))};return i().createElement(A.J9,{enableReinitialize:!0,initialValues:q,validationSchema:O,onSubmit:ke},(function(e){return i().createElement(A.l0,{className:P.form},i().createElement(h,{when:e.dirty,redirect:x}),i().createElement("div",{className:P.formContainer},i().createElement("div",null,i().createElement("div",{className:P.stickyColumn},i().createElement("h4",null,he?F("edit","Edit"):F("createNew","Create New")," ",F("patient","Patient")),ve&&i().createElement(z,{setValues:e.setValues}),i().createElement("p",{className:P.label01},F("jumpTo","Jump to")),we.map((function(e){return i().createElement("div",{className:"".concat(P.space05," ").concat(P.touchTarget),key:e.name},i().createElement(m.Z,{className:P.linkName,onClick:function(){return t=e.id,void document.getElementById(t).scrollIntoView({behavior:"smooth",block:"center",inline:"center"});var t}},i().createElement(d.Z,null)," ",e.name))})),i().createElement(p.Z,{className:P.submitButton,type:"submit",onClick:function(){return e.validateForm().then((function(e){return function(e){e&&"object"==typeof e&&Object.keys(e).length&&(0,s.showToast)({description:Te(e),title:F("incompleteForm","Incomplete form"),kind:"warning"})}(e)}))}},he?F("updatePatient","Update Patient"):F("registerPatient","Register Patient")),i().createElement(p.Z,{className:P.cancelButton,kind:"tertiary",onClick:J},F("cancel","Cancel")))),i().createElement("div",{className:P.infoGrid},i().createElement(L.Provider,{value:{identifierTypes:y,validationSchema:O,setValidationSchema:S,values:e.values,inEditMode:he,setFieldValue:e.setFieldValue,setCapturePhotoProps:G,currentPhoto:null==ye?void 0:ye.imageSrc,isOffline:l,initialFormValues:e.initialValues}},we.map((function(e,t){return i().createElement(Tn,{key:"registration-section-".concat(e.id),sectionDefinition:e,index:t})}))))))}))};function An(){return An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},An.apply(this,arguments)}function Dn(e){var t=e.currentSession,n=e.addressTemplate,r=e.relationshipTypes,c=e.identifierTypes,_=e.savePatientForm,d=e.isOffline,m={currentSession:t,addressTemplate:n,relationshipTypes:r,identifierTypes:c};return i().createElement(u.Cg.Provider,{value:m},i().createElement(a.BrowserRouter,{basename:window.getOpenmrsSpaBase()},i().createElement("main",{className:"omrs-main-content",style:{backgroundColor:"white"}},i().createElement(o.r,null,i().createElement(l.Z,null,i().createElement(s.ExtensionSlot,{extensionSlotName:"breadcrumbs-slot"})),i().createElement(a.Route,{exact:!0,path:"/patient-registration",render:function(e){return i().createElement(Pn,An({savePatientForm:_,isOffline:d},e))}}),i().createElement(a.Route,{exact:!0,path:"/patient/:patientUuid/edit",render:function(e){return i().createElement(Pn,An({savePatientForm:_,isOffline:d},e))}})))))}}}]);