"use strict";(self.webpackChunk_openmrs_esm_primary_navigation_app=self.webpackChunk_openmrs_esm_primary_navigation_app||[]).push([[212],{819:(e,n,t)=>{t.d(n,{Z:()=>o});var a=t(361),r=t.n(a)()((function(e){return e[1]}));r.push([e.id,".-esm-primary-navigation__logo-component__logo___8GO0o{display:flex;align-items:center}",""]),r.locals={logo:"-esm-primary-navigation__logo-component__logo___8GO0o"};const o=r},7082:(e,n,t)=>{t.d(n,{Z:()=>o});var a=t(361),r=t.n(a)()((function(e){return e[1]}));r.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-primary-navigation__app-menu-panel-component__productiveHeading01___-v2Cs,.-esm-primary-navigation__app-menu-panel-component__menuLink___bbK-l a{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}.-esm-primary-navigation__app-menu-panel-component__productiveHeading02___KjOXR{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}.-esm-primary-navigation__app-menu-panel-component__bodyLong01___\\+8VAs{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.-esm-primary-navigation__app-menu-panel-component__headerPanel___XruKZ{height:max-content}.-esm-primary-navigation__app-menu-panel-component__primaryNavContainer___aQAfV{height:var(--omrs-topnav-height)}.-esm-primary-navigation__app-menu-panel-component__menuLink___bbK-l a{display:flex;padding:1rem;height:3rem;width:100%;text-decoration:none;color:#fff;background-color:transparent}.-esm-primary-navigation__app-menu-panel-component__menuLink___bbK-l a:hover{background-color:#005d5d;background-color:var(--brand-01)}.-esm-primary-navigation__app-menu-panel-component__externalLinks___ZOYmr{border-top:1px solid;border-top-color:#007d79;border-top-color:var(--brand-03)}.-esm-primary-navigation__app-menu-panel-component__launchIcon___XOD1F{margin-left:.5rem}",""]),r.locals={productiveHeading01:"-esm-primary-navigation__app-menu-panel-component__productiveHeading01___-v2Cs",menuLink:"-esm-primary-navigation__app-menu-panel-component__menuLink___bbK-l",productiveHeading02:"-esm-primary-navigation__app-menu-panel-component__productiveHeading02___KjOXR",bodyLong01:"-esm-primary-navigation__app-menu-panel-component__bodyLong01___+8VAs",headerPanel:"-esm-primary-navigation__app-menu-panel-component__headerPanel___XruKZ",primaryNavContainer:"-esm-primary-navigation__app-menu-panel-component__primaryNavContainer___aQAfV",externalLinks:"-esm-primary-navigation__app-menu-panel-component__externalLinks___ZOYmr",launchIcon:"-esm-primary-navigation__app-menu-panel-component__launchIcon___XOD1F"};const o=r},3034:(e,n,t)=>{t.d(n,{Z:()=>o});var a=t(361),r=t.n(a)()((function(e){return e[1]}));r.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-primary-navigation__notifications-menu-component-panel__productiveHeading01___gc7c\\+{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}.-esm-primary-navigation__notifications-menu-component-panel__productiveHeading02___odpa4{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}.-esm-primary-navigation__notifications-menu-component-panel__bodyLong01___tsVzx{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.-esm-primary-navigation__notifications-menu-component-panel__headerPanel___OXzsA{height:max-content}.-esm-primary-navigation__notifications-menu-component-panel__primaryNavContainer___CUUGq{height:var(--omrs-topnav-height)}.bx--header-panel--expanded{height:max-content}@media only screen and (min-width: 99rem){.bx--header-panel--expanded{width:22rem}}@media only screen and (max-width: 99rem){.bx--header-panel--expanded{width:18rem}}.-esm-primary-navigation__notifications-menu-component-panel__heading___jevUx{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;color:#fff;margin:1rem}.-esm-primary-navigation__notifications-menu-component-panel__emptyNotifications___8NETp{margin:4rem 1rem}",""]),r.locals={productiveHeading01:"-esm-primary-navigation__notifications-menu-component-panel__productiveHeading01___gc7c+",productiveHeading02:"-esm-primary-navigation__notifications-menu-component-panel__productiveHeading02___odpa4",bodyLong01:"-esm-primary-navigation__notifications-menu-component-panel__bodyLong01___tsVzx",headerPanel:"-esm-primary-navigation__notifications-menu-component-panel__headerPanel___OXzsA",primaryNavContainer:"-esm-primary-navigation__notifications-menu-component-panel__primaryNavContainer___CUUGq",heading:"-esm-primary-navigation__notifications-menu-component-panel__heading___jevUx",emptyNotifications:"-esm-primary-navigation__notifications-menu-component-panel__emptyNotifications___8NETp"};const o=r},4153:(e,n,t)=>{t.d(n,{Z:()=>o});var a=t(361),r=t.n(a)()((function(e){return e[1]}));r.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-primary-navigation__navbar-component__topNavActionsSlot___MMuq6{display:flex;align-items:center}.-esm-primary-navigation__navbar-component__topNavActionsSlot___MMuq6 a{color:#fff;text-decoration:none;margin:0 .75rem}.-esm-primary-navigation__navbar-component__headerGlobalBarButton___eg0-K{background-color:#004144;background-color:var(--brand-02)}.-esm-primary-navigation__navbar-component__topNavHeader___85rIg{top:var(--omrs-offline-banner-height)}.-esm-primary-navigation__navbar-component__activePanel___YVS5C{background-color:#005d5d;background-color:var(--brand-01)}.-esm-primary-navigation__navbar-component__headerMenuButton___QnJ4\\+{height:3rem;width:3rem;padding:.75rem;margin-right:.25rem}.-esm-primary-navigation__navbar-component__spacedLogo___5wcPq{margin-left:1rem}",""]),r.locals={topNavActionsSlot:"-esm-primary-navigation__navbar-component__topNavActionsSlot___MMuq6",headerGlobalBarButton:"-esm-primary-navigation__navbar-component__headerGlobalBarButton___eg0-K",topNavHeader:"-esm-primary-navigation__navbar-component__topNavHeader___85rIg",activePanel:"-esm-primary-navigation__navbar-component__activePanel___YVS5C",headerMenuButton:"-esm-primary-navigation__navbar-component__headerMenuButton___QnJ4+",spacedLogo:"-esm-primary-navigation__navbar-component__spacedLogo___5wcPq"};const o=r},3052:(e,n,t)=>{t.d(n,{Z:()=>o});var a=t(361),r=t.n(a)()((function(e){return e[1]}));r.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-primary-navigation__offline-banner-component__offlineBanner___dzAya{position:fixed;top:0;left:0;right:0;height:var(--omrs-offline-banner-height);background-color:#022b30;color:#fff;font-size:.875rem;display:flex;align-items:center;z-index:3}.-esm-primary-navigation__offline-banner-component__offlineIconContainer___N1yDu{width:3rem;display:flex;justify-content:center}.-esm-primary-navigation__offline-banner-component__offlineNote___a6\\+BA{font-weight:bold}.-esm-primary-navigation__offline-banner-component__offlineLastUpdatedContainer___js\\+C-{flex:auto;display:flex;justify-content:flex-end;align-items:flex-end;padding-right:1rem}.-esm-primary-navigation__offline-banner-component__lastUpdatedNote___gTBKo{color:#c6c6c6;font-size:.75rem}",""]),r.locals={offlineBanner:"-esm-primary-navigation__offline-banner-component__offlineBanner___dzAya",offlineIconContainer:"-esm-primary-navigation__offline-banner-component__offlineIconContainer___N1yDu",offlineNote:"-esm-primary-navigation__offline-banner-component__offlineNote___a6+BA",offlineLastUpdatedContainer:"-esm-primary-navigation__offline-banner-component__offlineLastUpdatedContainer___js+C-",lastUpdatedNote:"-esm-primary-navigation__offline-banner-component__lastUpdatedNote___gTBKo"};const o=r},5547:(e,n,t)=>{t.d(n,{Z:()=>o});var a=t(361),r=t.n(a)()((function(e){return e[1]}));r.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-primary-navigation__root__productiveHeading01___tScBJ{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}.-esm-primary-navigation__root__productiveHeading02___2lV0H{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}.-esm-primary-navigation__root__bodyLong01___vRBQA{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.-esm-primary-navigation__root__headerPanel___c17aL{height:max-content}.-esm-primary-navigation__root__primaryNavContainer___TLM40{height:var(--omrs-topnav-height)}",""]),r.locals={productiveHeading01:"-esm-primary-navigation__root__productiveHeading01___tScBJ",productiveHeading02:"-esm-primary-navigation__root__productiveHeading02___2lV0H",bodyLong01:"-esm-primary-navigation__root__bodyLong01___vRBQA",headerPanel:"-esm-primary-navigation__root__headerPanel___c17aL",primaryNavContainer:"-esm-primary-navigation__root__primaryNavContainer___TLM40"};const o=r},3212:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ce});var a=t(6983),r=t.n(a),o=t(487),i=t.n(o),l=t(631),s=t.n(l),c=t(2052),_=t.n(c),m=t(4010),u=t.n(m),p=t(1469),d=t.n(p),f=t(9329),g=t.n(f),v=t(5547),y={};y.styleTagTransform=g(),y.setAttributes=u(),y.insert=_().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=d(),i()(v.Z,y);const h=v.Z&&v.Z.locals?v.Z.locals:void 0;var b=t(7644),E=t(9784),x=function(e){return"desktop"===e},w=t(2119),A=t(6013),L=t(1512),N=t(7082),S={};S.styleTagTransform=g(),S.setAttributes=u(),S.insert=_().bind(null,"head"),S.domAPI=s(),S.insertStyleElement=d(),i()(N.Z,S);const C=N.Z&&N.Z.locals?N.Z.locals:void 0;var P=t(7765),k=t(2680);const Z=function(e){var n,t,a=e.expanded,o=e.hidePanel,i=(0,b.useOnClickOutside)(o,a),l=(0,b.useConfig)(),s=(0,k.useTranslation)().t;return r().createElement(E.HeaderPanel,{ref:i,className:C.headerPanel,"aria-label":"App Menu Panel",expanded:a},r().createElement(b.ExtensionSlot,{className:C.menuLink,name:"app-menu-slot"}),(null==l||null===(n=l.externalRefLinks)||void 0===n?void 0:n.length)>0&&r().createElement("div",{className:"".concat(C.menuLink," ").concat(C.externalLinks)},null==l||null===(t=l.externalRefLinks)||void 0===t?void 0:t.map((function(e){return r().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:null==e?void 0:e.redirect},s(null==e?void 0:e.title),r().createElement(P.Z,{className:C.launchIcon}))}))))},M=function(e){var n,t=e.expanded,a=e.user,o=e.allowedLocales,i=e.onLogout,l=e.session,s=e.hidePanel,c=(0,b.useOnClickOutside)(s,t);return r().createElement(E.HeaderPanel,{ref:c,className:h.headerPanel,expanded:t,"aria-label":"Location","aria-labelledby":"Location Icon"},r().createElement(b.ExtensionSlot,{name:"user-panel-slot",state:{user:a,allowedLocales:o,onLogout:i,referer:window.location.pathname,currentLocation:null==l||null===(n=l.sessionLocation)||void 0===n?void 0:n.display}}))};var H=t(3034),I={};I.styleTagTransform=g(),I.setAttributes=u(),I.insert=_().bind(null,"head"),I.domAPI=s(),I.insertStyleElement=d(),i()(H.Z,I);const O=H.Z&&H.Z.locals?H.Z.locals:void 0,B=function(e){var n=e.expanded,t=(0,k.useTranslation)().t,o=(0,a.useMemo)((function(){return{expanded:n}}),[n]);return r().createElement(E.HeaderPanel,{className:O.notificationsPanel,"aria-label":"Notifications Panel",expanded:n},r().createElement("h1",{className:O.heading},t("notifications","Notifications")),r().createElement(b.ExtensionSlot,{name:"notifications-nav-menu-slot",state:o}))},T=function(e){var n=e.expanded,t=e.hidePanel,o=(0,a.useRef)(null);return(0,a.useEffect)((function(){var e=function(e){(null==o?void 0:o.current)&&!o.current.contains(e.target)&&t()};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}),[o,t]),r().useEffect((function(){return window.addEventListener("popstate",t),window.addEventListener("popstate",t)}),[t]),n&&r().createElement(b.LeftNavMenu,{ref:o,isChildOfHeader:!0})};var U=t(819),j={};j.styleTagTransform=g(),j.setAttributes=u(),j.insert=_().bind(null,"head"),j.domAPI=s(),j.insertStyleElement=d(),i()(U.Z,j);const z=U.Z&&U.Z.locals?U.Z.locals:void 0,G=function(){var e=(0,b.useConfig)().logo;return r().createElement(r().Fragment,null,(null==e?void 0:e.src)?r().createElement("img",{className:z.logo,src:e.src,alt:e.alt,width:110,height:40}):(null==e?void 0:e.name)?e.name:r().createElement("svg",{role:"img",width:110,height:40},r().createElement("use",{xlinkHref:"#omrs-logo-white"})))};var K=t(4153),R={};R.styleTagTransform=g(),R.setAttributes=u(),R.insert=_().bind(null,"head"),R.domAPI=s(),R.insertStyleElement=d(),i()(K.Z,R);const V=K.Z&&K.Z.locals?K.Z.locals:void 0;var D=t(3052),X={};X.styleTagTransform=g(),X.setAttributes=u(),X.insert=_().bind(null,"head"),X.domAPI=s(),X.insertStyleElement=d(),i()(D.Z,X);const q=D.Z&&D.Z.locals?D.Z.locals:void 0;var F=t(1165);function Q(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}const $=function(){var e=function(){var e,n,t=(e=r().useState(new Date),n=2,function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,o=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(o.push(a.value),!n||o.length!==n);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==t.return||t.return()}finally{if(l)throw r}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return Q(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Q(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=t[0],o=t[1];return r().useEffect((function(){var e=null;return(0,b.subscribeConnectivity)((function(n){var t,a,r=n.online;!r&&e&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;localStorage.setItem("offline-last-updated",e.toISOString())}(),e=r,t=localStorage.getItem("offline-last-updated"),a=t?new Date(t):new Date,o(a)}))}),[]),a}();return r().createElement("aside",{className:q.offlineBanner},r().createElement("div",{className:q.offlineIconContainer},r().createElement(F.Z,null)),r().createElement("span",{className:q.offlineNote},"Offline"),r().createElement("div",{className:q.offlineLastUpdatedContainer},r().createElement("span",{className:q.lastUpdatedNote},"Last updated:Â "),r().createElement("span",null,function(e){var n=e.toLocaleDateString(void 0,{day:"numeric",month:"short",year:"numeric"}),t=e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"});return"".concat(n," @ ").concat(t)}(e))))};function J(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}const Y=function(e){var n,t,o=e.user,i=e.onLogout,l=e.allowedLocales,s=e.session,c=(0,b.useLayoutType)(),_=(0,b.useAssignedExtensions)("patient-chart-dashboard-slot").map((function(e){return e.id})),m=(n=(0,a.useState)(null),t=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,o=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(o.push(a.value),!n||o.length!==n);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==t.return||t.return()}finally{if(l)throw r}}return o}}(n,t)||function(e,n){if(e){if("string"==typeof e)return J(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?J(e,n):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=m[0],p=m[1],d=(0,a.useCallback)((function(e){return u===e}),[u]),f=(0,a.useCallback)((function(e){return p((function(n){return n===e?null:e}))}),[]),g=(0,a.useCallback)((function(){p(null)}),[]),v=(0,a.useMemo)((function(){return!x(c)&&_.length>0}),[_.length,c]),y=(0,a.useCallback)((function(){return r().createElement(r().Fragment,null,r().createElement($,null),r().createElement(E.Header,{className:V.topNavHeader,"aria-label":"OpenMRS"},v&&r().createElement(E.HeaderMenuButton,{"aria-label":"Open menu",isCollapsible:!0,className:V.headerMenuButton,onClick:function(e){f("sideMenu"),e.stopPropagation()},isActive:d("sideMenu")}),r().createElement(b.ConfigurableLink,{to:"${openmrsSpaBase}/home"},r().createElement("div",{className:v?"":V.spacedLogo},r().createElement(G,null))),r().createElement(b.ExtensionSlot,{className:V.dividerOverride,name:"top-nav-info-slot"}),r().createElement(E.HeaderGlobalBar,{className:V.headerGlobalBar},r().createElement(b.ExtensionSlot,{name:"top-nav-actions-slot",className:V.topNavActionsSlot}),r().createElement(b.ExtensionSlot,{name:"notifications-menu-button-slot",state:{isActivePanel:d,togglePanel:f}}),r().createElement(E.HeaderGlobalAction,{"aria-label":"Users","aria-labelledby":"Users Avatar Icon",className:"".concat(d("userMenu")?V.headerGlobalBarButton:V.activePanel),name:"Users",isActive:d("userMenu"),onClick:function(e){f("userMenu"),e.stopPropagation()}},d("userMenu")?r().createElement(w.Z,null):r().createElement(L.Z,null)),r().createElement(E.HeaderGlobalAction,{"aria-label":"App Menu",tooltipAlignment:"end",isActive:d("appMenu"),className:"".concat(d("appMenu")?V.headerGlobalBarButton:V.activePanel),"aria-labelledby":"App Menu",onClick:function(e){f("appMenu"),e.stopPropagation()}},d("appMenu")?r().createElement(w.Z,null):r().createElement(A.Z,null))),!x(c)&&r().createElement(T,{hidePanel:g,expanded:d("sideMenu")}),r().createElement(Z,{expanded:d("appMenu"),hidePanel:g}),r().createElement(B,{expanded:d("notificationsMenu")}),r().createElement(M,{user:o,session:s,expanded:d("userMenu"),allowedLocales:l,onLogout:i,hidePanel:g})))}),[v,s,o,l,d,c,g,f,i]);return r().createElement("div",null,s&&r().createElement(E.HeaderContainer,{render:y}))};var W=t(2268),ee=t(1602),ne=t.n(ee),te=t(8478),ae=t(1718),re=t(1217);function oe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function ie(e,n,t,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(a,r)}function le(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function se(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,o=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(o.push(a.value),!n||o.length!==n);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==t.return||t.return()}finally{if(l)throw r}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return le(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?le(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const ce=function(){var e=se((0,a.useState)(null),2),n=e[0],t=e[1],o=se((0,a.useState)(null),2),i=o[0],l=o[1],s=se((0,a.useState)(),2),c=s[0],_=s[1],m=(0,a.useCallback)((function(){return t(!1)}),[]),u=window.getOpenmrsSpaBase();return(0,a.useEffect)((function(){var e,n,a=(0,te.getCurrentUser)({includeAuthStatus:!0}).pipe((0,ae.zg)((e=ne().mark((function e(n){var t,a,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.user)){e.next=7;break}return e.next=5,(0,te.getSynchronizationItemsFor)(t.uuid,re.O);case 5:r=e.sent,(a=Object).assign.apply(a,[t.userProperties].concat(function(e){if(Array.isArray(e))return oe(e)}(o=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,n){if(e){if("string"==typeof e)return oe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oe(e,n):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}var o}),e)})),n=function(){var n=this,t=arguments;return new Promise((function(a,r){var o=e.apply(n,t);function i(e){ie(o,a,r,i,l,"next",e)}function l(e){ie(o,a,r,i,l,"throw",e)}i(void 0)}))},function(e){return n.apply(this,arguments)}))).subscribe((function(e){_(e.allowedLocales),e.authenticated?t(e.user):t(!1),(0,b.createErrorHandler)()})),r=(0,te.openmrsObservableFetch)("/ws/rest/v1/session").subscribe((function(e){var n=e.data;return l(n)}));return function(){a.unsubscribe(),r.unsubscribe()}}),[]),r().createElement(W.BrowserRouter,null,r().createElement("div",{className:h.primaryNavContainer},!1===n?r().createElement(W.Redirect,{to:{pathname:"".concat(u,"login"),state:{referrer:window.location.pathname.slice(window.location.pathname.indexOf(u)+u.length-1)}}}):n&&r().createElement(Y,{allowedLocales:c,user:n,onLogout:m,session:i})))}}}]);