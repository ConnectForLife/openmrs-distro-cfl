"use strict";(self.webpackChunk_openmrs_esm_outpatient_app=self.webpackChunk_openmrs_esm_outpatient_app||[]).push([[324],{6632:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(2609),o=n.n(i)()((function(e){return e[1]}));o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{padding:0;border:0;margin:0;font:inherit;font-size:100%;vertical-align:baseline}button,select,input,textarea{border-radius:0;font-family:inherit}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:\"\"}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}code{font-family:'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.28572;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.28572;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-outpatient__remove-queue-entry__skeleton___M1kVD{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{opacity:.3;transform:scaleX(0);transform-origin:left}}#-esm-outpatient__remove-queue-entry__subHeading___Hc9ir{font-size:.875rem;font-weight:600;line-height:1.28572;letter-spacing:.16px;color:#161616}",""]),o.locals={subHeading:"-esm-outpatient__remove-queue-entry__subHeading___Hc9ir",skeleton:"-esm-outpatient__remove-queue-entry__skeleton___M1kVD"};const r=o},8324:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var i=n(5206),o=n.n(i),r=n(4924),s=n(6062),a=n.n(s),l=n(4036),u=n.n(l),c=n(6793),d=n.n(c),m=n(7892),f=n.n(m),g=n(1173),p=n.n(g),h=n(2464),v=n.n(h),b=n(6632),y={};y.styleTagTransform=v(),y.setAttributes=f(),y.insert=d().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=p(),a()(b.Z,y);const _=b.Z&&b.Z.locals?b.Z.locals:void 0;var k=n(8648),q=n(906),w=n(5885),E=n(9857);const z=function(e){var t=e.queueEntry,n=e.closeModal,i=(0,r.useTranslation)().t,s=(0,q.useVisit)(t.patientUuid).currentVisit,a=(0,E.kY)().mutate;return o().createElement("div",null,o().createElement(k.xBx,{closeModal:n,label:i("serviceQueue","Service queue"),title:i("removeFromQueueAndEndVisit","Remove patient from queue and end active visit?")}),o().createElement(k.fef,null,o().createElement("p",{className:_.subHeading,id:"subHeading"},i("endVisitWarningMessage","Ending this visit will remove this patient from the queue and will not allow you to fill another encounter form for this patient"))),o().createElement(k.mzw,null,o().createElement(k.zxk,{kind:"secondary",onClick:n},i("cancel","Cancel")),o().createElement(k.zxk,{kind:"danger",onClick:function(){var e,o,r={location:null==s||null===(e=s.location)||void 0===e?void 0:e.uuid,startDatetime:(0,q.parseDate)(null==s?void 0:s.startDatetime),visitType:null==s||null===(o=s.visitType)||void 0===o?void 0:o.uuid,stopDatetime:new Date},l=new AbortController,u=(0,q.toDateObjectStrict)((0,q.toOmrsIsoString)(new Date));(function(e,t,n,i){return(0,q.openmrsFetch)("/ws/rest/v1/queue/".concat(e,"/entry/").concat(n),{method:"POST",headers:{"Content-Type":"application/json"},signal:t.signal,body:{endedAt:i}})})(t.queueUuid,l,t.queueEntryUuid,u).then((function(e){200===e.status&&(s?(0,q.updateVisit)(s.uuid,r,l).pipe((0,w.P)()).subscribe((function(e){var t,o;200===e.status&&(n(),a("/ws/rest/v1/visit-queue-entry?v=full"),(0,q.showToast)({critical:!0,kind:"success",description:i("queueEntryRemovedAndVisitEndedSuccessfully","Queue entry removed and ".concat(null==e||null===(t=e.data)||void 0===t||null===(o=t.visitType)||void 0===o?void 0:o.display," ended successfully")),title:i("queueEntryRemoved","Queue entry removed")}))}),(function(e){(0,q.showNotification)({title:i("endVisitError","Error ending active visit"),kind:"error",critical:!0,description:null==e?void 0:e.message})})):(n(),a("/ws/rest/v1/visit-queue-entry?v=full"),(0,q.showToast)({critical:!0,kind:"success",description:i("queueEntryRemovedSuccessfully","Queue entry removed successfully"),title:i("queueEntryRemoved","Queue entry removed")})))}))}},i("endVisit","End Visit"))))}}}]);