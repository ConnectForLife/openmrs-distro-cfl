"use strict";(globalThis.webpackChunk_openmrs_esm_patient_medications_app=globalThis.webpackChunk_openmrs_esm_patient_medications_app||[]).push([[448],{188:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(272),a=r.n(n),i=r(2609),o=r.n(i)()(a());o.push([e.id,'.-esm-patient-medications__drug-order-form__orderForm___vL2h0{display:flex;flex-direction:column;justify-content:space-between;padding:.5rem 0 0 1rem;height:calc(100vh - 6rem)}.-esm-patient-medications__drug-order-form__orderForm___vL2h0 input[data-invalid]:focus{outline:2px solid #da1e28;outline-offset:-2px}.-esm-patient-medications__drug-order-form__orderForm___vL2h0 .cds--css-grid{max-width:unset}.-esm-patient-medications__drug-order-form__orderForm___vL2h0 .cds--css-grid-column{margin:0 .5rem !important}.-esm-patient-medications__drug-order-form__orderForm___vL2h0 .cds--subgrid{margin:0 -0.5rem !important}.-esm-patient-medications__drug-order-form__orderForm___vL2h0 .cds--number--nosteppers.cds--number input[type=number]{padding-right:1rem}.-esm-patient-medications__drug-order-form__orderForm___vL2h0 .cds--list-box{border:none}.-esm-patient-medications__drug-order-form__orderForm___vL2h0 .cds--number__control-btn{border:0}.-esm-patient-medications__drug-order-form__medicationInfo___gYwO0{border:0;padding:1rem;margin-left:-1rem;box-sizing:border-box}.-esm-patient-medications__drug-order-form__inlineNotification___sAKhX{width:100%;max-width:unset;margin-top:-0.5rem;margin-left:-1rem}.-esm-patient-medications__drug-order-form__stickyMedicationInfo___svd_Z{position:fixed;background-color:#0072c3;color:#fff;top:6rem;z-index:1;display:flex;align-items:center;width:100%}.-esm-patient-medications__drug-order-form__stickyMedicationInfo___svd_Z .-esm-patient-medications__drug-order-form__medicationInfo___gYwO0{margin:0}.-esm-patient-medications__drug-order-form__patientHeader___NBpRb{padding:.5rem 1rem 1.5rem;background-color:#f4f4f4}.-esm-patient-medications__drug-order-form__patientHeader___NBpRb span:first-of-type{margin-right:.5rem}.-esm-patient-medications__drug-order-form__patientHeader___NBpRb .-esm-patient-medications__drug-order-form__text02___v0zTv{color:#525252}.-esm-patient-medications__drug-order-form__orderFormHeading___Qtnbp{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin-bottom:0}.-esm-patient-medications__drug-order-form__formSection___bI_eL{margin-bottom:1.5rem}.-esm-patient-medications__drug-order-form__sectionHeader___QnosK{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px);margin-bottom:1rem}.-esm-patient-medications__drug-order-form__pullColumnContentRight___ZBDwn>div{float:right}.-esm-patient-medications__drug-order-form__fullWidthDatePickerContainer___pOrHe .cds--date-picker{width:100%}.-esm-patient-medications__drug-order-form__fullWidthDatePickerContainer___pOrHe .cds--date-picker .cds--date-picker-container{width:100%}.-esm-patient-medications__drug-order-form__fullWidthDatePickerContainer___pOrHe .cds--date-picker .cds--date-picker-container .cds--date-picker-input__wrapper{width:100%}.-esm-patient-medications__drug-order-form__fullWidthDatePickerContainer___pOrHe .cds--date-picker .cds--date-picker-container .cds--date-picker-input__wrapper .cds--date-picker__input{width:100%}.-esm-patient-medications__drug-order-form__numberInput___P4FpZ .cds--number__input-wrapper input{min-width:unset !important;padding-right:1rem}.-esm-patient-medications__drug-order-form__backButton___PgVmu{align-items:center;display:flex;justify-content:flex-start;margin:.5rem 0}.-esm-patient-medications__drug-order-form__backButton___PgVmu button{display:flex;padding-left:0 !important}.-esm-patient-medications__drug-order-form__backButton___PgVmu button svg{order:1;margin-right:.5rem;margin-left:0 !important}.-esm-patient-medications__drug-order-form__backButton___PgVmu button span{order:2}.-esm-patient-medications__drug-order-form__gridRow___dnsbo{padding:0px;margin-left:-0.5rem}.omrs-breakpoint-lt-desktop .-esm-patient-medications__drug-order-form__gridRow___dnsbo{align-items:baseline}.-esm-patient-medications__drug-order-form__field___nDN7_{margin-bottom:1rem}.-esm-patient-medications__drug-order-form__buttonSet___VyRPa{margin-left:-1rem}.-esm-patient-medications__drug-order-form__buttonSet___VyRPa .cds--btn{width:50%;max-width:unset}.-esm-patient-medications__drug-order-form__linkedInput___oBXaw{display:flex;align-items:center}.-esm-patient-medications__drug-order-form__linkedInput___oBXaw .cds--layer-one,.-esm-patient-medications__drug-order-form__linkedInput___oBXaw .cds--layer-two,.-esm-patient-medications__drug-order-form__linkedInput___oBXaw .cds--layer{flex:1}.-esm-patient-medications__drug-order-form__linkedInput___oBXaw::after{content:"";border:1px solid #a8a8a8;width:1rem;margin-right:-1rem}.-esm-patient-medications__drug-order-form__customNumberInput___FAYdA{display:flex;justify-content:flex-start;align-items:flex-end}.-esm-patient-medications__drug-order-form__customNumberInput___FAYdA .cds--btn{background-color:#393939}.-esm-patient-medications__drug-order-form__customNumberInput___FAYdA .-esm-patient-medications__drug-order-form__customInput___la6yQ input{text-align:center}.omrs-breakpoint-lt-desktop .-esm-patient-medications__drug-order-form__orderForm___vL2h0{height:100%;background-color:#ededed}.omrs-breakpoint-lt-desktop .-esm-patient-medications__drug-order-form__stickyMedicationInfo___svd_Z{top:3rem}.omrs-breakpoint-lt-desktop .-esm-patient-medications__drug-order-form__buttonSet___VyRPa{padding:1.5rem 1rem;background-color:#fff}.-esm-patient-medications__drug-order-form__fieldError___HiQYU .cds--number input[type=number]:focus{outline:2.5px solid #da1e28}.-esm-patient-medications__drug-order-form__fieldError___HiQYU input:focus,.-esm-patient-medications__drug-order-form__fieldError___HiQYU textarea:focus{outline:2.5px solid #da1e28}.-esm-patient-medications__drug-order-form__errorLabel___xYqFk{color:#da1e28}',"",{version:3,sources:["webpack://./src/add-drug-order/drug-order-form.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/colors/index.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAIA,8DACE,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,sBAAA,CACA,yBAAA,CAEA,wFACE,yBAAA,CACC,mBAAA,CAGH,6EACE,eAAA,CAGF,oFACE,yBAAA,CAGF,4EACE,2BAAA,CAGF,sHACE,kBCES,CDCX,6EACE,WAAA,CAGF,wFACE,QAAA,CAIJ,mEACE,QAAA,CACA,YCZW,CDaX,iBAAA,CACA,qBAAA,CAGF,uEACE,UAAA,CACA,eAAA,CACA,kBAAA,CACA,iBAAA,CAGF,yEACE,cAAA,CACA,wBEpBQ,CFqBR,UEgEQ,CF/DR,QCOW,CDNX,SAAA,CACA,YAAA,CACA,kBAAA,CACA,UAAA,CAEA,4IACE,QAAA,CAIJ,kEACE,yBAAA,CACA,wBE9BQ,CFgCR,qFACE,kBCtDS,CDyDX,6HACE,aE/BM,CFmCV,qEGuvBI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CHrvBF,eAAA,CAGF,gEACE,oBCrDW,CDwDb,kEG8uBI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CH5uBF,kBC/DW,CDkEb,+EACE,WAAA,CAIA,mGACE,UAAA,CAEA,+HACE,UAAA,CAEA,gKACE,UAAA,CAEA,yLACE,UAAA,CAQR,kGACA,0BAAA,CACA,kBC3FW,CD+Fb,+DACE,kBAAA,CACA,YAAA,CACA,0BAAA,CACA,cAAA,CAEA,sEACE,YAAA,CACD,yBAAA,CACC,0EACE,OAAA,CACA,kBCpHO,CDqHP,wBAAA,CAGF,2EACE,OAAA,CAKN,4DACE,WAAA,CACA,mBAAA,CAIF,wFACE,oBAAA,CAGF,0DACE,kBC/HW,CDkIb,8DACE,iBAAA,CAEA,wEACE,SAAA,CACA,eAAA,CAIJ,gEACE,YAAA,CACA,kBAAA,CAEA,4OAGE,MAAA,CAIJ,uEACE,UAAA,CACA,wBAAA,CACA,UCzJW,CD0JX,kBAAA,CAGF,sEACE,YAAA,CACA,0BAAA,CACA,oBAAA,CAEA,gFACE,wBEjJM,CFqJN,4IACE,iBAAA,CAOJ,0FACE,WAAA,CACA,wBAAA,CAGF,qGACE,QCjKS,CDoKX,0FACE,mBAAA,CACA,qBE/FM,CFoGR,qGACE,2BAAA,CAGF,yJACE,2BAAA,CAIJ,+DACE,aEvIO",sourceRoot:""}]),o.locals={orderForm:"-esm-patient-medications__drug-order-form__orderForm___vL2h0",medicationInfo:"-esm-patient-medications__drug-order-form__medicationInfo___gYwO0",inlineNotification:"-esm-patient-medications__drug-order-form__inlineNotification___sAKhX",stickyMedicationInfo:"-esm-patient-medications__drug-order-form__stickyMedicationInfo___svd_Z",patientHeader:"-esm-patient-medications__drug-order-form__patientHeader___NBpRb",text02:"-esm-patient-medications__drug-order-form__text02___v0zTv",orderFormHeading:"-esm-patient-medications__drug-order-form__orderFormHeading___Qtnbp",formSection:"-esm-patient-medications__drug-order-form__formSection___bI_eL",sectionHeader:"-esm-patient-medications__drug-order-form__sectionHeader___QnosK",pullColumnContentRight:"-esm-patient-medications__drug-order-form__pullColumnContentRight___ZBDwn",fullWidthDatePickerContainer:"-esm-patient-medications__drug-order-form__fullWidthDatePickerContainer___pOrHe",numberInput:"-esm-patient-medications__drug-order-form__numberInput___P4FpZ",backButton:"-esm-patient-medications__drug-order-form__backButton___PgVmu",gridRow:"-esm-patient-medications__drug-order-form__gridRow___dnsbo",field:"-esm-patient-medications__drug-order-form__field___nDN7_",buttonSet:"-esm-patient-medications__drug-order-form__buttonSet___VyRPa",linkedInput:"-esm-patient-medications__drug-order-form__linkedInput___oBXaw",customNumberInput:"-esm-patient-medications__drug-order-form__customNumberInput___FAYdA",customInput:"-esm-patient-medications__drug-order-form__customInput___la6yQ",fieldError:"-esm-patient-medications__drug-order-form__fieldError___HiQYU",errorLabel:"-esm-patient-medications__drug-order-form__errorLabel___xYqFk"};const s=o},5517:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(272),a=r.n(n),i=r(2609),o=r.n(i)()(a());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-medications__order-basket-search-results__productiveHeading01___ZLueI{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);margin-bottom:.5rem}.-esm-patient-medications__order-basket-search-results__productiveHeading02___itvHE{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-bottom:1rem}.-esm-patient-medications__order-basket-search-results__productiveHeading03___tFnwF{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin-bottom:1rem}.-esm-patient-medications__order-basket-search-results__productiveHeading04___PDAPf{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0);margin-bottom:1rem}.-esm-patient-medications__order-basket-search-results__productiveHeading05___ekgP_{font-size:var(--cds-heading-05-font-size, 2rem);font-weight:var(--cds-heading-05-font-weight, 400);line-height:var(--cds-heading-05-line-height, 1.25);letter-spacing:var(--cds-heading-05-letter-spacing, 0);margin-bottom:1rem}.-esm-patient-medications__order-basket-search-results__productiveHeading06___Iz7yf{font-size:var(--cds-heading-06-font-size, 2.625rem);font-weight:var(--cds-heading-06-font-weight, 300);line-height:var(--cds-heading-06-line-height, 1.199);letter-spacing:var(--cds-heading-06-letter-spacing, 0);margin-bottom:1.5rem}.-esm-patient-medications__order-basket-search-results__bodyShort01___Jnf_p{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-patient-medications__order-basket-search-results__bodyShort02___CRZsM{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-patient-medications__order-basket-search-results__bodyLong01___yc9Hc{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-patient-medications__order-basket-search-results__bodyLong02___kj49a{font-size:var(--cds-body-02-font-size, 1rem);font-weight:var(--cds-body-02-font-weight, 400);line-height:var(--cds-body-02-line-height, 1.5);letter-spacing:var(--cds-body-02-letter-spacing, 0)}.-esm-patient-medications__order-basket-search-results__label01___j6B0h,.-esm-patient-medications__order-basket-search-results__errorLabel___lbQnZ{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-medications__order-basket-search-results__caption01___Eivdq{font-size:var(--cds-legal-01-font-size, 0.75rem);font-weight:var(--cds-legal-01-font-weight, 400);line-height:var(--cds-legal-01-line-height, 1.33333);letter-spacing:var(--cds-legal-01-letter-spacing, 0.32px)}.-esm-patient-medications__order-basket-search-results__clipTextWithEllipsis___j3JD_{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.-esm-patient-medications__order-basket-search-results__text02___Onm3v{color:#525252}.-esm-patient-medications__order-basket-search-results__container___W8fXt{margin:.5rem 1rem .5rem}.-esm-patient-medications__order-basket-search-results__desktopSearchResultTile___PrSwr{padding:.5rem 1rem;border-left:4px solid var(--brand-03)}.-esm-patient-medications__order-basket-search-results__desktopSearchResultTile___PrSwr:not(:last-of-type){margin-bottom:.5rem}.-esm-patient-medications__order-basket-search-results__tabletSearchResultTile___EO_Lg{padding:.5rem 1rem;margin-top:5px;border-left:2px solid var(--brand-03);background-color:#fff}.-esm-patient-medications__order-basket-search-results__tabletSearchResultTile___EO_Lg:not(:last-of-type){margin-bottom:1rem}.-esm-patient-medications__order-basket-search-results__divider___p4nyH{border:0;border-top:1px solid #c6c6c6;width:66%}.-esm-patient-medications__order-basket-search-results__desktopDivider___RdrEL{margin:2rem auto 1rem}.-esm-patient-medications__order-basket-search-results__tabletDivider___IZXVT{margin:2.5rem auto 1.5rem}.-esm-patient-medications__order-basket-search-results__searchResultsCount___NC92j{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-patient-medications__order-basket-search-results__orderBasketSearchResultsHeader___pyXFI{display:flex;justify-content:space-between;margin-bottom:.5rem;align-items:center}.-esm-patient-medications__order-basket-search-results__searchResultTile___XPnSH{display:flex;justify-content:space-between;align-items:center}.-esm-patient-medications__order-basket-search-results__searchResultTileContent___hxtrY{flex:1 1 auto}.-esm-patient-medications__order-basket-search-results__addToBasketButton___etV2j{color:#000;flex:0 0 auto}.-esm-patient-medications__order-basket-search-results__errorLabel___lbQnZ{color:#da1e28}.-esm-patient-medications__order-basket-search-results__searchResultSkeletonWrapper___ooBvl{margin:.5rem 1rem .5rem}.-esm-patient-medications__order-basket-search-results__searchResultSkeletonWrapper___ooBvl .cds--skeleton__text{margin:0}.-esm-patient-medications__order-basket-search-results__searchResultSkeletonWrapper___ooBvl .-esm-patient-medications__order-basket-search-results__searchResultCntSkeleton___r8nBy{margin-right:2rem}.-esm-patient-medications__order-basket-search-results__searchResultSkeletonWrapper___ooBvl .-esm-patient-medications__order-basket-search-results__skeletonTile___t568y{display:flex;align-items:center}.-esm-patient-medications__order-basket-search-results__emptyState___lzgY1{margin:1rem;display:flex;justify-content:center;align-items:center;padding:2rem;border:1px solid #e0e0e0;text-align:center;background-color:#f4f4f4}.omrs-breakpoint-lt-small-desktop .-esm-patient-medications__order-basket-search-results__emptyState___lzgY1{background-color:#fff}.-esm-patient-medications__order-basket-search-results__link___GoKj9{color:#0f62fe;text-decoration:underline;cursor:pointer}.-esm-patient-medications__order-basket-search-results__resultsContainer___diXxD{max-height:27.5rem;overflow-y:scroll}.-esm-patient-medications__order-basket-search-results__resultsContainer___diXxD::-webkit-scrollbar{width:.5rem}.-esm-patient-medications__order-basket-search-results__resultsContainer___diXxD::-webkit-scrollbar-thumb{background:#8d8d8d;border-radius:.25rem}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./src/add-drug-order/drug-search/order-basket-search-results.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,oFCs0BI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CDp0BF,mBEeW,CFZb,oFCi0BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CD/zBF,kBEoBW,CFjBb,oFC4zBI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CD1zBF,kBEeW,CFZb,oFCuzBI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CDrzBF,kBEUW,CFPb,oFCkzBI,+CAAA,CAAA,kDAAA,CAAA,mDAAA,CAAA,sDAAA,CDhzBF,kBEKW,CFFb,oFC6yBI,mDAAA,CAAA,kDAAA,CAAA,oDAAA,CAAA,sDAAA,CD3yBF,oBEKW,CFFb,4ECwyBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDpyBJ,4ECoyBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDhyBJ,2ECgyBI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD5xBJ,2EC4xBI,4CAAA,CAAA,+CAAA,CAAA,+CAAA,CAAA,mDAAA,CDxxBJ,mJCwxBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDpxBJ,0ECoxBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDhxBJ,qFACE,sBAAA,CACA,eAAA,CACA,kBAAA,CAGF,uEACE,aD5DQ,CIDV,0EACE,uBAAA,CAGF,wFACE,kBAAA,CACA,qCAAA,CAEA,2GACE,mBDQS,CCJb,uFACE,kBAAA,CACA,cAAA,CACA,qCAAA,CACA,qBJpBM,CIsBN,0GACE,kBAAA,CAIJ,wEACE,QAAA,CACA,4BAAA,CACA,SAAA,CAGF,+EACE,qBAAA,CAGF,8EACE,yBAAA,CAGF,mFFgyBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CE9xBF,aJvCQ,CI0CV,+FACE,YAAA,CACA,6BAAA,CACA,mBD7BW,CC8BX,kBAAA,CAGF,iFACE,YAAA,CACA,6BAAA,CACA,kBAAA,CAGF,wFACE,aAAA,CAGF,kFACE,UAAA,CACA,aAAA,CAGF,2EAEE,aJnDO,CIsDT,4FACE,uBAAA,CAEA,iHACE,QAAA,CAGF,oLACE,iBDzCS,CC4CX,yKACE,YAAA,CACA,kBAAA,CAIJ,2EACE,WD7DW,CC8DX,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,YDvDW,CCwDX,wBAAA,CACA,iBAAA,CACA,wBJnGM,CIsGR,6GACE,qBJtGM,CIyGR,qEACE,aJtFe,CIuFf,yBAAA,CACA,cAAA,CAGF,iFACE,kBAAA,CACA,iBAAA,CAGF,oGACE,WDjGW,CCoGb,0GACE,kBJvHM,CIwHN,oBD3GW",sourceRoot:""}]),o.locals={productiveHeading01:"-esm-patient-medications__order-basket-search-results__productiveHeading01___ZLueI",productiveHeading02:"-esm-patient-medications__order-basket-search-results__productiveHeading02___itvHE",productiveHeading03:"-esm-patient-medications__order-basket-search-results__productiveHeading03___tFnwF",productiveHeading04:"-esm-patient-medications__order-basket-search-results__productiveHeading04___PDAPf",productiveHeading05:"-esm-patient-medications__order-basket-search-results__productiveHeading05___ekgP_",productiveHeading06:"-esm-patient-medications__order-basket-search-results__productiveHeading06___Iz7yf",bodyShort01:"-esm-patient-medications__order-basket-search-results__bodyShort01___Jnf_p",bodyShort02:"-esm-patient-medications__order-basket-search-results__bodyShort02___CRZsM",bodyLong01:"-esm-patient-medications__order-basket-search-results__bodyLong01___yc9Hc",bodyLong02:"-esm-patient-medications__order-basket-search-results__bodyLong02___kj49a",label01:"-esm-patient-medications__order-basket-search-results__label01___j6B0h",errorLabel:"-esm-patient-medications__order-basket-search-results__errorLabel___lbQnZ",caption01:"-esm-patient-medications__order-basket-search-results__caption01___Eivdq",clipTextWithEllipsis:"-esm-patient-medications__order-basket-search-results__clipTextWithEllipsis___j3JD_",text02:"-esm-patient-medications__order-basket-search-results__text02___Onm3v",container:"-esm-patient-medications__order-basket-search-results__container___W8fXt",desktopSearchResultTile:"-esm-patient-medications__order-basket-search-results__desktopSearchResultTile___PrSwr",tabletSearchResultTile:"-esm-patient-medications__order-basket-search-results__tabletSearchResultTile___EO_Lg",divider:"-esm-patient-medications__order-basket-search-results__divider___p4nyH",desktopDivider:"-esm-patient-medications__order-basket-search-results__desktopDivider___RdrEL",tabletDivider:"-esm-patient-medications__order-basket-search-results__tabletDivider___IZXVT",searchResultsCount:"-esm-patient-medications__order-basket-search-results__searchResultsCount___NC92j",orderBasketSearchResultsHeader:"-esm-patient-medications__order-basket-search-results__orderBasketSearchResultsHeader___pyXFI",searchResultTile:"-esm-patient-medications__order-basket-search-results__searchResultTile___XPnSH",searchResultTileContent:"-esm-patient-medications__order-basket-search-results__searchResultTileContent___hxtrY",addToBasketButton:"-esm-patient-medications__order-basket-search-results__addToBasketButton___etV2j",searchResultSkeletonWrapper:"-esm-patient-medications__order-basket-search-results__searchResultSkeletonWrapper___ooBvl",searchResultCntSkeleton:"-esm-patient-medications__order-basket-search-results__searchResultCntSkeleton___r8nBy",skeletonTile:"-esm-patient-medications__order-basket-search-results__skeletonTile___t568y",emptyState:"-esm-patient-medications__order-basket-search-results__emptyState___lzgY1",link:"-esm-patient-medications__order-basket-search-results__link___GoKj9",resultsContainer:"-esm-patient-medications__order-basket-search-results__resultsContainer___diXxD"};const s=o},6515:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(272),a=r.n(n),i=r(2609),o=r.n(i)()(a());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-medications__order-basket-search__productiveHeading01___fMFgP{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);margin-bottom:.5rem}.-esm-patient-medications__order-basket-search__productiveHeading02___Eg4YX{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-bottom:1rem}.-esm-patient-medications__order-basket-search__productiveHeading03___yClYG{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin-bottom:1rem}.-esm-patient-medications__order-basket-search__productiveHeading04___eAg0n{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0);margin-bottom:1rem}.-esm-patient-medications__order-basket-search__productiveHeading05___XavgL{font-size:var(--cds-heading-05-font-size, 2rem);font-weight:var(--cds-heading-05-font-weight, 400);line-height:var(--cds-heading-05-line-height, 1.25);letter-spacing:var(--cds-heading-05-letter-spacing, 0);margin-bottom:1rem}.-esm-patient-medications__order-basket-search__productiveHeading06___pTCJT{font-size:var(--cds-heading-06-font-size, 2.625rem);font-weight:var(--cds-heading-06-font-weight, 300);line-height:var(--cds-heading-06-line-height, 1.199);letter-spacing:var(--cds-heading-06-letter-spacing, 0);margin-bottom:1.5rem}.-esm-patient-medications__order-basket-search__bodyShort01___o5LuJ{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-patient-medications__order-basket-search__bodyShort02___ubjjr{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-patient-medications__order-basket-search__bodyLong01___UWRMH{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-patient-medications__order-basket-search__bodyLong02___EbYEW{font-size:var(--cds-body-02-font-size, 1rem);font-weight:var(--cds-body-02-font-weight, 400);line-height:var(--cds-body-02-line-height, 1.5);letter-spacing:var(--cds-body-02-letter-spacing, 0)}.-esm-patient-medications__order-basket-search__label01___zAnA1{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-medications__order-basket-search__caption01___VxSHL{font-size:var(--cds-legal-01-font-size, 0.75rem);font-weight:var(--cds-legal-01-font-weight, 400);line-height:var(--cds-legal-01-line-height, 1.33333);letter-spacing:var(--cds-legal-01-letter-spacing, 0.32px)}.-esm-patient-medications__order-basket-search__clipTextWithEllipsis___sdJoH{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.-esm-patient-medications__order-basket-search__text02___wRuDD{color:#525252}.-esm-patient-medications__order-basket-search__searchPopupContainer___OvtsT{position:relative;height:100vh}.-esm-patient-medications__order-basket-search__searchPopup___M2oYB{margin:0;padding:0;min-height:0;position:absolute;width:100%;box-shadow:0 2px 6px 0 rgba(0,0,0,.3);z-index:1}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./src/add-drug-order/drug-search/order-basket-search.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,4ECs0BI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CDp0BF,mBEeW,CFZb,4ECi0BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CD/zBF,kBEoBW,CFjBb,4EC4zBI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CD1zBF,kBEeW,CFZb,4ECuzBI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CDrzBF,kBEUW,CFPb,4ECkzBI,+CAAA,CAAA,kDAAA,CAAA,mDAAA,CAAA,sDAAA,CDhzBF,kBEKW,CFFb,4EC6yBI,mDAAA,CAAA,kDAAA,CAAA,oDAAA,CAAA,sDAAA,CD3yBF,oBEKW,CFFb,oECwyBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDpyBJ,oECoyBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDhyBJ,mECgyBI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD5xBJ,mEC4xBI,4CAAA,CAAA,+CAAA,CAAA,+CAAA,CAAA,mDAAA,CDxxBJ,gECwxBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDpxBJ,kECoxBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDhxBJ,6EACE,sBAAA,CACA,eAAA,CACA,kBAAA,CAGF,+DACE,aD5DQ,CIHV,6EACE,iBAAA,CACA,YAAA,CAGF,oEAGE,QAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CACA,UAAA,CACA,qCAAA,CACA,SAAA",sourceRoot:""}]),o.locals={productiveHeading01:"-esm-patient-medications__order-basket-search__productiveHeading01___fMFgP",productiveHeading02:"-esm-patient-medications__order-basket-search__productiveHeading02___Eg4YX",productiveHeading03:"-esm-patient-medications__order-basket-search__productiveHeading03___yClYG",productiveHeading04:"-esm-patient-medications__order-basket-search__productiveHeading04___eAg0n",productiveHeading05:"-esm-patient-medications__order-basket-search__productiveHeading05___XavgL",productiveHeading06:"-esm-patient-medications__order-basket-search__productiveHeading06___pTCJT",bodyShort01:"-esm-patient-medications__order-basket-search__bodyShort01___o5LuJ",bodyShort02:"-esm-patient-medications__order-basket-search__bodyShort02___ubjjr",bodyLong01:"-esm-patient-medications__order-basket-search__bodyLong01___UWRMH",bodyLong02:"-esm-patient-medications__order-basket-search__bodyLong02___EbYEW",label01:"-esm-patient-medications__order-basket-search__label01___zAnA1",caption01:"-esm-patient-medications__order-basket-search__caption01___VxSHL",clipTextWithEllipsis:"-esm-patient-medications__order-basket-search__clipTextWithEllipsis___sdJoH",text02:"-esm-patient-medications__order-basket-search__text02___wRuDD",searchPopupContainer:"-esm-patient-medications__order-basket-search__searchPopupContainer___OvtsT",searchPopup:"-esm-patient-medications__order-basket-search__searchPopup___M2oYB"};const s=o},8448:(e,t,r)=>{r.r(t),r.d(t,{default:()=>pe});var n=r(268),a=r.n(n),i=r(4924),o=r(370),s=r(2870),d=r(37),l=r(2303);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){var t=(0,l.Z)(e?"/ws/rest/v1/ordertemplates/orderTemplate?drug=".concat(e):null,s.openmrsFetch),r=t.data,a=t.error,i=t.isLoading,o=(0,n.useMemo)((function(){var e,t;return{isLoading:i,templates:null==r||null===(t=r.data)||void 0===t||null===(e=t.results)||void 0===e?void 0:e.map((function(e){return t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){u(e,t,r[t])}))}return e}({},e),r=null!=(r={template:JSON.parse(e.template)})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})),t;var t,r})),error:a}}),[r,a,i]);return o}function A(e,t){var r,n;return(null===(r=e.dosingInstructions[t])||void 0===r?void 0:r.find((function(e){return e.default})))||(null===(n=e.dosingInstructions[t])||void 0===n?void 0:n[0])}function p(e,t,r){var n,a,i,o,s,d,l,c,u,m,_;return r?{action:"NEW",display:e.display,drug:e,unit:(null!==(m=A(r.template,"unit"))&&void 0!==m?m:null==e?void 0:e.dosageForm)?{value:null==e||null===(n=e.dosageForm)||void 0===n?void 0:n.display,valueCoded:null==e||null===(a=e.dosageForm)||void 0===a?void 0:a.uuid}:null,dosage:null===(i=A(r.template,"dose"))||void 0===i?void 0:i.value,frequency:A(r.template,"frequency"),route:A(r.template,"route"),commonMedicationName:e.display,isFreeTextDosage:!1,patientInstructions:"",asNeeded:r.template.dosingInstructions.asNeeded||!1,asNeededCondition:r.template.dosingInstructions.asNeededCondition,startDate:new Date,duration:null,durationUnit:t?{value:null==t?void 0:t.display,valueCoded:null==t?void 0:t.uuid}:null,pillsDispensed:0,numRefills:0,freeTextDosage:"",indication:"",template:r.template,orderer:null,careSetting:null,quantityUnits:(null!==(_=A(r.template,"quantityUnits"))&&void 0!==_?_:null==e?void 0:e.dosageForm)?{value:null==e||null===(o=e.dosageForm)||void 0===o?void 0:o.display,valueCoded:null==e||null===(s=e.dosageForm)||void 0===s?void 0:s.uuid}:null}:{action:"NEW",display:e.display,drug:e,unit:(null==e?void 0:e.dosageForm)?{value:null==e||null===(d=e.dosageForm)||void 0===d?void 0:d.display,valueCoded:null==e||null===(l=e.dosageForm)||void 0===l?void 0:l.uuid}:null,dosage:null,frequency:null,route:null,commonMedicationName:e.display,isFreeTextDosage:!1,patientInstructions:"",asNeeded:!1,asNeededCondition:null,startDate:new Date,duration:null,durationUnit:t?{value:null==t?void 0:t.display,valueCoded:null==t?void 0:t.uuid}:null,pillsDispensed:0,numRefills:0,freeTextDosage:"",indication:"",orderer:null,careSetting:null,quantityUnits:(null==e?void 0:e.dosageForm)?{value:null==e||null===(c=e.dosageForm)||void 0===c?void 0:c.display,valueCoded:null==e||null===(u=e.dosageForm)||void 0===u?void 0:u.uuid}:null}}var g=r(1354),h=r.n(g),f=r(1583),v=r.n(f),C=r(7378),b=r.n(C),y=r(5993),E=r.n(y),k=r(4154),D=r.n(k),B=r(8141),w=r.n(B),F=r(5517),x={};x.styleTagTransform=w(),x.setAttributes=E(),x.insert=b().bind(null,"head"),x.domAPI=v(),x.insertStyleElement=D(),h()(F.Z,x);const T=F.Z&&F.Z.locals?F.Z.locals:void 0;function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){var t=e.searchTerm,r=e.onSearchResultClicked,d=e.focusAndClearSearchInput,c=(0,i.useTranslation)().t,u="tablet"===(0,s.useLayoutType)(),m=function(e){var t=(0,l.Z)(e?"/ws/rest/v1/drug?q=".concat(e,"&v=custom:(uuid,display,name,strength,dosageForm:(display,uuid),concept:(display,uuid))"):null,s.openmrsFetch),r=t.data,a=t.error,i=t.isLoading;return(0,n.useMemo)((function(){var e;return{isLoading:i,drugs:null==r||null===(e=r.data)||void 0===e?void 0:e.results,error:a}}),[r,a,i])}(t),_=m.drugs,A=m.isLoading,p=m.error;return t?A?a().createElement(z,null):p?a().createElement(o.n9L,{className:T.emptyState},a().createElement("div",null,a().createElement("h4",{className:T.productiveHeading01},c("errorFetchingDrugResults",'Error fetching results for "{searchTerm}"',{searchTerm:t})),a().createElement("p",{className:T.bodyShort01},a().createElement("span",null,c("trySearchingAgain","Please try searching again"))))):a().createElement(a().Fragment,null,(null==_?void 0:_.length)?a().createElement("div",{className:T.container},a().createElement("div",{className:T.orderBasketSearchResultsHeader},a().createElement("span",{className:T.searchResultsCount},c("searchResultsMatchesForTerm",'{count} result{plural} for "{searchTerm}"',{count:null==_?void 0:_.length,searchTerm:t,plural:0===(null==_?void 0:_.length)||(null==_?void 0:_.length)>1?"s":""})),a().createElement(o.zxk,{kind:"ghost",onClick:d,size:u?"md":"sm"},c("clearSearchResults","Clear Results"))),a().createElement("div",{className:T.resultsContainer},_.map((function(e){return a().createElement(N,{key:e.uuid,drug:e,onSearchResultClicked:r})})))):a().createElement(o.n9L,{className:T.emptyState},a().createElement("div",null,a().createElement("h4",{className:T.productiveHeading01},c("noResultsForDrugSearch",'No results to display for "{searchTerm}"',{searchTerm:t})),a().createElement("p",{className:T.bodyShort01},a().createElement("span",null,c("tryTo","Try to"))," ",a().createElement("span",{className:T.link,role:"link",tabIndex:0,onClick:d},c("searchAgain","search again"))," ",a().createElement("span",null,c("usingADifferentTerm","using a different term"))))),a().createElement("hr",{className:"".concat(T.divider," ").concat("".concat(u?T.tabletDivider:T.desktopDivider))})):null}var N=function(e){var t=e.drug,r=e.onSearchResultClicked,l="tablet"===(0,s.useLayoutType)(),c=_(null==t?void 0:t.uuid),u=c.templates,m=(c.isLoading,c.error),A=(0,i.useTranslation)().t,g=(0,s.useConfig)(),h=(0,n.useMemo)((function(){return(null==u?void 0:u.length)?u.map((function(e){return p(t,null==g?void 0:g.daysDurationUnit,e)})):[p(t,null==g?void 0:g.daysDurationUnit)]}),[u,t,null==g?void 0:g.daysDurationUnit]);return a().createElement(a().Fragment,null,h.map((function(e,n){var i,c,_,p,g,h,f;return a().createElement(o.Ohc,{key:(null==u?void 0:u.length)?null===(i=u[n])||void 0===i?void 0:i.uuid:null==t?void 0:t.uuid,role:"listitem",className:"".concat(l?T.tabletSearchResultTile:T.desktopSearchResultTile),onClick:function(){return r(e,!1)}},a().createElement("div",{className:T.searchResultTile},a().createElement("div",{className:"".concat(T.searchResultTileContent," ").concat(T.text02)},a().createElement("p",null,a().createElement("span",{className:T.productiveHeading01},null==t?void 0:t.display)," ",(null==t?void 0:t.strength)&&a().createElement(a().Fragment,null,"— ",null==t?void 0:t.strength.toLowerCase())," ",(null==t||null===(c=t.dosageForm)||void 0===c?void 0:c.display)&&a().createElement(a().Fragment,null,"— ",null==t||null===(_=t.dosageForm)||void 0===_?void 0:_.display.toLowerCase())),a().createElement(s.UserHasAccess,{privilege:"Manage OrderTemplates"},m?a().createElement("p",null,a().createElement("span",{className:T.errorLabel},A("errorFetchingDrugOrderTemplates","Error fetching drug order templates"))):a().createElement("p",null,(null==e||null===(p=e.frequency)||void 0===p?void 0:p.value)&&a().createElement("span",{className:T.label01},null==e||null===(g=e.frequency)||void 0===g?void 0:g.value.toLowerCase()),(null==e||null===(h=e.route)||void 0===h?void 0:h.value)&&a().createElement("span",{className:T.label01},"— ",null==e||null===(f=e.route)||void 0===f?void 0:f.value.toLowerCase())))),a().createElement(o.zxk,{className:T.addToBasketButton,kind:"ghost",hasIconOnly:!0,renderIcon:function(e){return a().createElement(d.yT,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){I(e,t,r[t])}))}return e}({size:16},e))},iconDescription:A("directlyAddToBasket","Immediately add to basket"),onClick:function(){return r(e,!0)},tooltipPosition:"left",tooltipAlignment:"end"})))})))},z=function(){var e="tablet"===(0,s.useLayoutType)(),t="".concat("".concat(e?T.tabletSearchResultTile:T.desktopSearchResultTile)," ").concat(T.skeletonTile);return a().createElement("div",{className:T.searchResultSkeletonWrapper},a().createElement("div",{className:T.orderBasketSearchResultsHeader},a().createElement(o.N2B,{className:T.searchResultCntSkeleton}),a().createElement(o.Db,{size:e?"md":"sm"})),a().createElement(o.n9L,{className:t},a().createElement(o.N2B,null)),a().createElement(o.n9L,{className:t},a().createElement(o.N2B,null)),a().createElement(o.n9L,{className:t},a().createElement(o.N2B,null)),a().createElement(o.n9L,{className:t},a().createElement(o.N2B,null)),a().createElement("hr",{className:"".concat(T.divider," ").concat("".concat(e?T.tabletDivider:T.desktopDivider))}))},R=r(6515),O={};O.styleTagTransform=w(),O.setAttributes=E(),O.insert=b().bind(null,"head"),O.domAPI=v(),O.insertStyleElement=D(),h()(R.Z,O);const P=R.Z&&R.Z.locals?R.Z.locals:void 0;function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(e){var t,r,d=e.onSearchResultClicked,l=(0,i.useTranslation)().t,c="tablet"===(0,s.useLayoutType)(),u=(t=(0,n.useState)(""),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(t,r)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=u[0],A=u[1],p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=m((0,n.useState)(e),2),a=r[0],i=r[1];return(0,n.useEffect)((function(){var r=setTimeout((function(){i(e)}),t);return function(){clearTimeout(r)}}),[e,t]),a}(_),g=(0,n.useRef)(null);return a().createElement("div",{className:P.searchPopupContainer},a().createElement(U,{isTablet:c},a().createElement(o.olm,{size:"lg",placeholder:l("searchFieldPlaceholder",'Search for a drug or orderset (e.g. "Aspirin")'),labelText:l("searchFieldPlaceholder",'Search for a drug or orderset (e.g. "Aspirin")'),onChange:function(e){var t;A(null!==(t=e.target.value)&&void 0!==t?t:"")},ref:g,value:_})),a().createElement(S,{searchTerm:p,onSearchResultClicked:d,focusAndClearSearchInput:function(){var e;A(""),null===(e=g.current)||void 0===e||e.focus()}}))}function U(e){var t=e.children;return e.isTablet?a().createElement(o.mh4,null,t," "):a().createElement(a().Fragment,null,t)}var L=r(4556),G=r(3315),q=r(6759),W=r(6039),Z=r(195),M=r(8883),J=r(3955),Y=r(188),X={};X.styleTagTransform=w(),X.setAttributes=E(),X.insert=b().bind(null,"head"),X.domAPI=v(),X.insertStyleElement=D(),h()(Y.Z,X);const V=Y.Z&&Y.Z.locals?Y.Z.locals:void 0;function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){K(e,t,r[t])}))}return e}function ee(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function te(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ne={value:Z.z.string(),valueCoded:Z.z.string(),default:Z.z.boolean().optional()},ae={freeTextDosage:Z.z.string().refine((function(e){return""!==e}),{message:"Add free dosage note"}),dosage:Z.z.number({invalid_type_error:"A dosage is required"}),unit:Z.z.object($({},ne),{invalid_type_error:"Please select a unit"}),route:Z.z.object($({},ne),{invalid_type_error:"Please select a route"}),patientInstructions:Z.z.string().nullable(),asNeeded:Z.z.boolean(),asNeededCondition:Z.z.string().nullable(),duration:Z.z.number().nullable(),durationUnit:Z.z.object($({},ne)).nullable(),pillsDispensed:Z.z.number().nullable(),quantityUnits:Z.z.object($({},ne)).nullable(),numRefills:Z.z.number().nullable(),indication:Z.z.string().refine((function(e){return""!==e}),{message:"Please add an indication"}),startDate:Z.z.date(),frequency:Z.z.object($({},ne),{invalid_type_error:"Please select a frequency"})},ie=Z.z.discriminatedUnion("isFreeTextDosage",[Z.z.object(ee($({},ae),{isFreeTextDosage:Z.z.literal(!1),freeTextDosage:Z.z.string().optional()})),Z.z.object(ee($({},ae),{isFreeTextDosage:Z.z.literal(!0),dosage:Z.z.number().nullable(),unit:Z.z.object($({},ne)).nullable(),route:Z.z.object($({},ne)).nullable(),frequency:Z.z.object($({},ne)).nullable()}))]);function oe(e){var t,r,n,o,s,d,l,c=e.orderBasketItem,u=e.routeValue,m=e.unitValue,_=e.dosage,A=(0,i.useTranslation)().t;return a().createElement("div",{className:V.medicationInfo,id:"medicationInfo"},a().createElement("strong",{className:V.productiveHeading02},null==c||null===(t=c.drug)||void 0===t?void 0:t.display," ",(null==c||null===(r=c.drug)||void 0===r?void 0:r.strength)&&"(".concat(null===(n=c.drug)||void 0===n?void 0:n.strength,")"))," ",a().createElement("span",{className:V.bodyLong01},u&&a().createElement(a().Fragment,null,"— ",u)," ",(null==c||null===(s=c.drug)||void 0===s||null===(o=s.dosageForm)||void 0===o?void 0:o.display)&&a().createElement(a().Fragment,null,"— ",null==c||null===(l=c.drug)||void 0===l||null===(d=l.dosageForm)||void 0===d?void 0:d.display)," "),_&&m?a().createElement(a().Fragment,null,"— ",a().createElement("span",{className:V.caption01},A("dose","Dose").toUpperCase())," ",a().createElement("strong",null,a().createElement("span",{className:V.productiveHeading02},_," ",m.toLowerCase()))):null," ")}function se(e){var t=e.children,r="tablet"===(0,s.useLayoutType)();return a().createElement(o.mh4,{level:r?1:0},a().createElement("div",{className:V.field},t))}function de(e){var t,r,d,c,u,m,_,A,p,g,h,f,v=e.initialOrderBasketItem,C=e.onSave,b=e.onCancel,y=(0,i.useTranslation)().t,E="tablet"===(0,s.useLayoutType)(),k=(p=(0,l.Z)("/ws/rest/v1/orderentryconfig",s.openmrsFetch),g=p.data,h=p.error,f=p.isLoading,p.isValidating,(0,n.useMemo)((function(){var e,t,r,n,a,i,o,s,d,l;return{orderConfigObject:{drugRoutes:null==g||null===(t=g.data)||void 0===t||null===(e=t.drugRoutes)||void 0===e?void 0:e.map((function(e){return{valueCoded:e.uuid,value:e.display}})),drugDosingUnits:null==g||null===(n=g.data)||void 0===n||null===(r=n.drugDosingUnits)||void 0===r?void 0:r.map((function(e){return{valueCoded:e.uuid,value:e.display}})),drugDispensingUnits:null==g||null===(i=g.data)||void 0===i||null===(a=i.drugDispensingUnits)||void 0===a?void 0:a.map((function(e){return{valueCoded:e.uuid,value:e.display}})),durationUnits:null==g||null===(s=g.data)||void 0===s||null===(o=s.durationUnits)||void 0===o?void 0:o.map((function(e){return{valueCoded:e.uuid,value:e.display}})),orderFrequencies:null==g||null===(l=g.data)||void 0===l||null===(d=l.orderFrequencies)||void 0===d?void 0:d.map((function(e){return{valueCoded:e.uuid,value:e.display}}))},isLoading:f,error:h}}),[g,h,f])),D=k.orderConfigObject,B=k.error,w=(0,s.useConfig)(),F=(0,n.useMemo)((function(){return"string"==typeof(null==v?void 0:v.startDate)&&(0,s.parseDate)(null==v?void 0:v.startDate),null==v?void 0:v.startDate}),[null==v?void 0:v.startDate]),x=(0,J.cI)({mode:"all",resolver:(0,M.F)(ie),defaultValues:{isFreeTextDosage:null==v?void 0:v.isFreeTextDosage,freeTextDosage:null==v?void 0:v.freeTextDosage,dosage:null==v?void 0:v.dosage,unit:null==v?void 0:v.unit,route:null==v?void 0:v.route,patientInstructions:null==v?void 0:v.patientInstructions,asNeeded:null==v?void 0:v.asNeeded,asNeededCondition:null==v?void 0:v.asNeededCondition,duration:null==v?void 0:v.duration,durationUnit:null==v?void 0:v.durationUnit,pillsDispensed:null==v?void 0:v.pillsDispensed,quantityUnits:null==v?void 0:v.quantityUnits,numRefills:null==v?void 0:v.numRefills,indication:null==v?void 0:v.indication,frequency:null==v?void 0:v.frequency,startDate:F}}),T=x.handleSubmit,I=x.control,S=x.watch,N=x.setValue,z=null===(t=S("route"))||void 0===t?void 0:t.value,R=null===(r=S("unit"))||void 0===r?void 0:r.value,O=S("dosage"),P=(0,n.useMemo)((function(){var e,t,r,n,a;return null!==(a=null==D?void 0:D.drugDosingUnits)&&void 0!==a?a:[{valueCoded:null==v||null===(t=v.drug)||void 0===t||null===(e=t.dosageForm)||void 0===e?void 0:e.uuid,value:null==v||null===(n=v.drug)||void 0===n||null===(r=n.dosageForm)||void 0===r?void 0:r.display}]}),[D,null==v||null===(d=v.drug)||void 0===d?void 0:d.dosageForm]),H=(0,n.useMemo)((function(){var e;return null!==(e=null==D?void 0:D.drugRoutes)&&void 0!==e?e:[]}),[D]),j=(0,n.useMemo)((function(){var e,t,r,n,a;return null!==(a=null==D?void 0:D.drugDispensingUnits)&&void 0!==a?a:[{valueCoded:null==v||null===(t=v.drug)||void 0===t||null===(e=t.dosageForm)||void 0===e?void 0:e.uuid,value:null==v||null===(n=v.drug)||void 0===n||null===(r=n.dosageForm)||void 0===r?void 0:r.display}]}),[D,null==v||null===(c=v.drug)||void 0===c?void 0:c.dosageForm]),U=(0,n.useMemo)((function(){var e,t,r;return null!==(r=null==D?void 0:D.durationUnits)&&void 0!==r?r:[{valueCoded:null==w||null===(e=w.daysDurationUnit)||void 0===e?void 0:e.uuid,value:null==w||null===(t=w.daysDurationUnit)||void 0===t?void 0:t.display}]}),[D,null==w?void 0:w.daysDurationUnit]),L=(0,n.useMemo)((function(){var e;return null!==(e=null==D?void 0:D.orderFrequencies)&&void 0!==e?e:[]}),[D]),W=re((0,n.useState)(!1),2),Z=W[0],Y=W[1],X=(0,s.usePatient)(),Q=X.patient,K=X.isLoading,te="".concat(null==Q||null===(_=Q.name)||void 0===_||null===(m=_[0])||void 0===m||null===(u=m.given)||void 0===u?void 0:u.join(" ")," ").concat(null==Q||null===(A=Q.name)||void 0===A?void 0:A[0].family),ne=(0,n.useRef)(null),ae=(0,n.useCallback)((function(e){ne.current&&ne.current.disconnect(),ne.current=new IntersectionObserver((function(e){var t=re(e,1)[0];Y(t.intersectionRatio<1)}),{threshold:1}),e&&ne.current.observe(e)}),[Y]);return a().createElement(a().Fragment,null,Z&&a().createElement("div",{className:V.stickyMedicationInfo},a().createElement(oe,{dosage:O,orderBasketItem:v,routeValue:z,unitValue:R})),E&&!K&&a().createElement("div",{className:V.patientHeader},a().createElement("span",{className:V.bodyShort02},te),a().createElement("span",{className:"".concat(V.text02," ").concat(V.bodyShort01)},(0,G.Z)(null==Q?void 0:Q.gender)," · ",(0,s.age)(null==Q?void 0:Q.birthDate)," ·"," ",a().createElement("span",null,(0,s.formatDate)((0,s.parseDate)(null==Q?void 0:Q.birthDate),{mode:"wide",time:!1})))),a().createElement(o.l09,{className:V.orderForm,onSubmit:T((function(e){var t=ee($({},v),{isFreeTextDosage:e.isFreeTextDosage,freeTextDosage:e.freeTextDosage,dosage:e.dosage,unit:e.unit,route:e.route,patientInstructions:e.patientInstructions,asNeeded:e.asNeeded,asNeededCondition:e.asNeededCondition,duration:e.duration,durationUnit:e.durationUnit,pillsDispensed:e.pillsDispensed,quantityUnits:e.quantityUnits,numRefills:e.numRefills,indication:e.indication,frequency:e.frequency,startDate:e.startDate});C(t)})),id:"drugOrderForm"},B&&a().createElement(o.K0D,{kind:"error",lowContrast:!0,className:V.inlineNotification,title:y("errorFetchingOrderConfig","Error occured when fetching Order config"),subtitle:y("tryReopeningTheForm","Please try launching the form again")}),!E&&a().createElement("div",{className:V.backButton},a().createElement(o.zxk,{kind:"ghost",renderIcon:function(e){return a().createElement(q.Xd,$({size:24},e))},iconDescription:"Return to order basket",size:"sm",onClick:b},a().createElement("span",null,y("backToOrderBasket","Back to order basket")))),a().createElement("h1",{className:V.orderFormHeading},y("orderForm","Order Form")),a().createElement("div",{ref:ae},a().createElement(oe,{dosage:O,orderBasketItem:v,routeValue:z,unitValue:R})),a().createElement("section",{className:V.formSection},a().createElement(o.rjZ,{className:V.gridRow},a().createElement(o.sgG,{lg:12,md:6,sm:4},a().createElement("h3",{className:V.sectionHeader},y("dosageInstructions","1. Dosage instructions"))),a().createElement(o.sgG,{className:V.pullColumnContentRight,lg:4,md:2,sm:4},a().createElement(ce,{name:"isFreeTextDosage",type:"toggle",control:I,size:"sm",id:"freeTextDosageToggle","aria-label":y("freeTextDosage","Free text dosage"),labelText:y("freeTextDosage","Free text dosage")}))),S("isFreeTextDosage")?a().createElement(o.rjZ,{className:V.gridRow},a().createElement(o.sgG,{md:8},a().createElement(ce,{control:I,name:"freeTextDosage",type:"textArea",labelText:y("freeTextDosage","Free text dosage"),placeholder:y("freeTextDosage","Free text dosage"),maxLength:65535}))):a().createElement(a().Fragment,null,a().createElement(o.rjZ,{className:V.gridRow},a().createElement(o.sgG,{lg:8,md:4,sm:4,className:V.linkedInput},a().createElement(se,null,a().createElement("div",{className:V.numberInput},a().createElement(ce,{control:I,type:"number",name:"dosage",size:E?"lg":"md",id:"doseSelection",placeholder:y("editDoseComboBoxPlaceholder","Dose"),label:y("editDoseComboBoxTitle","Dose"),min:0,hideSteppers:!0})))),a().createElement(o.sgG,{lg:8,md:4,sm:4},a().createElement(se,null,a().createElement(ce,{control:I,name:"unit",type:"comboBox",size:E?"lg":"md",id:"dosingUnits",items:P,placeholder:y("editDosageUnitsPlaceholder","Unit"),titleText:y("editDosageUnitsTitle","Dose unit"),itemToString:function(e){return null==e?void 0:e.value}})))),a().createElement(o.rjZ,{className:V.gridRow},a().createElement(o.sgG,{lg:8,md:4,sm:4},a().createElement(se,null,a().createElement(ce,{control:I,name:"route",type:"comboBox",size:E?"lg":"md",id:"editRoute",items:H,placeholder:y("editRouteComboBoxTitle","Route"),titleText:y("editRouteComboBoxTitle","Route"),itemToString:function(e){return null==e?void 0:e.value}}))),a().createElement(o.sgG,{lg:8,md:4,sm:4},a().createElement(se,null,a().createElement(ce,{control:I,name:"frequency",type:"comboBox",size:E?"lg":"md",id:"editFrequency",items:L,placeholder:y("editFrequencyComboBoxTitle","Frequency"),titleText:y("editFrequencyComboBoxTitle","Frequency"),itemToString:function(e){return null==e?void 0:e.value}})))),a().createElement(o.rjZ,{className:V.gridRow},a().createElement(o.sgG,{lg:16,md:4,sm:4},a().createElement(se,null,a().createElement(ce,{control:I,name:"patientInstructions",type:"textArea",labelText:y("patientInstructions","Patient instructions"),placeholder:y("patientInstructionsPlaceholder",'Additional dosing instructions (e.g. "Take after eating")'),maxLength:65535,rows:E?6:4}))),a().createElement(o.sgG,{lg:16,md:4,sm:4},a().createElement(o.rjZ,{className:V.gridRow},a().createElement(o.sgG,{lg:6,md:8,sm:4},a().createElement(se,null,a().createElement(o.cwH,{legendText:y("prn","P.R.N.")},a().createElement(ce,{control:I,name:"asNeeded",type:"checkbox",id:"prn",labelText:y("takeAsNeeded","Take as needed"),size:"lg"})))),a().createElement(o.sgG,{lg:10,md:8,sm:4},a().createElement(se,null,a().createElement(ce,{control:I,name:"asNeededCondition",type:"textArea",labelText:y("prnReason","P.R.N. reason"),placeholder:y("prnReasonPlaceholder","Reason to take medicine"),rows:3,maxLength:255,disabled:!S("asNeeded")})))))))),a().createElement("section",{className:V.formSection},a().createElement("h3",{className:V.sectionHeader},y("prescriptionDuration","2. Prescription duration")),a().createElement(o.rjZ,{className:V.gridRow},a().createElement(o.sgG,{lg:16,md:4,sm:4},a().createElement("div",{className:V.fullWidthDatePickerContainer},a().createElement(se,null,a().createElement(J.Qr,{name:"startDate",control:I,render:function(e){var t=e.field,r=t.onBlur,n=t.value,i=t.onChange,s=t.ref;return a().createElement(o.Mtg,{datePickerType:"single",maxDate:new Date,value:n,onChange:function(e){var t=re(e,1)[0];return i(t)},onBlur:r,ref:s},a().createElement(o.aj6,{id:"startDatePicker",placeholder:"mm/dd/yyyy",labelText:y("startDate","Start date"),size:"lg"}))}})))),a().createElement(o.sgG,{lg:8,md:2,sm:4,className:V.linkedInput},a().createElement(se,null,E?a().createElement(le,{control:I,setValue:N,name:"duration",labelText:y("duration","Duration")}):a().createElement(ce,{control:I,name:"duration",type:"number",size:"lg",id:"durationInput",label:y("duration","Duration"),min:0,step:1,max:99,allowEmpty:!0}))),a().createElement(o.sgG,{lg:8,md:2,sm:4},a().createElement(se,null,a().createElement(ce,{control:I,name:"durationUnit",type:"comboBox",size:"lg",id:"durationUnitPlaceholder",titleText:y("durationUnit","Duration unit"),items:U,itemToString:function(e){return null==e?void 0:e.value},placeholder:y("durationUnitPlaceholder","Duration Unit")}))))),a().createElement("section",{className:V.formSection},a().createElement("h3",{className:V.sectionHeader},y("dispensingInformation","3. Dispensing instructions")),a().createElement(o.rjZ,{className:V.gridRow},a().createElement(o.sgG,{lg:8,md:3,sm:4},a().createElement(se,null,a().createElement(ce,{control:I,name:"pillsDispensed",type:"number",size:"lg",id:"quantityDispensed",label:y("quantityToDispense","Quantity to dispense"),min:0,hideSteppers:!0}))),a().createElement(o.sgG,{lg:8,md:3,sm:4},a().createElement(se,null,a().createElement(ce,{control:I,name:"quantityUnits",type:"comboBox",size:"lg",id:"dispensingUnits",items:j,placeholder:y("editDispensingUnit","Quantity unit"),titleText:y("editDispensingUnit","Quantity unit"),itemToString:function(e){return null==e?void 0:e.value}}))),a().createElement(o.sgG,{lg:8,md:3,sm:4},a().createElement(se,null,E?a().createElement(le,{control:I,setValue:N,name:"numRefills",labelText:y("prescriptionRefills","Prescription refills")}):a().createElement(ce,{control:I,name:"numRefills",type:"number",size:"lg",id:"prescriptionRefills",min:0,label:y("prescriptionRefills","Prescription refills"),max:99})))),a().createElement(o.rjZ,{className:V.gridRow},a().createElement(o.sgG,{lg:16,md:6,sm:4},a().createElement(se,null,a().createElement(ce,{control:I,name:"indication",type:"textInput",size:"lg",id:"indication",labelText:y("indication","Indication"),placeholder:y("indicationPlaceholder",'e.g. "Hypertension"'),maxLength:150}))))),a().createElement(o.uVA,{className:"".concat(V.buttonSet," ").concat(E?V.tabletButtonSet:V.desktopButtonSet)},a().createElement(o.zxk,{className:V.button,kind:"secondary",onClick:b,size:"xl"},y("discard","Discard")),a().createElement(o.zxk,{className:V.button,kind:"primary",type:"submit",size:"xl",disabled:!!B},y("saveOrder","Save order")))))}var le=function(e){var t=e.setValue,r=e.control,n=e.name,s=e.labelText,d=te(e,["setValue","control","name","labelText"]),l=(0,i.useTranslation)().t,c=(0,J.bc)({name:n,control:r}).field,u=c.onBlur,m=c.onChange,_=c.value,A=c.ref;return a().createElement("div",{className:V.customElement},a().createElement("span",{className:"cds--label"},s),a().createElement("div",{className:V.customNumberInput},a().createElement(o.zxk,{hasIconOnly:!0,renderIcon:W.LB,onClick:function(){t(n,Math.max(Number(_)-1,0))},iconDescription:l("decrement","Decrement")}),a().createElement(o.oil,$({onChange:function(e){var t=e.target.value.replace(/[^\d]/g,"").slice(0,2);m(t?parseInt(t):0)},value:_||"--",size:"lg",className:V.customInput,onBlur:u,ref:A},d)),a().createElement(o.zxk,{hasIconOnly:!0,renderIcon:q.mm,onClick:function(){t(n,Math.min(Number(_)+1,99))},iconDescription:l("increment","Increment")}))," ")},ce=function(e){var t,r,i=e.name,s=e.control,d=e.type,l=te(e,["name","control","type"]),c=(0,J.bc)({name:i,control:s}),u=c.field,m=u.onBlur,_=u.onChange,A=u.value,p=u.ref,g=c.fieldState,h=(0,n.useMemo)((function(){var e,t,r,n;return"toggle"===d?a().createElement(o.ZDl,$({toggled:A,onChange:function(){},onToggle:function(e){return _(e)}},l)):"checkbox"===d?a().createElement(o.XZJ,$({checked:A,onChange:function(e,t){var r=t.checked;return t.id,_(r)}},l)):"number"===d?a().createElement(o.Y2U,$({value:A||0,onChange:function(e,t){var r=t.value;return _(parseFloat(r))},className:(null==g||null===(e=g.error)||void 0===e?void 0:e.message)&&V.fieldError,onBlur:m,ref:p},l)):"textArea"===d?a().createElement(o.Kx8,$({value:A,onChange:function(e){return _(e.target.value)},onBlur:m,ref:p,className:(null==g||null===(t=g.error)||void 0===t?void 0:t.message)&&V.fieldError},l)):"textInput"===d?a().createElement(o.oil,$({value:A,onChange:function(e){return _(e.target.value)},ref:p,onBlur:m,className:(null==g||null===(r=g.error)||void 0===r?void 0:r.message)&&V.fieldError},l)):"comboBox"===d?a().createElement(o.CtY,$({selectedItem:A,onChange:function(e){var t=e.selectedItem;return _(t)},onBlur:m,ref:p,className:(null==g||null===(n=g.error)||void 0===n?void 0:n.message)&&V.fieldError},l)):null}),[null==g||null===(t=g.error)||void 0===t?void 0:t.message,m,_,p,l,d,A]);return a().createElement(a().Fragment,null,h,a().createElement(o.lXp,{className:V.errorLabel},null==g||null===(r=g.error)||void 0===r?void 0:r.message))},ue=r(7408);function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _e(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){if(e){if("string"==typeof e)return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?me(e,t):void 0}}function pe(e){var t,r,o=e.order,d=e.closeWorkspace,l=(0,i.useTranslation)().t,c=(0,L.useOrderBasket)("medications",ue.CC),u=c.orders,m=c.setOrders,_=(0,s.usePatient)(),A=(0,ue.Xm)(_.patientUuid,"ACTIVE"),p=(t=(0,n.useState)(o),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(t,r)||Ae(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=p[0],h=p[1],f=(0,s.useSession)(),v=(0,n.useCallback)((function(){m(u.filter((function(e){return!ge(e,g)}))),d(),(0,L.launchPatientWorkspace)("order-basket")}),[d,g,u,m]),C=(0,n.useCallback)((function(e,t){var r;(null===(r=A.data)||void 0===r?void 0:r.find((function(t){var r,n;return(null===(r=t.drug)||void 0===r?void 0:r.concept.uuid)===(null===(n=e.drug)||void 0===n?void 0:n.concept.uuid)})))?(0,s.showToast)({kind:"warning",title:l("drugAlreadyOrdered","Drug already ordered"),description:l("drugAlreadyOrderedDescription","".concat(e.drug.concept.display," is already ordered for this patient."))}):(m(_e(u).concat([e])),t?(d(),(0,L.launchPatientWorkspace)("order-basket")):h(e))}),[m,u,d,A.data,l]),b=(0,n.useCallback)((function(e){e.careSetting=ue.vk,e.orderer=f.currentProvider.uuid;var t=_e(u),r=u.find((function(t){return ge(t,e)}));t[u.indexOf(r)]=e,m(t),d(),(0,L.launchPatientWorkspace)("order-basket")}),[u,m,d,f.currentProvider.uuid]);return g?a().createElement(de,{initialOrderBasketItem:g,onSave:b,onCancel:v}):a().createElement(j,{onSearchResultClicked:C})}function ge(e,t){return e.action===t.action&&e.commonMedicationName===t.commonMedicationName}},7408:(e,t,r)=>{r.d(t,{CC:()=>d,Xm:()=>s,vk:()=>o});var n=r(3255),a=r(2870),i=r(268),o="6f0c9a92-6f24-11e3-af88-005056821db0";function s(e,t){var r=(0,a.useConfig)().drugOrderTypeUUID,s="/ws/rest/v1/order?patient=".concat(e,"&careSetting=").concat(o,"&status=").concat(t,"&orderType=").concat(r,"&v=").concat("custom:(uuid,dosingType,orderNumber,accessionNumber,patient:ref,action,careSetting:ref,previousOrder:ref,dateActivated,scheduledDate,dateStopped,autoExpireDate,orderType:ref,encounter:ref,orderer:(uuid,display,person:(display)),orderReason,orderReasonNonCoded,orderType,urgency,instructions,commentToFulfiller,drug:(uuid,display,strength,dosageForm:(display,uuid),concept),dose,doseUnits:ref,frequency:ref,asNeeded,asNeededCondition,quantity,quantityUnits:ref,numRefills,dosingInstructions,duration,durationUnits:ref,route:ref,brandName,dispenseAsWritten)"),d=(0,n.ZP)(e?s:null,a.openmrsFetch),l=d.data,c=d.error,u=d.isLoading,m=d.isValidating,_=(0,i.useCallback)((function(){return(0,n.JG)((function(t){return"string"==typeof t&&t.startsWith("/ws/rest/v1/order?patient=".concat(e))}))}),[e]),A=(0,i.useMemo)((function(){var e,t;return(null==l||null===(e=l.data)||void 0===e?void 0:e.results)?null===(t=l.data.results.filter((function(e){return"Drug Order"===e.orderType.display})))||void 0===t?void 0:t.sort((function(e,t){return t.dateActivated>e.dateActivated?1:-1})):null}),[l]);return{data:l?A:null,error:c,isLoading:u,isValidating:m,mutate:_}}function d(e,t,r){var n,i,o,s,d,l,c,u,m,_;if("NEW"===e.action||"RENEW"===e.action)return{action:"NEW",patient:t,type:"drugorder",careSetting:e.careSetting,orderer:e.orderer,encounter:r,drug:e.drug.uuid,dose:e.dosage,doseUnits:null===(n=e.unit)||void 0===n?void 0:n.valueCoded,route:null===(i=e.route)||void 0===i?void 0:i.valueCoded,frequency:null===(o=e.frequency)||void 0===o?void 0:o.valueCoded,asNeeded:e.asNeeded,asNeededCondition:e.asNeededCondition,numRefills:e.numRefills,quantity:e.pillsDispensed,quantityUnits:null===(s=e.quantityUnits)||void 0===s?void 0:s.valueCoded,duration:e.duration,durationUnits:null===(d=e.durationUnit)||void 0===d?void 0:d.valueCoded,dosingType:e.isFreeTextDosage?"org.openmrs.FreeTextDosingInstructions":"org.openmrs.SimpleDosingInstructions",dosingInstructions:e.isFreeTextDosage?e.freeTextDosage:e.patientInstructions,concept:e.drug.concept.uuid,orderReasonNonCoded:e.indication,dateActivated:(0,a.toOmrsIsoString)(new Date)};if("REVISE"===e.action)return{action:"REVISE",patient:t,type:"drugorder",previousOrder:e.previousOrder,careSetting:e.careSetting,orderer:e.orderer,encounter:r,drug:e.drug.uuid,dose:e.dosage,doseUnits:null===(l=e.unit)||void 0===l?void 0:l.valueCoded,route:null===(c=e.route)||void 0===c?void 0:c.valueCoded,frequency:null===(u=e.frequency)||void 0===u?void 0:u.valueCoded,asNeeded:e.asNeeded,asNeededCondition:e.asNeededCondition,numRefills:e.numRefills,quantity:e.pillsDispensed,quantityUnits:null===(m=e.quantityUnits)||void 0===m?void 0:m.valueCoded,duration:e.duration,durationUnits:null===(_=e.durationUnit)||void 0===_?void 0:_.valueCoded,dosingType:e.isFreeTextDosage?"org.openmrs.FreeTextDosingInstructions":"org.openmrs.SimpleDosingInstructions",dosingInstructions:e.isFreeTextDosage?e.freeTextDosage:e.patientInstructions,concept:e.drug.concept.uuid,orderReasonNonCoded:e.indication,dateActivated:(0,a.toOmrsIsoString)(new Date)};if("DISCONTINUE"===e.action)return{action:"DISCONTINUE",type:"drugorder",previousOrder:e.previousOrder,patient:t,careSetting:e.careSetting,encounter:r,orderer:e.orderer,concept:e.drug.concept.uuid,drug:e.drug.uuid,orderReasonNonCoded:null};throw new Error("Unknown order action ".concat(e.action,". This is a development error."))}}}]);