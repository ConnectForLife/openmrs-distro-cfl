(globalThis.webpackChunk_openmrs_esm_patient_appointments_app=globalThis.webpackChunk_openmrs_esm_patient_appointments_app||[]).push([[229],{7380:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var a=n(272),r=n.n(a),i=n(2609),o=n.n(i)()(r());o.push([t.id,".-esm-patient-appointments__appointments-action-menu__layer___hDJfI{height:100%}.-esm-patient-appointments__appointments-action-menu__menuItem___EGjhA{max-width:none}","",{version:3,sources:["webpack://./src/appointments/appointments-action-menu.scss"],names:[],mappings:"AAAA,oEACE,WAAA,CAGF,uEACE,cAAA",sourceRoot:""}]),o.locals={layer:"-esm-patient-appointments__appointments-action-menu__layer___hDJfI",menuItem:"-esm-patient-appointments__appointments-action-menu__menuItem___EGjhA"};const s=o},2164:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var a=n(272),r=n.n(a),i=n(2609),o=n.n(i)()(r());o.push([t.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-appointments__appointments-base__widgetCard___NI4uc{border:1px solid #e0e0e0}.-esm-patient-appointments__appointments-base__productiveHeading01___x9FHS{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-patient-appointments__appointments-base__contentSwitcherWrapper___tC04J{display:flex;width:fit-content;justify-content:flex-end;align-items:center;width:60%}.-esm-patient-appointments__appointments-base__contentSwitcherWrapper___tC04J>div>button{background-color:#fff}.-esm-patient-appointments__appointments-base__contentSwitcherWrapper___tC04J>div button:first-child{border-top:1px solid #a6c8ff;border-bottom:1px solid #a6c8ff;border-left:1px solid #a6c8ff;border-right:none;border-radius:.25rem 0 0px .25rem}.-esm-patient-appointments__appointments-base__contentSwitcherWrapper___tC04J>div button:last-child{border-top:1px solid #a6c8ff;border-bottom:1px solid #a6c8ff;border-right:1px solid #a6c8ff;border-left:none;border-radius:0px .25rem .25rem 0px}.-esm-patient-appointments__appointments-base__contentSwitcherWrapper___tC04J>div>button[aria-selected=true],.-esm-patient-appointments__appointments-base__contentSwitcherWrapper___tC04J>div>button[aria-selected=true]:first-child{background-color:#edf5ff;color:#0f62fe;border-color:#0f62fe;border-right:1px solid #0f62fe}.-esm-patient-appointments__appointments-base__contentSwitcherWrapper___tC04J>div>button[aria-selected=true],.-esm-patient-appointments__appointments-base__contentSwitcherWrapper___tC04J>div>button[aria-selected=true]:last-child{background-color:#edf5ff;color:#0f62fe;border-color:#0f62fe;border-left:1px solid #0f62fe}.-esm-patient-appointments__appointments-base__contentSwitcherWrapper___tC04J>div>button[aria-selected=true]:focus{box-shadow:none}.-esm-patient-appointments__appointments-base__divider___FZdR7{border-left:1px solid #e0e0e0;height:1rem;margin:0 1rem 0 1.5rem}.-esm-patient-appointments__appointments-base__content___eGlEQ{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:1rem;margin-bottom:.5rem}.-esm-patient-appointments__appointments-base__tile___E8QFA{text-align:center}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/appointments/appointments-base.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CC9CF,kEACE,wBAAA,CAGF,2EC6zBI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CDzzBJ,8EACE,YAAA,CACA,iBAAA,CACA,wBAAA,CACA,kBAAA,CACA,SAAA,CAGF,yFACE,qBDzBM,CC4BR,qGACE,4BAAA,CACA,+BAAA,CACA,6BAAA,CACA,iBAAA,CACA,iCAAA,CAGF,oGACE,4BAAA,CACA,+BAAA,CACA,8BAAA,CACA,gBAAA,CACA,mCAAA,CAGF,sOAEE,wBAxCc,CAyCd,aDrCgB,CCsChB,oBDtCgB,CCuChB,8BAAA,CAGF,qOAEE,wBAhDc,CAiDd,aD7CgB,CC8ChB,oBD9CgB,CC+ChB,6BAAA,CAGF,mHACE,eAAA,CAGF,+DACE,6BAAA,CACA,WEpCW,CFqCX,sBAAA,CAGF,+DCmwBI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CDjwBF,aDpEQ,CCqER,eE3CW,CF4CX,mBEtDW,CFyDb,4DACE,iBAAA",sourceRoot:""}]),o.locals={widgetCard:"-esm-patient-appointments__appointments-base__widgetCard___NI4uc",productiveHeading01:"-esm-patient-appointments__appointments-base__productiveHeading01___x9FHS",contentSwitcherWrapper:"-esm-patient-appointments__appointments-base__contentSwitcherWrapper___tC04J",divider:"-esm-patient-appointments__appointments-base__divider___FZdR7",content:"-esm-patient-appointments__appointments-base__content___eGlEQ",tile:"-esm-patient-appointments__appointments-base__tile___E8QFA"};const s=o},8019:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var a=n(272),r=n.n(a),i=n(2609),o=n.n(i)()(r());o.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),o.locals={};const s=o},2609:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",a=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),a&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),a&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,a,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(a)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(o[c]=!0)}for(var l=0;l<t.length;l++){var p=[].concat(t[l]);a&&o[p[0]]||(void 0!==i&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=i),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),r&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=r):p[4]="".concat(r)),e.push(p))}},e}},272:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),i="/*# ".concat(r," */"),o=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(o).concat([i]).join("\n")}return[e].join("\n")}},6824:function(t){t.exports=function(){"use strict";return function(t,e,n){e.prototype.isToday=function(){var t="YYYY-MM-DD",e=n();return this.format(t)===e.format(t)}}}()},264:function(t){t.exports=function(){"use strict";var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(a,r,i){var o=r.prototype;i.utc=function(t){return new r({date:t,utc:!0,args:arguments})},o.utc=function(e){var n=i(this.toDate(),{locale:this.$L,utc:!0});return e?n.add(this.utcOffset(),t):n},o.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var s=o.parse;o.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),s.call(this,t)};var c=o.init;o.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else c.call(this)};var l=o.utcOffset;o.utcOffset=function(a,r){var i=this.$utils().u;if(i(a))return this.$u?0:i(this.$offset)?l.call(this):this.$offset;if("string"==typeof a&&(a=function(t){void 0===t&&(t="");var a=t.match(e);if(!a)return null;var r=(""+a[0]).match(n)||["-",0,0],i=r[0],o=60*+r[1]+ +r[2];return 0===o?0:"+"===i?o:-o}(a),null===a))return this;var o=Math.abs(a)<=16?60*a:a,s=this;if(r)return s.$offset=o,s.$u=0===a,s;if(0!==a){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(o+c,t)).$offset=o,s.$x.$localOffset=c}else s=this.utc();return s};var p=o.format;o.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,e)},o.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var u=o.toDate;o.toDate=function(t){return"s"===t&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var m=o.diff;o.diff=function(t,e,n){if(t&&this.$u===t.$u)return m.call(this,t,e,n);var a=this.local(),r=i(t).local();return m.call(a,r,e,n)}}}()},1354:t=>{"use strict";var e=[];function n(t){for(var n=-1,a=0;a<e.length;a++)if(e[a].identifier===t){n=a;break}return n}function a(t,a){for(var i={},o=[],s=0;s<t.length;s++){var c=t[s],l=a.base?c[0]+a.base:c[0],p=i[l]||0,u="".concat(l," ").concat(p);i[l]=p+1;var m=n(u),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==m)e[m].references++,e[m].updater(d);else{var f=r(d,a);a.byIndex=s,e.splice(s,0,{identifier:u,updater:f,references:1})}o.push(u)}return o}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var i=a(t=t||[],r=r||{});return function(t){t=t||[];for(var o=0;o<i.length;o++){var s=n(i[o]);e[s].references--}for(var c=a(t,r),l=0;l<i.length;l++){var p=n(i[l]);0===e[p].references&&(e[p].updater(),e.splice(p,1))}i=c}}},7378:t=>{"use strict";var e={};t.exports=function(t,n){var a=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},4154:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},5993:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},1583:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,r&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},8141:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},7229:(t,e,n)=>{"use strict";n.d(e,{Z:()=>G});var a=n(7900),r=n.n(a),i=n(4924),o=n(3565),s=n.n(o),c=n(2892),l=n(6759),p=n(2870),u=n(4556),m=n(9318),d=n(1354),f=n.n(d),h=n(1583),A=n.n(h),v=n(7378),_=n.n(v),g=n(5993),b=n.n(g),C=n(4154),y=n.n(C),w=n(8141),E=n.n(w),S=n(7380),D={};D.styleTagTransform=E(),D.setAttributes=b(),D.insert=_().bind(null,"head"),D.domAPI=A(),D.insertStyleElement=y(),f()(S.Z,D);const T=S.Z&&S.Z.locals?S.Z.locals:void 0;var x=function(t){var e=t.appointment,n=t.patientUuid,o=(0,i.useTranslation)().t,s="tablet"===(0,p.useLayoutType)(),l=(0,a.useCallback)((function(){return(0,u.launchPatientWorkspace)("appointments-form-workspace",{workspaceTitle:o("editAppointment","Edit an appointment"),appointment:e,context:"editing"})}),[e,o]);return r().createElement(c.mh4,{className:T.layer},r().createElement(c.PQB,{ariaLabel:"Edit or delete appointment",size:s?"lg":"sm",flipped:!0},r().createElement(c.laM,{className:T.menuItem,id:"editAppointment",onClick:l,itemText:o("edit","Edit")}),r().createElement(c.laM,{className:T.menuItem,id:"cancelAppointment",itemText:o("cancel","Cancel"),onClick:function(){var t=(0,p.showModal)("appointment-cancel-confirmation-dialog",{closeCancelModal:function(){return t()},appointmentUuid:e.uuid,patientUuid:n})},isDelete:!0,hasDivider:!0})))},O=n(8019),B={};B.styleTagTransform=E(),B.setAttributes=b(),B.insert=_().bind(null,"head"),B.domAPI=A(),B.insertStyleElement=y(),f()(O.Z,B);const k=O.Z&&O.Z.locals?O.Z.locals:void 0;function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $=n(264);s().extend($);const P=function(t){var e=t.patientAppointments,n=t.patientUuid,o=t.switchedView,s=t.setSwitchedView,l=(0,i.useTranslation)().t,m=(0,p.usePagination)(e,10),d=m.results,f=m.currentPage,h=m.goTo,A="tablet"===(0,p.useLayoutType)();(0,a.useEffect)((function(){o&&1!==f&&h(1)}),[o,h,f]);var v=(0,a.useMemo)((function(){return[{key:"date",header:l("date","Date")},{key:"location",header:l("location","Location")},{key:"service",header:l("service","Service")},{key:"status",header:l("status","Status")},{key:"type",header:l("type","Type")},{key:"notes",header:l("notes","Notes")}]}),[l]),_=(0,a.useMemo)((function(){return null==d?void 0:d.map((function(t){var e,n;return{id:t.uuid,date:(0,p.formatDatetime)((0,p.parseDate)(t.startDateTime),{mode:"wide"}),location:(null==t||null===(e=t.location)||void 0===e?void 0:e.name)?null==t||null===(n=t.location)||void 0===n?void 0:n.name:"——",service:t.service.name,status:t.status,type:t.appointmentKind?t.appointmentKind:"——",notes:t.comments?t.comments:"——"}}))}),[d]);return r().createElement("div",null,r().createElement(c.wQF,{rows:_,headers:v,isSortable:!0,size:A?"lg":"sm",useZebraStyles:!0},(function(t){var e=t.rows,a=t.headers,i=t.getHeaderProps,o=t.getTableProps;return r().createElement(c.xJi,null,r().createElement(c.iA_,o(),r().createElement(c.ssF,null,r().createElement(c.SCH,null,a.map((function(t){var e,n;return r().createElement(c.xDH,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){I(t,e,n[e])}))}return t}({className:"".concat(k.productiveHeading01," ").concat(k.text02)},i({header:t,isSortable:t.isSortable})),null!==(n=null===(e=t.header)||void 0===e?void 0:e.content)&&void 0!==n?n:t.header)})),r().createElement(c.xDH,null))),r().createElement(c.RMI,null,e.map((function(t,e){return r().createElement(c.SCH,{key:t.id},t.cells.map((function(t){var e,n;return r().createElement(c.pj1,{key:t.id},null!==(n=null===(e=t.value)||void 0===e?void 0:e.content)&&void 0!==n?n:t.value)})),r().createElement(c.pj1,{className:"cds--table-column-menu"},r().createElement(x,{appointment:d[e],patientUuid:n})))})))))})),r().createElement(u.PatientChartPagination,{currentItems:d.length,totalItems:e.length,onPageNumberChange:function(t){var e=t.page;s(!1),h(e)},pageNumber:f,pageSize:10}))};var F=n(2164),M={};M.styleTagTransform=E(),M.setAttributes=b(),M.insert=_().bind(null,"head"),M.domAPI=A(),M.insertStyleElement=y(),f()(F.Z,M);const U=F.Z&&F.Z.locals?F.Z.locals:void 0;function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(a=n.next()).done)&&(i.push(a.value),!e||i.length!==e);o=!0);}catch(t){s=!0,r=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var H;!function(t){t[t.UPCOMING=0]="UPCOMING",t[t.TODAY=1]="TODAY",t[t.PAST=2]="PAST"}(H||(H={}));const G=function(t){var e,n,o,d,f=t.patientUuid,h=(0,i.useTranslation)().t,A=h("appointments","Appointments"),v="tablet"===(0,p.useLayoutType)(),_=Z((0,a.useState)(!1),2),g=_[0],b=_[1],C=Z((0,a.useState)(0),2),y=C[0],w=C[1],E=s()((new Date).toISOString()).subtract(6,"month").toISOString(),S=(0,m.zt)(f,E,new AbortController),D=S.data,T=S.isError,x=S.isLoading,O=S.isValidating;return x?r().createElement(c.gqd,{role:"progressbar",compact:!v,zebra:!0}):T?r().createElement(u.ErrorState,{headerTitle:A,error:T}):(null===(e=Object.keys(D))||void 0===e?void 0:e.length)?r().createElement("div",{className:U.widgetCard},r().createElement(u.CardHeader,{title:A},O?r().createElement("span",null,r().createElement(c.lSo,null)):null,r().createElement("div",{className:U.contentSwitcherWrapper},r().createElement(c.GHR,{size:v?"md":"sm",onChange:function(t){var e=t.index;w(e),b(!0)}},r().createElement(c.rsf,{name:"upcoming",text:h("upcoming","Upcoming")}),r().createElement(c.rsf,{name:"today",text:h("today","Today")}),r().createElement(c.rsf,{name:"past",text:h("past","Past")})),r().createElement("div",{className:U.divider}),r().createElement(c.zxk,{kind:"ghost",renderIcon:function(t){return r().createElement(l.mm,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){N(t,e,n[e])}))}return t}({size:16},t))},iconDescription:"Add Appointments",onClick:function(){return(0,u.launchPatientWorkspace)("appointments-form-workspace",{workspaceTitle:h("scheduleAppointment","Schedule appointment")})}},h("add","Add")))),0===y?(null===(n=D.upcomingAppointments)||void 0===n?void 0:n.length)?r().createElement(P,{patientAppointments:null==D?void 0:D.upcomingAppointments,switchedView:g,setSwitchedView:b,patientUuid:f}):r().createElement(c.mh4,null,r().createElement(c.n9L,{className:U.tile},r().createElement(u.EmptyDataIllustration,null),r().createElement("p",{className:U.content},h("noUpcomingAppointmentsForPatient","There are no upcoming appointments to display for this patient")))):1===y?(null===(o=D.todaysAppointments)||void 0===o?void 0:o.length)?r().createElement(P,{patientAppointments:null==D?void 0:D.todaysAppointments,switchedView:g,setSwitchedView:b,patientUuid:f}):r().createElement(c.mh4,null,r().createElement(c.n9L,{className:U.tile},r().createElement(u.EmptyDataIllustration,null),r().createElement("p",{className:U.content},h("noCurrentAppointments","There are no appointments scheduled for today to display for this patient")))):2===y?(null===(d=D.pastAppointments)||void 0===d?void 0:d.length)?r().createElement(P,{patientAppointments:null==D?void 0:D.pastAppointments,switchedView:g,setSwitchedView:b,patientUuid:f}):r().createElement(c.mh4,null,r().createElement(c.n9L,{className:U.tile},r().createElement(u.EmptyDataIllustration,null),r().createElement("p",{className:U.content},h("noPastAppointments","There are no past appointments to display for this patient")))):void 0):void 0}},9318:(t,e,n)=>{"use strict";n.d(e,{Ae:()=>f,GB:()=>d,l9:()=>m,v1:()=>v,zt:()=>u});var a=n(3565),r=n.n(a),i=n(3255),o=n(2870),s=n(6824),c=n.n(s);function l(t,e,n,a,r,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,r)}r().extend(c());var p="/ws/rest/v1/appointments/search";function u(t,e,n){var a,s,c,l,u,m,d,f=(0,i.ZP)(p,(function(){return(0,o.openmrsFetch)(p,{method:"POST",signal:n.signal,headers:{"Content-Type":"application/json"},body:{patientUuid:t,startDate:e}})})),h=f.data,A=f.error,v=f.isLoading,_=f.isValidating,g=f.mutate,b=(null==h||null===(a=h.data)||void 0===a?void 0:a.length)?h.data:null,C=null==b||null===(c=b.sort((function(t,e){return e.startDateTime>t.startDateTime?1:-1})))||void 0===c||null===(s=c.filter((function(t){return"Cancelled"!==t.status})))||void 0===s?void 0:s.filter((function(t){var e=t.startDateTime;return r()(new Date(e).toISOString()).isBefore((new Date).setHours(0,0,0,0))})),y=null==b||null===(u=b.sort((function(t,e){return t.startDateTime>e.startDateTime?1:-1})))||void 0===u||null===(l=u.filter((function(t){return"Cancelled"!==t.status})))||void 0===l?void 0:l.filter((function(t){var e=t.startDateTime;return r()(new Date(e).toISOString()).isAfter(new Date)})),w=null==b||null===(d=b.sort((function(t,e){return t.startDateTime>e.startDateTime?1:-1})))||void 0===d||null===(m=d.filter((function(t){return"Cancelled"!==t.status})))||void 0===m?void 0:m.filter((function(t){var e=t.startDateTime;return r()(new Date(e).toISOString()).isToday()}));return{data:h?{pastAppointments:C,upcomingAppointments:y,todaysAppointments:w}:null,isError:A,isLoading:v,isValidating:_,mutate:g}}function m(){var t=(0,i.ZP)("/ws/rest/v1/appointmentService/all/full",o.openmrsFetch),e=t.data,n=t.error,a=t.isLoading;return{data:e?e.data:null,isError:n,isLoading:a}}function d(t,e){return(0,o.openmrsFetch)("/ws/rest/v1/appointment",{method:"POST",signal:e.signal,headers:{"Content-Type":"application/json"},body:t})}function f(t,e){return(0,o.openmrsFetch)("/ws/rest/v1/recurring-appointments",{method:"POST",signal:e.signal,headers:{"Content-Type":"application/json"},body:t})}var h,A,v=(h=function(t,e,n){var a,i,s;return function(t,e){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(n){switch(n.label){case 0:return a=Intl.DateTimeFormat().resolvedOptions().timeZone,i=r()(new Date).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"),s="/ws/rest/v1/appointments/".concat(e,"/status-change"),[4,(0,o.openmrsFetch)(s,{body:{toStatus:t,onDate:i,timeZone:a},method:"POST",headers:{"Content-Type":"application/json"}})];case 1:return[2,n.sent()]}}))},A=function(){var t=this,e=arguments;return new Promise((function(n,a){var r=h.apply(t,e);function i(t){l(r,n,a,i,o,"next",t)}function o(t){l(r,n,a,i,o,"throw",t)}i(void 0)}))},function(t,e,n){return A.apply(this,arguments)})}}]);