"use strict";(self.webpackChunk_openmrs_esm_appointments_app=self.webpackChunk_openmrs_esm_appointments_app||[]).push([[842],{1960:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(2609),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-appointments__notification-component__productiveHeading01___mWarg{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-appointments__notification-component__productiveHeading02___ObgYj{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0)}.-esm-appointments__notification-component__productiveHeading03___GrXtl{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-appointments__notification-component__productiveHeading04___o5NQf{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-appointments__notification-component__bodyLong01___O0iIO{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-appointments__notification-component__bodyShort01___piSH6{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-appointments__notification-component__bodyShort02___jaLCF{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-appointments__notification-component__text02___HyPFD{color:#525252}.-esm-appointments__notification-component__label01___ZK96V{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-appointments__notification-component__modal___FK0GE{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-appointments__notification-component__actionableNotification___i84Y8{z-index:1000;position:fixed;width:100%;bottom:2rem}",""]),a.locals={productiveHeading01:"-esm-appointments__notification-component__productiveHeading01___mWarg",productiveHeading02:"-esm-appointments__notification-component__productiveHeading02___ObgYj",productiveHeading03:"-esm-appointments__notification-component__productiveHeading03___GrXtl",productiveHeading04:"-esm-appointments__notification-component__productiveHeading04___o5NQf",bodyLong01:"-esm-appointments__notification-component__bodyLong01___O0iIO",bodyShort01:"-esm-appointments__notification-component__bodyShort01___piSH6",bodyShort02:"-esm-appointments__notification-component__bodyShort02___jaLCF",text02:"-esm-appointments__notification-component__text02___HyPFD",label01:"-esm-appointments__notification-component__label01___ZK96V",modal:"-esm-appointments__notification-component__modal___FK0GE",actionableNotification:"-esm-appointments__notification-component__actionableNotification___i84Y8"};const o=a},4175:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(2609),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-appointments__appointments-list__productiveHeading01___9gnI8{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-appointments__appointments-list__productiveHeading02___zHOR0{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0)}.-esm-appointments__appointments-list__productiveHeading03___UnBqq{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-appointments__appointments-list__productiveHeading04___oJRwc{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-appointments__appointments-list__bodyLong01___uIyPf{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-appointments__appointments-list__bodyShort01___BLSvx{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-appointments__appointments-list__bodyShort02___zD6wN{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-appointments__appointments-list__text02___zfykk{color:#525252}.-esm-appointments__appointments-list__label01___PFskg{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-appointments__appointments-list__modal___zddJ8{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-appointments__appointments-list__homeAppointmentsContainer___OjPsm{background-color:#fff;border:1px solid #e0e0e0;width:100%;margin:0 auto;max-width:95vw;margin-top:3rem;margin-bottom:6rem}.-esm-appointments__appointments-list__headerContainer___iHNwz{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0 .75rem 1rem;background-color:#fff}.-esm-appointments__appointments-list__backgroundDataFetchingIndicator___ZLGEv{align-items:center;display:flex;flex:1 1 0%;justify-content:center}.-esm-appointments__appointments-list__tableContainer___h1NTI section{position:relative}.-esm-appointments__appointments-list__hiddenRow___IAUcY{display:none}.-esm-appointments__appointments-list__tableContainer___h1NTI a{text-decoration:none}.-esm-appointments__appointments-list__tableContainer___h1NTI th{color:#525252}.-esm-appointments__appointments-list__tableContainer___h1NTI .cds--data-table{background-color:#e0e0e0}.-esm-appointments__appointments-list__tableContainer___h1NTI .cds--table-column-menu button{position:static}.-esm-appointments__appointments-list__tableContainer___h1NTI .-esm-appointments__appointments-list__tableToolbar___2t0kg{min-height:0;top:-22px}.-esm-appointments__appointments-list__tableContainer___h1NTI .-esm-appointments__appointments-list__tableToolbarContent___NyjO3{height:2rem;margin-bottom:.25rem}.-esm-appointments__appointments-list__tableToolbar___2t0kg{min-height:0;top:-22px}.-esm-appointments__appointments-list__startTime___8nKY-{font-weight:700;margin-right:.5rem}.-esm-appointments__appointments-list__nameContainer___7oVWe{display:flex}.-esm-appointments__appointments-list__serviceContainer___vYoJS{display:flex}.-esm-appointments__appointments-list__identifier___tN0S0{font-weight:700}.-esm-appointments__appointments-list__actionButton___TPTkl{position:static;padding:.5rem 1rem .5rem 0}.-esm-appointments__appointments-list__serviceColor___KtVcR{border-radius:50%;margin-right:.5rem;width:1rem;height:1rem;background-color:#24a148}.-esm-appointments__appointments-list__pagination___y6dE-{overflow:hidden}.-esm-appointments__appointments-list__hiddenRow___IAUcY{display:none}.-esm-appointments__appointments-list__emptyRow___5KTEp{padding:0 1rem;display:flex;align-items:center}.-esm-appointments__appointments-list__expandedAppointmentsRow___75mOy>td>div{max-height:max-content}.-esm-appointments__appointments-list__expandedAppointmentsRow___75mOy td{padding:0 2rem}.-esm-appointments__appointments-list__expandedAppointmentsRow___75mOy th[colspan] td[colspan]>div:first-child{padding:0 1rem}.-esm-appointments__appointments-list__completeIcon___7R9H7,.-esm-appointments__appointments-list__missedIcon___UnJve,.-esm-appointments__appointments-list__cancelIcon___IPVMF{width:8rem;padding:.5rem 1rem .5rem 0;display:flex;align-items:center;height:3rem}.-esm-appointments__appointments-list__completeIcon___7R9H7 svg,.-esm-appointments__appointments-list__missedIcon___UnJve svg,.-esm-appointments__appointments-list__cancelIcon___IPVMF svg{margin-left:.5rem}.-esm-appointments__appointments-list__completeIcon___7R9H7{color:#24a148}.-esm-appointments__appointments-list__completeIcon___7R9H7 svg{fill:#24a148}.-esm-appointments__appointments-list__missedIcon___UnJve{color:#fa4d56}.-esm-appointments__appointments-list__missedIcon___UnJve svg{fill:#fa4d56}.-esm-appointments__appointments-list__desktopHeading___4xAl-,.-esm-appointments__appointments-list__tabletHeading___WFTNK{text-align:left;text-transform:capitalize;margin-bottom:1rem}.-esm-appointments__appointments-list__desktopHeading___4xAl- h4,.-esm-appointments__appointments-list__tabletHeading___WFTNK h4{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252}.-esm-appointments__appointments-list__desktopHeading___4xAl- h4:after,.-esm-appointments__appointments-list__tabletHeading___WFTNK h4:after{content:"";display:block;width:2rem;padding-top:.25rem;border-bottom:.375rem solid;border-bottom-color:#007d79;border-bottom-color:var(--brand-03)}.-esm-appointments__appointments-list__emptyHeading___rVH9N{margin-left:1rem;margin-top:1rem}.-esm-appointments__appointments-list__tileContainer___PcgfF{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-appointments__appointments-list__tile___B2Rt7{margin:auto;width:fit-content}.-esm-appointments__appointments-list__tileContent___M-ys\\+{display:flex;flex-direction:column;align-items:center}.-esm-appointments__appointments-list__content___pZJXd{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-appointments__appointments-list__helper___1RozW{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-appointments__appointments-list__separator___P-zg3{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;width:80%;margin:1.5rem auto;overflow:hidden;text-align:center}.-esm-appointments__appointments-list__separator___P-zg3::before,.-esm-appointments__appointments-list__separator___P-zg3::after{background-color:#a8a8a8;content:"";display:inline-block;height:1px;position:relative;vertical-align:middle;width:50%}.-esm-appointments__appointments-list__separator___P-zg3::before{right:.5rem;margin-left:-50%}.-esm-appointments__appointments-list__separator___P-zg3::after{left:.5rem;margin-right:-50%}.-esm-appointments__appointments-list__menuItemLink___khu5\\+{text-decoration:none}.-esm-appointments__appointments-list__seeAllLink___nqcPQ{position:relative;left:22rem;top:-8.5rem;min-height:2rem;padding:.5rem}.-esm-appointments__appointments-list__filterLabelContainer___F4O5T{display:flex}.-esm-appointments__appointments-list__filterLabel___OMlPU{background-color:#fff;padding:.02rem 1rem;border-radius:1rem;margin-right:.5rem}.-esm-appointments__appointments-list__filterLabel___OMlPU :hover{background-color:#fff}',""]),a.locals={productiveHeading01:"-esm-appointments__appointments-list__productiveHeading01___9gnI8",productiveHeading02:"-esm-appointments__appointments-list__productiveHeading02___zHOR0",productiveHeading03:"-esm-appointments__appointments-list__productiveHeading03___UnBqq",productiveHeading04:"-esm-appointments__appointments-list__productiveHeading04___oJRwc",bodyLong01:"-esm-appointments__appointments-list__bodyLong01___uIyPf",bodyShort01:"-esm-appointments__appointments-list__bodyShort01___BLSvx",bodyShort02:"-esm-appointments__appointments-list__bodyShort02___zD6wN",text02:"-esm-appointments__appointments-list__text02___zfykk",label01:"-esm-appointments__appointments-list__label01___PFskg",modal:"-esm-appointments__appointments-list__modal___zddJ8",homeAppointmentsContainer:"-esm-appointments__appointments-list__homeAppointmentsContainer___OjPsm",headerContainer:"-esm-appointments__appointments-list__headerContainer___iHNwz",backgroundDataFetchingIndicator:"-esm-appointments__appointments-list__backgroundDataFetchingIndicator___ZLGEv",tableContainer:"-esm-appointments__appointments-list__tableContainer___h1NTI",hiddenRow:"-esm-appointments__appointments-list__hiddenRow___IAUcY",tableToolbar:"-esm-appointments__appointments-list__tableToolbar___2t0kg",tableToolbarContent:"-esm-appointments__appointments-list__tableToolbarContent___NyjO3",startTime:"-esm-appointments__appointments-list__startTime___8nKY-",nameContainer:"-esm-appointments__appointments-list__nameContainer___7oVWe",serviceContainer:"-esm-appointments__appointments-list__serviceContainer___vYoJS",identifier:"-esm-appointments__appointments-list__identifier___tN0S0",actionButton:"-esm-appointments__appointments-list__actionButton___TPTkl",serviceColor:"-esm-appointments__appointments-list__serviceColor___KtVcR",pagination:"-esm-appointments__appointments-list__pagination___y6dE-",emptyRow:"-esm-appointments__appointments-list__emptyRow___5KTEp",expandedAppointmentsRow:"-esm-appointments__appointments-list__expandedAppointmentsRow___75mOy",completeIcon:"-esm-appointments__appointments-list__completeIcon___7R9H7",missedIcon:"-esm-appointments__appointments-list__missedIcon___UnJve",cancelIcon:"-esm-appointments__appointments-list__cancelIcon___IPVMF",desktopHeading:"-esm-appointments__appointments-list__desktopHeading___4xAl-",tabletHeading:"-esm-appointments__appointments-list__tabletHeading___WFTNK",emptyHeading:"-esm-appointments__appointments-list__emptyHeading___rVH9N",tileContainer:"-esm-appointments__appointments-list__tileContainer___PcgfF",tile:"-esm-appointments__appointments-list__tile___B2Rt7",tileContent:"-esm-appointments__appointments-list__tileContent___M-ys+",content:"-esm-appointments__appointments-list__content___pZJXd",helper:"-esm-appointments__appointments-list__helper___1RozW",separator:"-esm-appointments__appointments-list__separator___P-zg3",menuItemLink:"-esm-appointments__appointments-list__menuItemLink___khu5+",seeAllLink:"-esm-appointments__appointments-list__seeAllLink___nqcPQ",filterLabelContainer:"-esm-appointments__appointments-list__filterLabelContainer___F4O5T",filterLabel:"-esm-appointments__appointments-list__filterLabel___OMlPU"};const o=a},4690:(e,t,n)=>{n.d(t,{E0:()=>v,LW:()=>f,f6:()=>h});var i=n(5047),a=n.n(i),o=n(9857),s=n(8879),r=n.n(s),p=n(4924),m=n(906),c=n(268),l=n(8965),_=n(8179);function d(e,t,n,i,a,o,s){try{var r=e[o](s),p=r.value}catch(e){return void n(e)}r.done?t(p):Promise.resolve(p).then(i,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){d(o,i,a,s,r,"next",e)}function r(e){d(o,i,a,s,r,"throw",e)}s(void 0)}))}}function h(){var e,t,n=(0,p.useTranslation)().t,i=(0,l.zF)(),a="/ws/rest/v1/appointment/all?forDate=".concat(i),s=(0,o.ZP)(a,m.openmrsFetch),r=s.data,_=s.error,d=s.isValidating,u=s.mutate,h=null!==(t=null==r||null===(e=r.data)||void 0===e?void 0:e.map((function(e){return(0,l.bP)(e,n)})))&&void 0!==t?t:[];return(0,c.useMemo)((function(){return{appointments:h,isLoading:!r&&!_,isError:_,isValidating:d,mutate:u}}),[r,_,d,u,h.length])}var g,f=(g=u(a().mark((function e(t,n,i){var o,s,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Intl.DateTimeFormat().resolvedOptions().timeZone,s=r()(new Date).format(_.J$),p="/ws/rest/v1/appointments/".concat(n,"/status-change"),e.next=5,(0,m.openmrsFetch)(p,{body:{toStatus:t,onDate:s,timeZone:o},method:"POST",headers:{"Content-Type":"application/json"}});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),function(e,t,n){return g.apply(this,arguments)}),v=function(){var e=u(a().mark((function e(t,n){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="/ws/rest/v1/appointment/undoStatusChange/".concat(t),e.next=3,(0,m.openmrsFetch)(i,{method:"POST",headers:{"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},2649:(e,t,n)=>{n.d(t,{NL:()=>_,O4:()=>l,bO:()=>u,tf:()=>d});var i=n(5047),a=n.n(i),o=n(906),s=n(4690),r=n(1163);function p(e,t,n,i,a,o,s){try{var r=e[o](s),p=r.value}catch(e){return void n(e)}r.done?t(p):Promise.resolve(p).then(i,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){p(o,i,a,s,r,"next",e)}function r(e){p(o,i,a,s,r,"throw",e)}s(void 0)}))}}var c,l=function(e){var t=(0,o.showModal)("check-in-appointment-modal",{closeCheckInModal:function(){return t()},appointmentUuid:e})},_=(c=m(a().mark((function e(t,n){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,r.hR)(),i=new AbortController,e.next=4,(0,s.E0)(t,i);case 4:200===e.sent.status?((0,r.bJ)(),n("/ws/rest/v1/appointment/appointment/all")):((0,r.bJ)(),(0,o.showNotification)({title:"Error Undoing",kind:"error",critical:!0,description:"Error reverting status"}));case 6:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)}),d=function(){var e=m(a().mark((function e(t,n,i,p,m,c,l){var d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=new AbortController,e.next=3,(0,s.LW)(t,n,d);case 3:200===e.sent.status?((0,r.fu)({critical:!0,kind:"success",subtitle:i,title:m,actionButtonLabel:"Undo",onActionButtonClick:function(){return _(n,l)}}),l("/ws/rest/v1/appointment/appointment/all")):(0,o.showNotification)({title:c,kind:"error",critical:!0,description:p});case 5:case"end":return e.stop()}}),e)})));return function(t,n,i,a,o,s,r){return e.apply(this,arguments)}}(),u=function(e,t,n){var i=n("appointmentMarkedAsCompleted","It has been successfully marked as Completed"),a=n("appointmentCompleted","Appointment Completed"),o=n("appointmentCompleted","Appointment Completed"),s=n("appointmentCompletedError","Error marking appointment as Completed");return d("Completed",e,i,o,a,s,t)}},9842:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var i=n(268),a=n.n(i),o=n(9857),s=n(4924),r=n(3771),p=n(2074),m=n(37),c=n(906),l=n(4690),_=function(e){var t=e.width,n=void 0===t?"64":t,i=e.height,o=void 0===i?"64":i;return a().createElement("svg",{width:n,height:o,viewBox:"0 0 64 64"},a().createElement("title",null,"Empty data illustration"),a().createElement("g",{fill:"none",fillRule:"evenodd"},a().createElement("path",{d:"M38.133 13.186H21.947c-.768.001-1.39.623-1.39 1.391V50.55l-.186.057-3.97 1.216a.743.743 0 01-.927-.493L3.664 12.751a.742.742 0 01.492-.926l6.118-1.874 17.738-5.43 6.119-1.873a.741.741 0 01.926.492L38.076 13l.057.186z",fill:"#F4F4F4"}),a().createElement("path",{d:"M41.664 13L38.026 1.117A1.576 1.576 0 0036.056.07l-8.601 2.633-17.737 5.43-8.603 2.634a1.578 1.578 0 00-1.046 1.97l12.436 40.616a1.58 1.58 0 001.969 1.046l5.897-1.805.185-.057v-.194l-.185.057-5.952 1.822a1.393 1.393 0 01-1.737-.923L.247 12.682a1.39 1.39 0 01.923-1.738L9.772 8.31 27.51 2.881 36.112.247a1.393 1.393 0 011.737.923L41.47 13l.057.186h.193l-.057-.185z",fill:"#8D8D8D"}),a().createElement("path",{d:"M11.378 11.855a.836.836 0 01-.798-.59L9.385 7.361a.835.835 0 01.554-1.042l16.318-4.996a.836.836 0 011.042.554l1.195 3.902a.836.836 0 01-.554 1.043l-16.318 4.995a.831.831 0 01-.244.037z",fill:"#C6C6C6"}),a().createElement("circle",{fill:"#C6C6C6",cx:17.636,cy:2.314,r:1.855}),a().createElement("circle",{fill:"#FFF",fillRule:"nonzero",cx:17.636,cy:2.314,r:1.175}),a().createElement("path",{d:"M55.893 53.995H24.544a.79.79 0 01-.788-.789V15.644a.79.79 0 01.788-.788h31.349a.79.79 0 01.788.788v37.562a.79.79 0 01-.788.789z",fill:"#F4F4F4"}),a().createElement("path",{d:"M41.47 13H21.948a1.579 1.579 0 00-1.576 1.577V52.4l.185-.057V14.577c.001-.768.623-1.39 1.391-1.39h19.581L41.471 13zm17.02 0H21.947a1.579 1.579 0 00-1.576 1.577v42.478c0 .87.706 1.576 1.576 1.577H58.49a1.579 1.579 0 001.576-1.577V14.577a1.579 1.579 0 00-1.576-1.576zm1.39 44.055c0 .768-.622 1.39-1.39 1.392H21.947c-.768-.001-1.39-.624-1.39-1.392V14.577c0-.768.622-1.39 1.39-1.39H58.49c.768 0 1.39.622 1.39 1.39v42.478z",fill:"#8D8D8D"}),a().createElement("path",{d:"M48.751 17.082H31.686a.836.836 0 01-.835-.835v-4.081c0-.46.374-.834.835-.835H48.75c.461 0 .834.374.835.835v4.08c0 .462-.374.835-.835.836z",fill:"#C6C6C6"}),a().createElement("circle",{fill:"#C6C6C6",cx:40.218,cy:9.755,r:1.855}),a().createElement("circle",{fill:"#FFF",fillRule:"nonzero",cx:40.218,cy:9.755,r:1.13})))},d=n(2649),u=n(6759),h=n(9884),g=n(5320),f=n(1723),v=n(8179),b=n(6062),y=n.n(b),w=n(4036),C=n.n(w),k=n(6793),E=n.n(k),A=n(7892),z=n.n(A),N=n(1173),x=n.n(N),I=n(2464),H=n.n(I),T=n(4175),S={};S.styleTagTransform=H(),S.setAttributes=z(),S.insert=E().bind(null,"head"),S.domAPI=C(),S.insertStyleElement=x(),y()(T.Z,S);const L=T.Z&&T.Z.locals?T.Z.locals:void 0;function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},P.apply(this,arguments)}var F=function(){var e=(0,c.useConfig)(),t=e.useBahmniAppointmentsUI,n=e.bahmniAppointmentsUiBaseUrl,i=(0,s.useTranslation)().t;return t?a().createElement(r.zxk,{kind:"ghost",className:L.seeAllLink,size:"md",target:"_blank",href:"".concat(n,"/#/home/manage/appointments/list")},i("seeAllAppointments","See all appointments")):a().createElement(r.zxk,{kind:"ghost",className:L.seeAllLink,onClick:function(){return(0,c.navigate)({to:"".concat(v.JB)})}},i("seeAllAppointments","See all appointments"))},M=function(){var e=(0,c.useConfig)(),t=e.useBahmniAppointmentsUI,n=e.bahmniAppointmentsUiBaseUrl,i=(0,s.useTranslation)().t;return t?a().createElement(r.zxk,{size:"md",target:"_blank",kind:"ghost",href:"".concat(n,"/#/home/manage/appointments/calendar/new"),renderIcon:function(e){return a().createElement(u.mm,P({size:16},e,{className:"cds--btn__icon"}))}},i("addNewAppointment","Add new appointment")):a().createElement(r.zxk,{kind:"ghost",renderIcon:function(e){return a().createElement(u.mm,P({size:16},e))},onClick:function(){(0,c.navigate)({to:"".concat(v.JB)}),(0,f.I8)(i("search","Search"),a().createElement(g.Z,null))}},i("addNewAppointment","Add new appointment"))},O=function(){var e=(0,c.useConfig)(),t=e.useBahmniAppointmentsUI,n=e.bahmniAppointmentsUiBaseUrl,i=(0,s.useTranslation)().t;return t?a().createElement(r.zxk,{kind:"ghost",size:"md",target:"_blank",className:"cds--btn cds--btn--ghost",href:"".concat(n,"/#/home/manage/appointments/calendar"),renderIcon:function(e){return a().createElement(h.f,P({size:16},e,{className:"cds--btn__icon"}))}},i("viewCalendar","View Calendar")):a().createElement(r.zxk,{className:L.calendarButton,kind:"ghost",onClick:function(){return(0,c.navigate)({to:"".concat(v.JB,"/calendar")})},renderIcon:function(e){return a().createElement(h.f,P({size:16},e))},"data-floating-menu-primary-focus":!0,iconDescription:i("viewCalendar","View Calendar")},i("viewCalendar","View Calendar"))},B=n(9317),R=n(9405),U=function(e){var t=e.appointment,n=e.useBahmniUI,i=(0,s.useTranslation)().t,p=(0,o.kY)().mutate,m=(0,c.useConfig)().bahmniAppointmentsUiBaseUrl,l=t.status,_="Completed"===l||"Missed"===l||"Cancelled"===l,u="Scheduled"===l||"Requested"===l,h=function(){return n?a().createElement(r.laM,{className:L.menuItemLink,id:"#editAppointment",target:"_blank",href:"".concat(m,"/#/home/manage/appointments/calendar/").concat(t.id,"?isRecurring=").concat(t.recurring),itemText:i("editAppointment","Edit Appointment")},i("editAppointment","Edit Appointment")):a().createElement(r.laM,{className:L.menuItem,id:"#editAppointment",onClick:function(){(0,c.navigate)({to:"".concat(v.JB)}),(0,f.I8)(i("editAppointment","Edit Appointment"),a().createElement(B.Z,{appointment:t,context:"editing"}))},itemText:i("editAppointment","Edit Appointment")},i("editAppointment","Edit Appointment"))},b=function(){return n?a().createElement(r.laM,{className:L.menuItemLink,id:"#createAppointment",target:"_blank",href:"".concat(m,"/#/home/manage/appointments/calendar/new"),itemText:i("addNewAppointment","Add new appointment")},i("addNewAppointment","Add new appointment")):a().createElement(r.laM,{className:L.menuItem,id:"#createAppointment",onClick:function(){(0,c.navigate)({to:"".concat(v.JB)}),(0,f.I8)(i("search","Search"),a().createElement(g.Z,null))},itemText:i("addNewAppointment","Add new appointment")},i("addNewAppointment","Add new appointment"))};return a().createElement(r.mh4,null,a().createElement(r.PQB,{ariaLabel:"Edit appointment",selectorPrimaryFocus:"#editPatientDetails",size:"sm",flipped:!0},a().createElement(h,null),a().createElement(r.laM,{className:L.menuItem,disabled:"CheckedIn"===l||_,id:"#checkInAppointment",onClick:function(){return(0,d.O4)(t.id)},itemText:i("checkIn","Check In")},i("checkIn","Check In")),a().createElement(r.laM,{className:L.menuItem,id:"#completeAppointment",disabled:u||_,onClick:function(){return(0,d.bO)(t.id,p,i)},itemText:i("complete","Complete")},i("complete","Complete")),a().createElement(r.laM,{className:L.menuItem,disabled:_,id:"#missedAppointment",onClick:function(){var e=i("appointmentMarkedAsMissed","It has been successfully marked as Missed"),n=i("appointmentMissed","Appointment Missed"),a=i("appointmentMissed","Appointment Missed"),o=i("appointmentMissedError","Error marking appointment as Missed");return(0,d.tf)("Missed",t.id,e,a,n,o,p)},itemText:i("missed","Missed")},i("missed","Missed")),a().createElement(r.laM,{className:L.menuItem,id:"#cancelAppointment",disabled:_,onClick:function(){(0,c.navigate)({to:"".concat(v.JB)}),(0,f.I8)(i("cancelAppointment","Cancel Appointment"),a().createElement(R.Z,{appointment:t}))},itemText:i("cancel","Cancel")},i("cancel","Cancel")),a().createElement(b,null)))};function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},j.apply(this,arguments)}var J=function(e){var t=e.color;return a().createElement("div",{className:L.serviceColor,style:{backgroundColor:"".concat(t)}})},V=function(e){var t=e.status,n=e.t,i=e.appointmentUuid,o=e.mutate;switch(t){case"Completed":return a().createElement("div",{className:L.completeIcon},n("completed","Completed"),a().createElement(p.Wz,{size:16}));case"Missed":return a().createElement("div",{className:L.missedIcon},n("missed","Missed"),a().createElement(m.Wf,{size:16}));case"Cancelled":return a().createElement("div",{className:L.cancelIcon},n("cancelled","Cancelled"),a().createElement(p.eL,{size:16}));case"CheckedIn":return a().createElement(r.zxk,{kind:"ghost",className:L.actionButton,onClick:function(){return(0,d.bO)(i,o,n)}},n("complete","Complete"));default:return a().createElement(r.zxk,{kind:"ghost",className:L.actionButton,disabled:"CheckedIn"===t,onClick:function(){return(0,d.O4)(i)}},n("checkIn","Check In"))}};const Z=function(){var e,t,n=(0,c.useSession)().user,p=(0,c.useConfig)(),m=p.useBahmniAppointmentsUI,d=p.useFullViewPrivilege,u=p.fullViewPrivilege,h=(0,l.f6)(),g=h.isLoading,f=h.appointments,v=(0,c.userHasAccess)(u,n)||!d,b=v?f:f.filter((function(e){return"Scheduled"===e.status})),y=[10,20,30,40,50],w=(e=(0,i.useState)(10),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o=[],s=!0,r=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){r=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(r)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),C=w[0],k=w[1],E=(0,c.usePagination)(b,C),A=E.goTo,z=E.results,N=E.currentPage,x=(0,s.useTranslation)().t,I=(0,c.useLayoutType)(),H=(0,o.kY)().mutate,T=(0,i.useMemo)((function(){return[{id:0,header:x("dateTime","Date and time"),key:"dateTime"},{id:1,header:x("name","Patient Name"),key:"name"},{id:2,header:x("identifier","Identifier"),key:"identifier"},{id:3,header:x("location","Location"),key:"location"},{id:4,header:x("service","Service"),key:"service"},{id:5,header:x("actions","Actions"),key:"actionButton"}]}),[x]),S=null==z?void 0:z.map((function(e){return{id:e.id,dateTime:{content:a().createElement("span",{className:L.statusContainer},a().createElement("span",{className:L.startTime},e.dateTime),e.duration)},name:{content:a().createElement("div",{className:L.nameContainer},a().createElement(c.ConfigurableLink,{to:"${openmrsSpaBase}/patient/".concat(e.patientUuid,"/chart")},e.name))},identifier:{content:a().createElement("div",{className:L.nameContainer},a().createElement("span",{className:L.identifier},e.identifier))},location:{content:a().createElement("span",{className:L.statusContainer},e.location)},service:{content:a().createElement("span",{className:L.serviceContainer},a().createElement(J,{color:e.serviceColor}),e.serviceType)},actionButton:{content:a().createElement("span",{className:L.serviceContainer},a().createElement(V,{status:e.status,appointmentUuid:e.id,t:x,mutate:H}))}}}));return g?a().createElement(r.gqd,{role:"progressbar"}):0===(null==f?void 0:f.length)?a().createElement("div",{className:L.homeAppointmentsContainer},a().createElement(r.mh4,null,a().createElement("div",{className:(0,c.isDesktop)(I)?L.desktopHeading:L.tabletHeading},a().createElement("h4",{className:L.emptyHeading},x("todaysAppointments","Today's Appointments"))),a().createElement(r.n9L,{className:L.tile},a().createElement(_,null),a().createElement(M,null),a().createElement("p",{className:L.content},x("noAppointmentsToDisplay","No appointments to display"))))):a().createElement(a().Fragment,null,a().createElement("div",{className:L.homeAppointmentsContainer},a().createElement("div",{className:L.headerContainer},a().createElement("div",{className:(0,c.isDesktop)(I)?L.desktopHeading:L.tabletHeading},a().createElement("h4",null,x("todaysAppointments","Today's Appointments"))),a().createElement("div",{className:L.actionLinks},a().createElement(O,null),a().createElement(M,null))),a().createElement(r.wQF,{"data-floating-menu-container":!0,headers:T,overflowMenuOnHover:(0,c.isDesktop)(I),rows:S,size:(0,c.isDesktop)(I)?"xs":"md",useZebraStyles:!0},(function(e){var t=e.rows,n=e.headers,i=e.getHeaderProps,o=e.getTableProps,s=e.getRowProps;return a().createElement(r.xJi,{className:L.tableContainer},a().createElement(r.iA_,j({},o(),{className:L.appointmentsTable}),a().createElement(r.ssF,null,a().createElement(r.SCH,null,n.map((function(e){return a().createElement(r.xDH,j({},i({header:e}),{key:e.id}),e.header)})))),a().createElement(r.RMI,null,t.map((function(e,t){var n;return a().createElement(a().Fragment,{key:e.id},a().createElement(r.SCH,j({},s({row:e})),e.cells.map((function(e){var t;return a().createElement(r.pj1,{key:e.id},null!==(n=null===(t=e.value)||void 0===t?void 0:t.content)&&void 0!==n?n:e.value)})),v&&a().createElement(r.pj1,{className:"cds--table-column-menu"},a().createElement(U,{appointment:null==b?void 0:b[t],useBahmniUI:m}))))})))),0===t.length?a().createElement("div",{className:L.tileContainer},a().createElement(r.mh4,null,a().createElement(r.n9L,{className:L.tile},a().createElement("div",{className:L.tileContent},a().createElement("p",{className:L.content},x("noAppointmentsToDisplay","No appointments to display")),a().createElement("p",{className:L.helper},x("checkFilters","Check the filters above"))),a().createElement("p",{className:L.separator},x("or","or")),a().createElement(M,null)))):null,a().createElement(r.tlE,{forwardText:"Next page",backwardText:"Previous page",page:N,pageSize:C,pageSizes:y,totalItems:b.length,className:L.pagination,onChange:function(e){var t=e.pageSize,n=e.page;t!==C&&k(t),n!==N&&A(n)}}))}))),a().createElement(F,null))};var K=n(1163),W=n(1960),Y={};Y.styleTagTransform=H(),Y.setAttributes=z(),Y.insert=E().bind(null,"head"),Y.domAPI=C(),Y.insertStyleElement=x(),y()(W.Z,Y);const q=W.Z&&W.Z.locals?W.Z.locals:void 0,G=function(){var e=(0,K.ft)(),t=e.showNotification,n=e.notification,i=void 0===n?{}:n,o=i.actionButtonLabel,s=i.onActionButtonClick,p=void 0===s?function(){}:s,m=i.subtitle,c=i.kind,l=i.title,_=i.critical;return t&&a().createElement(r.FQz,{className:q.actionableNotification,kind:c||"info",actionButtonLabel:o||"Undoing",ariaLabel:"closes notification",onActionButtonClick:p,onClose:function(){},onCloseButtonClick:function(){},statusIconDescription:"notification",subtitle:m,title:l,lowContrast:_,inline:!0})};var Q={errorRetryCount:3};const $=function(){return a().createElement(o.J$,{value:Q},a().createElement(Z,null),a().createElement(G,null))}},1163:(e,t,n)=>{n.d(t,{bJ:()=>c,ft:()=>l,fu:()=>p,hR:()=>m});var i=n(906),a=n(268);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s={showNotification:!1,notification:{}},r=function(){return(0,i.getGlobalStore)("home-appointment-store",s)},p=function(e){r().setState({showNotification:!0,notification:e})},m=function(){r().setState({showNotification:!0,notification:{kind:"success",title:"Undoing status...",critical:!0}})},c=function(){r().setState({notification:{},showNotification:!1})},l=function(){var e,t,n=(e=(0,a.useState)(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o=[],s=!0,r=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){r=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(r)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],s=n[1];return(0,a.useEffect)((function(){var e=function(e){s(e)};e(r().getState()),r().subscribe(e)}),[]),{showNotification:null==i?void 0:i.showNotification,notification:null==i?void 0:i.notification}}}}]);