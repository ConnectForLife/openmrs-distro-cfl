"use strict";(self.webpackChunk_openmrs_esm_appointments_app=self.webpackChunk_openmrs_esm_appointments_app||[]).push([[31],{9432:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(2609),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-appointments__appointments-metrics__cardContainer___hE6PF{background-color:#fff;display:flex;justify-content:space-between;padding:0 1rem 4rem .5rem;flex-flow:row wrap;margin-top:-0.5rem}",""]),i.locals={cardContainer:"-esm-appointments__appointments-metrics__cardContainer___hE6PF"};const r=i},5914:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(2609),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-appointments__metrics-card__tileContainer___GXJMu{border:.0625rem solid #e0e0e0;flex-grow:1;height:7.875rem;padding:0 1rem;margin:.5rem .5rem}.-esm-appointments__metrics-card__tileHeader___4\\+uTC{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.-esm-appointments__metrics-card__headerLabel___SWYqN{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-appointments__metrics-card__totalsLabel___0dqum{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252}.-esm-appointments__metrics-card__totalsValue___iWLTK{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0);color:#161616}.-esm-appointments__metrics-card__headerLabelContainer___YjRYH{display:flex;align-items:center;height:2rem}.-esm-appointments__metrics-card__link___bi-Hq{text-decoration:none;display:flex;align-items:flex-end}.-esm-appointments__metrics-card__viewListBtn___YG\\+eR{margin:.75rem 0 0 .5rem}",""]),i.locals={tileContainer:"-esm-appointments__metrics-card__tileContainer___GXJMu",tileHeader:"-esm-appointments__metrics-card__tileHeader___4+uTC",headerLabel:"-esm-appointments__metrics-card__headerLabel___SWYqN",totalsLabel:"-esm-appointments__metrics-card__totalsLabel___0dqum",totalsValue:"-esm-appointments__metrics-card__totalsValue___iWLTK",headerLabelContainer:"-esm-appointments__metrics-card__headerLabelContainer___YjRYH",link:"-esm-appointments__metrics-card__link___bi-Hq",viewListBtn:"-esm-appointments__metrics-card__viewListBtn___YG+eR"};const r=i},7038:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(2609),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-appointments__metrics-header__metricsContainer___QvWFU{display:flex;justify-content:space-between;background-color:#fff;height:4rem;align-items:center;padding:0 1rem}.-esm-appointments__metrics-header__metricsTitle___7droC{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0);color:#161616}.-esm-appointments__metrics-header__link___9ATHW{text-decoration:none}.-esm-appointments__metrics-header__viewListBtn___8qNUQ{margin:.75rem 0 0 .5rem}",""]),i.locals={metricsContainer:"-esm-appointments__metrics-header__metricsContainer___QvWFU",metricsTitle:"-esm-appointments__metrics-header__metricsTitle___7droC",link:"-esm-appointments__metrics-header__link___9ATHW",viewListBtn:"-esm-appointments__metrics-header__viewListBtn___8qNUQ"};const r=i},6493:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(2609),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-appointments__appointment-list__productiveHeading01___oEzJk{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-appointments__appointment-list__productiveHeading02___uLLYo{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0)}.-esm-appointments__appointment-list__productiveHeading03___80xQN{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-appointments__appointment-list__productiveHeading04___Fxdek{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-appointments__appointment-list__bodyLong01___sWobV{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-appointments__appointment-list__bodyShort01___evo\\+a{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-appointments__appointment-list__bodyShort02___Tm89H{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-appointments__appointment-list__text02___kyakL{color:#525252}.-esm-appointments__appointment-list__label01___fcqK8{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-appointments__appointment-list__modal___LSIER{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-appointments__appointment-list__appointmentList___X\\+Tdq{height:100%;width:100%}.-esm-appointments__appointment-list__appointmentList___X\\+Tdq>div{background-color:#fff}.-esm-appointments__appointment-list__tabs___k2MKr{grid-column:"span 2"}.-esm-appointments__appointment-list__calendarButton___VS6sc{float:right;margin-right:1rem;position:absolute;right:0;height:2rem;min-height:0}',""]),i.locals={productiveHeading01:"-esm-appointments__appointment-list__productiveHeading01___oEzJk",productiveHeading02:"-esm-appointments__appointment-list__productiveHeading02___uLLYo",productiveHeading03:"-esm-appointments__appointment-list__productiveHeading03___80xQN",productiveHeading04:"-esm-appointments__appointment-list__productiveHeading04___Fxdek",bodyLong01:"-esm-appointments__appointment-list__bodyLong01___sWobV",bodyShort01:"-esm-appointments__appointment-list__bodyShort01___evo+a",bodyShort02:"-esm-appointments__appointment-list__bodyShort02___Tm89H",text02:"-esm-appointments__appointment-list__text02___kyakL",label01:"-esm-appointments__appointment-list__label01___fcqK8",modal:"-esm-appointments__appointment-list__modal___LSIER",appointmentList:"-esm-appointments__appointment-list__appointmentList___X+Tdq",tabs:"-esm-appointments__appointment-list__tabs___k2MKr",calendarButton:"-esm-appointments__appointment-list__calendarButton___VS6sc"};const r=i},6031:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var a=n(268),i=n.n(a),r=n(4924),s=n(3771),o=n(9884),l=n(6306),m=n(6110),c=n(8697);const d=function(e){var t=e.status,n=((0,r.useTranslation)().t,(0,l.z)(t)),a=n.appointments,s=n.isLoading;return i().createElement("div",null,i().createElement(m.Z,{appointments:a,isLoading:s,tableHeading:c.Zt.COMPLETED}))},_=function(e){var t=e.status,n=((0,r.useTranslation)().t,(0,l.z)(t)),a=n.appointments,s=n.isLoading;return i().createElement("div",null,i().createElement(m.Z,{appointments:a,isLoading:s,tableHeading:c.Zt.CANCELLED}))};var p=n(6062),g=n.n(p),h=n(4036),u=n.n(h),v=n(6793),f=n.n(v),b=n(7892),E=n.n(b),L=n(1173),y=n.n(L),w=n(2464),C=n.n(w),S=n(6493),z={};z.styleTagTransform=C(),z.setAttributes=E(),z.insert=f().bind(null,"head"),z.domAPI=u(),z.insertStyleElement=y(),g()(S.Z,z);const H=S.Z&&S.Z.locals?S.Z.locals:void 0;var T=n(906),k=n(8179);const x=function(e){var t=e.status,n=((0,r.useTranslation)().t,(0,l.z)(t)),a=n.appointments,s=n.isLoading;return i().createElement("div",null,i().createElement(m.Z,{appointments:a,isLoading:s,tableHeading:c.Zt.SCHEDULED}))},N=function(e){var t=e.status,n=((0,r.useTranslation)().t,(0,l.z)(t)),a=n.appointments,s=n.isLoading;return i().createElement("div",null,i().createElement(m.Z,{appointments:a,isLoading:s,tableHeading:c.Zt.CHECKEDIN}))};var A,Z=n(8965),D=n(8879),I=n.n(D);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function V(){return V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},V.apply(this,arguments)}!function(e){e.SCHEDULED="Scheduled",e.COMPLETED="Completed",e.CANCELLED="Cancelled",e.CHECKEDIN="CheckedIn"}(A||(A={}));const B=function(){var e,t,n=(0,r.useTranslation)().t,l=(0,Z.zF)(),m=I()(new Date(l)).isSame(new Date,"date"),c=(e=(0,a.useState)(0),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);s=!0);}catch(e){o=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=c[0],g=c[1];return i().createElement("div",{className:H.appointmentList},i().createElement(s.mQc,{selectedIndex:p,onChange:function(e){var t=e.selectedIndex;return g(t)},className:H.tabs},i().createElement(s.tdY,{style:{paddingLeft:"1rem"},"aria-label":"Appointment tabs",contained:!0},i().createElement(s.OK9,null,n("scheduled","Scheduled")),i().createElement(s.OK9,null,n("cancelled","Cancelled")),i().createElement(s.OK9,null,n("completed","Completed")),i().createElement(s.OK9,{disabled:!m},n("checkedIn","CheckedIn")),i().createElement(s.zxk,{className:H.calendarButton,kind:"primary",onClick:function(){return(0,T.navigate)({to:"".concat(k.JB,"/calendar")})},renderIcon:function(e){return i().createElement(o.f,V({size:16},e))},"data-floating-menu-primary-focus":!0,iconDescription:n("viewCalendar","View Calendar")},n("viewCalendar","View Calendar"))),i().createElement(s.nPR,null,i().createElement(s.x45,{style:{padding:0}},i().createElement(x,{status:A.SCHEDULED})),i().createElement(s.x45,{style:{padding:0}},i().createElement(_,{status:A.CANCELLED})),i().createElement(s.x45,{style:{padding:0}},i().createElement(d,{status:A.COMPLETED})),m&&i().createElement(s.x45,{style:{padding:0}},i().createElement(N,{status:A.CHECKEDIN})))))};var q=n(9857),K=n(6759),F=n(5914),O={};O.styleTagTransform=C(),O.setAttributes=E(),O.insert=f().bind(null,"head"),O.domAPI=u(),O.insertStyleElement=y(),g()(F.Z,O);const j=F.Z&&F.Z.locals?F.Z.locals:void 0,M=function(e){var t=e.label,n=e.value,a=e.headerLabel,o=e.children,l=e.view,m=(0,r.useTranslation)().t;return i().createElement(s.n9L,{className:j.tileContainer},i().createElement("div",{className:j.tileHeader},i().createElement("div",{className:j.headerLabelContainer},i().createElement("label",{className:j.headerLabel},a),o),i().createElement(T.ConfigurableLink,{className:j.link,to:"${openmrsSpaBase}/".concat({patients:"appointments-list/scheduled",highVolume:"high-volume-service",providers:"providers-link"}[l])},i().createElement("span",null,m("view","View"))," ",i().createElement(K.ol,{size:16,className:j.viewListBtn}))),i().createElement("div",null,i().createElement("label",{className:j.totalsLabel},t),i().createElement("p",{className:j.totalsValue},n)))};var Y=n(7038),W={};W.styleTagTransform=C(),W.setAttributes=E(),W.insert=f().bind(null,"head"),W.domAPI=u(),W.insertStyleElement=y(),g()(Y.Z,W);const U=Y.Z&&Y.Z.locals?Y.Z.locals:void 0,Q=function(){var e=(0,r.useTranslation)().t;return i().createElement("div",{className:U.metricsContainer},i().createElement("span",{className:U.metricsTitle},e("appointmentMetrics","Appointment metrics")),i().createElement(T.ConfigurableLink,{className:U.link,to:"${openmrsSpaBase}/appointments/missed"},e("seeMissedAppointments","See missed appointments")," ",i().createElement(K.ol,{size:16,className:U.viewListBtn})))};var R=n(9432),J={};J.styleTagTransform=C(),J.setAttributes=E(),J.insert=f().bind(null,"head"),J.domAPI=u(),J.insertStyleElement=y(),g()(R.Z,J);const X=R.Z&&R.Z.locals?R.Z.locals:void 0,G=function(){var e,t=(0,r.useTranslation)().t,n=function(){var e,t,n,a=(0,Z.zF)(),i=I()(new Date(a).setHours(23,59,59,59)).format(k.J$),r="/ws/rest/v1/appointment/appointmentSummary?startDate=".concat(a,"&endDate=").concat(i),s=(0,q.ZP)(r,T.openmrsFetch),o=s.data,l=s.error,m=(s.mutate,(0,Z.vN)(null!==(e=null==o?void 0:o.data)&&void 0!==e?e:[],"allAppointmentsCount")),c=(0,Z.vN)(null!==(t=null==o?void 0:o.data)&&void 0!==t?t:[],"missedAppointmentsCount"),d=(0,Z.g9)(null!==(n=null==o?void 0:o.data)&&void 0!==n?n:[]);return{isLoading:!o&&!l,error:l,totalAppointments:m,missedAppointments:c,highestServiceLoad:(0,Z.bf)(d)}}(),a=n.totalAppointments,o=n.highestServiceLoad,l=n.isLoading,m=n.error,c=function(){var e,t,n=(0,Z.zF)(),a="/ws/rest/v1/appointment/all?forDate=".concat(n),i=(0,q.ZP)(a,T.openmrsFetch),r=i.data,s=i.error,o=i.isValidating,l=i.mutate;return{totalProviders:(null===(t=null==r||null===(e=r.data)||void 0===e?void 0:e.map((function(e){return e.providers})).flat())||void 0===t?void 0:t.length)||0,isLoading:!r&&!s,isError:s,isValidating:o,mutate:l}}(),d=c.totalProviders,_=c.isLoading;return l||_?i().createElement(s.lSo,{role:"progressbar",description:t("loading","Loading...")}):(m&&(T.ErrorState,t("errorAppoinmentMetric")),i().createElement(i().Fragment,null,i().createElement(Q,null),i().createElement("div",{className:X.cardContainer},i().createElement(M,{label:t("patients","Patients"),value:a,headerLabel:t("scheduledAppointments","Scheduled appointments"),view:"patients"}),i().createElement(M,{label:t(null==o?void 0:o.serviceName),value:null!==(e=null==o?void 0:o.count)&&void 0!==e?e:"--",headerLabel:t("highestServiceVolume","High volume Service.  today"),view:"highVolume"}),i().createElement(M,{label:t("providers","Providers"),value:d,headerLabel:t("providersAvailableToday","Providers available today"),view:"providers"}))))},$=function(){return i().createElement("div",null,i().createElement(G,null),i().createElement(B,null))}}}]);