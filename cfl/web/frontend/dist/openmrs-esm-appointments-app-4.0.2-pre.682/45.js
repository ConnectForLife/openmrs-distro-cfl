"use strict";(self.webpackChunk_openmrs_esm_appointments_app=self.webpackChunk_openmrs_esm_appointments_app||[]).push([[45],{4055:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(2609),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-appointments__appointments-form__productiveHeading01___sM0Rw{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-appointments__appointments-form__productiveHeading02___j5G9-{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0)}.-esm-appointments__appointments-form__productiveHeading03___C82FU{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-appointments__appointments-form__productiveHeading04___uGR59{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-appointments__appointments-form__bodyLong01___Zd0X4{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-appointments__appointments-form__bodyShort01___MkOC2{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-appointments__appointments-form__bodyShort02___deuof{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-appointments__appointments-form__text02___IH5aY{color:#525252}.-esm-appointments__appointments-form__label01___HbZEF{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-appointments__appointments-form__modal___H-TH9{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-appointments__appointments-form__formContainer___IJ6O3{margin:0 1rem}.-esm-appointments__appointments-form__stickyFormHeader___x25lR{position:sticky;top:3rem;z-index:10}.-esm-appointments__appointments-form__row___TA3S8{display:flex;margin:.5rem}.-esm-appointments__appointments-form__select___7mg-l{width:90%;margin-right:60%}.-esm-appointments__appointments-form__childRow___pSDa6{margin-left:1rem}.-esm-appointments__appointments-form__inputContainer___MWGAR{margin:1rem}.-esm-appointments__appointments-form__button___gqgwv{height:4rem;display:flex;align-content:flex-start;align-items:baseline;min-width:50%}.-esm-appointments__appointments-form__timePickerInput___eUjux{width:8rem}.-esm-appointments__appointments-form__datePickerInput___r1Pz0{padding-bottom:1rem;margin-left:12.5rem}.-esm-appointments__appointments-form__workLoadCard___d95C\\+{display:flex;margin:0 1rem;color:#525252}.-esm-appointments__appointments-form__workLoadContainer___05Asu{display:flex;flex-direction:column;background-color:#fff;padding-bottom:1rem}.-esm-appointments__appointments-form__workLoadTitle___D-sb1{padding-top:1rem;color:#525252;margin:0 1rem 1rem 1rem;font-size:var(--cds-legal-01-font-size, 0.75rem);font-weight:var(--cds-legal-01-font-weight, 400);line-height:var(--cds-legal-01-line-height, 1.33333);letter-spacing:var(--cds-legal-01-letter-spacing, 0.32px);font-weight:400}",""]),i.locals={productiveHeading01:"-esm-appointments__appointments-form__productiveHeading01___sM0Rw",productiveHeading02:"-esm-appointments__appointments-form__productiveHeading02___j5G9-",productiveHeading03:"-esm-appointments__appointments-form__productiveHeading03___C82FU",productiveHeading04:"-esm-appointments__appointments-form__productiveHeading04___uGR59",bodyLong01:"-esm-appointments__appointments-form__bodyLong01___Zd0X4",bodyShort01:"-esm-appointments__appointments-form__bodyShort01___MkOC2",bodyShort02:"-esm-appointments__appointments-form__bodyShort02___deuof",text02:"-esm-appointments__appointments-form__text02___IH5aY",label01:"-esm-appointments__appointments-form__label01___HbZEF",modal:"-esm-appointments__appointments-form__modal___H-TH9",formContainer:"-esm-appointments__appointments-form__formContainer___IJ6O3",stickyFormHeader:"-esm-appointments__appointments-form__stickyFormHeader___x25lR",row:"-esm-appointments__appointments-form__row___TA3S8",select:"-esm-appointments__appointments-form__select___7mg-l",childRow:"-esm-appointments__appointments-form__childRow___pSDa6",inputContainer:"-esm-appointments__appointments-form__inputContainer___MWGAR",button:"-esm-appointments__appointments-form__button___gqgwv",timePickerInput:"-esm-appointments__appointments-form__timePickerInput___eUjux",datePickerInput:"-esm-appointments__appointments-form__datePickerInput___r1Pz0",workLoadCard:"-esm-appointments__appointments-form__workLoadCard___d95C+",workLoadContainer:"-esm-appointments__appointments-form__workLoadContainer___05Asu",workLoadTitle:"-esm-appointments__appointments-form__workLoadTitle___D-sb1"};const r=i},5628:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(2609),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,".-esm-appointments__cancel-appointment__formContainer___OqvbG{margin:1rem}.-esm-appointments__cancel-appointment__inputContainer___BvVVq{margin:1rem}.-esm-appointments__cancel-appointment__buttonContainer___usoM9{display:flex}.-esm-appointments__cancel-appointment__buttonContainer___usoM9>button{width:50%;height:4rem;display:flex;align-items:flex-start}",""]),i.locals={formContainer:"-esm-appointments__cancel-appointment__formContainer___OqvbG",inputContainer:"-esm-appointments__cancel-appointment__inputContainer___BvVVq",buttonContainer:"-esm-appointments__cancel-appointment__buttonContainer___usoM9"};const r=i},8048:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(2609),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{padding:0;border:0;margin:0;font:inherit;font-size:100%;vertical-align:baseline}button,select,input,textarea{border-radius:0;font-family:inherit}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:\"\"}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}code{font-family:'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.28572;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.28572;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-appointments__workload__skeleton___hKmyA{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{opacity:.3;transform:scaleX(0);transform-origin:left}}.-esm-appointments__workload__cardContainer___tfiUe{background-color:#fff;display:flex;height:6rem}.-esm-appointments__workload__tileContainer___JTOsW{padding:.5rem;flex:1;display:flex;align-items:center;justify-content:center;flex-direction:column;cursor:pointer;border:1px solid #a6c8ff;border-left-width:0}.-esm-appointments__workload__tileContainer___JTOsW:first-child{border-left-width:1px}.-esm-appointments__workload__tileContainer___JTOsW label{color:#525252}.-esm-appointments__workload__tileHeader___WHes\\+{display:flex;justify-content:space-between;padding-bottom:1rem}.-esm-appointments__workload__headerLabel___b-Wde{font-size:.875rem;font-weight:600;line-height:1.28572;letter-spacing:.16px;color:#525252}.-esm-appointments__workload__totalsLabel___ha-Ks{font-size:.75rem;font-weight:400;line-height:1.33333;letter-spacing:.32px;color:#525252}.-esm-appointments__workload__totalsValue___-G2ek{font-size:1.75rem;font-weight:400;line-height:1.28572;letter-spacing:0;color:#161616}.-esm-appointments__workload__headerLabelContainer___BBJPZ{display:flex;align-items:center;height:2rem}.-esm-appointments__workload__link___-po4r{text-decoration:none}.-esm-appointments__workload__activeWorkloadCard___dlZqh{background-color:#edf5ff}.-esm-appointments__workload__activeWorkloadCard___dlZqh label{color:#0f62fe}",""]),i.locals={cardContainer:"-esm-appointments__workload__cardContainer___tfiUe",tileContainer:"-esm-appointments__workload__tileContainer___JTOsW",tileHeader:"-esm-appointments__workload__tileHeader___WHes+",headerLabel:"-esm-appointments__workload__headerLabel___b-Wde",totalsLabel:"-esm-appointments__workload__totalsLabel___ha-Ks",totalsValue:"-esm-appointments__workload__totalsValue___-G2ek",headerLabelContainer:"-esm-appointments__workload__headerLabelContainer___BBJPZ",link:"-esm-appointments__workload__link___-po4r",activeWorkloadCard:"-esm-appointments__workload__activeWorkloadCard___dlZqh",skeleton:"-esm-appointments__workload__skeleton___hKmyA"};const r=i},6020:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(2609),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-appointments__patient-search__padded___Il91D{padding:1rem}[data-extension-id=patient-search-bar]>div{width:100%}[data-extension-id=patient-search-bar]>div form{margin:.0125rem}[data-extension-id=patient-search-bar]>div input{background-color:#fff;border-bottom:none;min-height:3rem}[data-extension-id=patient-search-bar]>div button{height:3rem}",""]),i.locals={padded:"-esm-appointments__patient-search__padded___Il91D"};const r=i},9933:(e,t,n)=>{n.d(t,{EA:()=>b,EN:()=>g,GB:()=>f,Su:()=>_,v1:()=>h});var a=n(5047),i=n.n(a),r=n(9857),o=n(906),l=n(8879),s=n.n(l),c=n(8179),m=n(12);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function d(e,t,n,a,i,r,o){try{var l=e[r](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){d(r,a,i,o,l,"next",e)}function l(e){d(r,a,i,o,l,"throw",e)}o(void 0)}))}}function _(){var e=(0,r.ZP)("/ws/rest/v1/appointmentService/all/default",o.openmrsFetch),t=e.data,n=e.error,a=e.isValidating;return{services:t?t.data:[],isLoading:!t&&!n,isError:n,isValidating:a}}function f(e,t){return(0,o.openmrsFetch)("/ws/rest/v1/appointment",{method:"POST",signal:t.signal,headers:{"Content-Type":"application/json"},body:e})}var v,h=(v=p(i().mark((function e(t,n,a){var r,l,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Intl.DateTimeFormat().resolvedOptions().timeZone,l=s()(new Date).format(c.J$),m="/ws/rest/v1/appointments/".concat(n,"/status-change"),e.next=5,(0,o.openmrsFetch)(m,{body:{toStatus:t,onDate:l,timeZone:r},method:"POST",headers:{"Content-Type":"application/json"}});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),function(e,t,n){return v.apply(this,arguments)}),g=function(e,t){var n=s()(e).startOf("week").format(c.J$),a=s()(n).add(2,"week").format(c.J$),i="/ws/rest/v1/appointment/appointmentSummary?startDate=".concat(n,"&endDate=").concat(a),l=(0,r.ZP)(i,o.openmrsFetch),d=l.data,p=(l.error,(0,m.Z)(null==d?void 0:d.data.filter((function(e){return e.appointmentService.uuid===t})))),_=null==p?void 0:p.appointmentCountMap;return Object.entries(null!=_?_:[]).map((function(e){var t,n,a=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return r}}(t,n)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{date:a[0],count:a[1].allAppointmentsCount}})).sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}))},b=function(){var e=p(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.openmrsFetch)("/ws/rest/v1/appointments/conflicts",{method:"POST",body:{patientUuid:t.patientUuid,serviceUuid:t.serviceUuid,startDateTime:t.startDateTime,endDateTime:t.endDateTime,providers:[],locationUuid:t.locationUuid,appointmentKind:t.appointmentKind},headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},9317:(e,t,n)=>{n.d(t,{Z:()=>q});var a=n(5047),i=n.n(a),r=n(268),o=n.n(r),l=n(4924),s=n(8879),c=n.n(s),m=n(6118),u=n(3771),d=n(906),p=n(8965),_=n(9933),f=n(9857),v=n(1723),h={data:[{uuid:"b127d100-bccb-4699-b30e-fe60a068ca46",display:"Daily"},{uuid:"dbc32cf4-e11d-4006-b398-c71204cfc0d0",display:"Weekly"},{uuid:"6e263ecd-173e-4ee1-a9a5-df1f8d5b274b",display:"Monthly"}]},g=n(6062),b=n.n(g),y=n(4036),w=n.n(y),k=n(6793),S=n.n(k),x=n(7892),C=n.n(x),E=n(1173),T=n.n(E),A=n(2464),D=n.n(A),N=n(8048),M={};M.styleTagTransform=D(),M.setAttributes=C(),M.insert=S().bind(null,"head"),M.domAPI=w(),M.insertStyleElement=T(),b()(N.Z,M);const I=N.Z&&N.Z.locals?N.Z.locals:void 0,P=function(e){var t=e.date,n=e.count,a=e.isActive,i=e.onClick;return(0,l.useTranslation)().t,o().createElement("div",{tabIndex:0,role:"button",onClick:i,className:"".concat(I.tileContainer,"  ").concat(a&&I.activeWorkloadCard)},o().createElement("div",{className:I.tileHeader},o().createElement("label",{className:I.headerLabel},t)),o().createElement("div",null,o().createElement("label",{className:I.totalsLabel},n)))};var F=n(12),O=n(4055),z={};z.styleTagTransform=D(),z.setAttributes=C(),z.insert=S().bind(null,"head"),z.domAPI=w(),z.insertStyleElement=T(),b()(O.Z,z);const U=O.Z&&O.Z.locals?O.Z.locals:void 0;var Z=n(4105);function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function H(e,t,n,a,i,r,o){try{var l=e[r](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,i)}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const q=function(e){var t,n,a,s=e.appointment,g=void 0===s?{}:s,b=e.patientUuid,y=e.context,w={patientUuid:b,dateTime:void 0,location:"",serviceUuid:"",comments:"",appointmentKind:"",status:"",id:void 0,gender:"",serviceType:"",provider:"",appointmentNumber:void 0},k=(0,m.Z)(g)?w:g,S=(0,l.useTranslation)().t,x=(0,f.kY)().mutate,C=(0,d.useConfig)().appointmentKinds,E=(0,d.useConfig)().daysOfTheWeek,T=(0,d.useConfig)().appointmentStatuses,A=(0,d.usePatient)(null!=b?b:k.patientUuid),D=A.patient,N=A.isLoading,M=(0,d.useLocations)(),I=(0,d.useSession)(),O=function(){var e,t=(0,f.ZP)("/ws/rest/v1/provider",d.openmrsFetch),n=t.data,a=t.error,i=t.isValidating;return{providers:n?null===(e=n.data)||void 0===e?void 0:e.results:[],isLoading:!n&&!a,isError:a,isValidating:i}}().providers,z=(0,_.Su)().services,L=K((0,r.useState)(c()(k.dateTime).format("hh:mm")||c()(new Date).format("hh:mm")),2),q=L[0],R=L[1],Y=K((0,r.useState)(c()(k.dateTime).format("hh:mm")||c()(new Date).format("hh:mm")),2),W=Y[0],B=Y[1],G=K((0,r.useState)(""),2),V=G[0],Q=G[1],J=K((0,r.useState)(k.location),2),$=J[0],X=J[1],ee=K((0,r.useState)(k.serviceUuid),2),te=ee[0],ne=ee[1],ae=K((0,r.useState)(k.provider),2),ie=ae[0],re=ae[1],oe=K((0,r.useState)(""),2),le=(oe[0],oe[1]),se=K((0,r.useState)(k.comments),2),ce=se[0],me=se[1],ue=K((0,r.useState)(""),2),de=ue[0],pe=ue[1],_e=K((0,r.useState)((new Date).getHours()>=12?"PM":"AM"),2),fe=_e[0],ve=_e[1],he=K(o().useState(k.dateTime?new Date(k.dateTime):new Date),2),ge=he[0],be=he[1],ye=K((0,r.useState)(!1),2),we=ye[0],ke=ye[1],Se=K((0,r.useState)(k.dateTime),2),xe=Se[0],Ce=Se[1],Ee=K((0,r.useState)(k.appointmentKind),2),Te=Ee[0],Ae=Ee[1],De=K((0,r.useState)(null!==(n=k.status)&&void 0!==n?n:"Scheduled"),2),Ne=De[0],Me=De[1],Ie=K((0,r.useState)(!1),2),Pe=Ie[0],Fe=Ie[1],Oe=(0,Z.zF)(),ze=(0,_.EN)(ge.toString(),te),Ue=(0,r.useMemo)((function(){return null!==(a=function(e,t){for(var n=new Map([]),a=0;a<=7;a++)n.set(c()(e).add(a,"day").format("YYYY-MM-DD"),0);return t.map((function(e){var t=e.date,a=e.count;n.has(t)&&n.set(t,a)})),Array.from(n).flatMap((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2);return{date:t[0],count:t[1]}}))}(new Date(Oe),ze))&&void 0!==a?a:[]}),[Oe,ze]),Ze=!te||!Te.length||!ie,je=null==z?void 0:z.find((function(e){return e.uuid===te}));(0,r.useEffect)((function(){if(je){var e,t=K((0,p.A8)(q,fe),2),n=t[0],a=t[1],i=new Date(c()(ge).year(),c()(ge).month(),c()(ge).date(),n,a);B(c()(i).add(parseInt(null!==(e=null==je?void 0:je.durationMins)&&void 0!==e?e:"0"),"minutes").format("hh:mm"))}}),[q,fe,je,ge]),(0,r.useEffect)((function(){var e,t;$&&(null==I||null===(e=I.sessionLocation)||void 0===e?void 0:e.uuid)&&X(null==I||null===(t=I.sessionLocation)||void 0===t?void 0:t.uuid)}),[$,I]);var Le,He,Ke=(Le=i().mark((function e(){var t,n,a,r,o,l,s,m,u,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=K((0,p.A8)(q,fe),2),a=n[0],r=n[1],o=null===(t=O.find((function(e){return e.display===ie})))||void 0===t?void 0:t.uuid,l=new Date(c()(ge).year(),c()(ge).month(),c()(ge).date(),a,r),s=c()(new Date(c()(ge).year(),c()(ge).month(),c()(ge).date(),a,r)),m={appointmentKind:Te,status:Ne,serviceUuid:te,startDateTime:c()(l).format(),endDateTime:c()(s).format(),providerUuid:o,comments:ce,locationUuid:$,patientUuid:k.patientUuid,appointmentNumber:k.appointmentNumber,uuid:k.id},e.next=8,(0,_.EA)(m);case 8:if(u=e.sent.data,"PATIENT_DOUBLE_BOOKING"!==K(Object.keys(u),1)[0]){e.next=14;break}return(0,d.showToast)({critical:!0,kind:"warning",description:S("doublePatientBooking","There exist an appointment on the specified service and appointment date"),title:S("doubleBooking","Appointment double booking")}),e.abrupt("return");case 14:f=new AbortController,Fe(!0),(0,_.GB)(m,f).then((function(e){200===e.status&&((0,d.showToast)({critical:!0,kind:"success",description:S("appointmentNowVisible","It is now visible on the Appointments page"),title:S("appointmentScheduled","Appointment scheduled")}),Fe(!1),x("/ws/rest/v1/appointment/appointmentStatus?forDate=".concat(Oe,"&status=Scheduled")),(0,v.Km)())}),(function(e){(0,d.showNotification)({title:S("appointmentFormError","Error scheduling appointment"),kind:"error",critical:!0,description:null==e?void 0:e.message}),Fe(!1)}));case 17:case"end":return e.stop()}}),e)})),He=function(){var e=this,t=arguments;return new Promise((function(n,a){var i=Le.apply(e,t);function r(e){H(i,n,a,r,o,"next",e)}function o(e){H(i,n,a,r,o,"throw",e)}r(void 0)}))},function(){return He.apply(this,arguments)});return o().createElement("div",{className:U.formContainer},N?o().createElement(u.N2B,null):o().createElement("div",{className:U.stickyFormHeader},o().createElement(d.ExtensionSlot,{extensionSlotName:"patient-header-slot",state:{patient:D,patientUuid:k.patientUuid}})),o().createElement("div",{className:U.childRow},o().createElement("div",{className:U.row},o().createElement(u.PhF,{labelText:S("frequency","Frequency"),id:"frequency",className:U.select,invalidText:"Required",value:V,onChange:function(e){return Q(e.target.value)},light:!0},(null===(t=h.data)||void 0===t?void 0:t.length)>0&&h.data.map((function(e){return o().createElement(u.QlF,{key:e.uuid,text:e.display,value:e.uuid},e.display)}))),we?o().createElement(u.PhF,{labelText:S("day","Day"),id:"day",invalidText:"Required",value:xe,onChange:function(e){return Ce(e.target.value)},light:!0},(null==E?void 0:E.length)>0&&E.map((function(e){return o().createElement(u.QlF,{key:e,text:e,value:e},e)}))):null)),o().createElement("div",{className:U.inputContainer,id:"appointment-place"},o().createElement("p",null,S("selectAppointmentLocation","Select where the appointment will take place")),o().createElement(u.GHR,{className:U.inputContainer,"data-testid":"appointment-place"},o().createElement(u.rsf,{value:"facility",id:"facility",text:S("facility","Facility")},S("facility","Facility")),o().createElement(u.rsf,{value:"community",id:"community",text:S("community","Community")},S("community","Community")))),o().createElement(u.PhF,{labelText:S("selectLocation","Select a location"),id:"location",invalidText:"Required",value:$,className:U.inputContainer,onChange:function(e){return X(e.target.value)},light:!0},(null==M?void 0:M.length)>0&&M.map((function(e){return o().createElement(u.QlF,{key:e.uuid,text:e.display,value:e.uuid},e.display)}))),o().createElement(u.PhF,{id:"service",invalidText:"Required",labelText:S("selectService","Select a service"),light:!0,className:U.inputContainer,onChange:function(e){return ne(e.target.value)},value:te},te&&"--"!=te?null:o().createElement(u.QlF,{text:S("chooseService","Select service"),value:""}),(null==z?void 0:z.length)>0&&z.map((function(e){return o().createElement(u.QlF,{key:e.uuid,text:e.name,value:e.uuid},e.name)}))),o().createElement("p",null,S("appointmentDateAndTime","Appointments Date and Time")),o().createElement("div",{className:U.row},o().createElement(u.ZDl,{onToggle:function(e){return ke(e)},id:"allDay",labelA:"Off",labelB:"On",labelText:"All Day"}),o().createElement(u.Mtg,{dateFormat:"d/m/Y",datePickerType:"single",id:"visitDate",light:!0,minDate:ge,className:U.datePickerInput,onChange:function(e){var t=K(e,1)[0];return be(t)},value:ge},o().createElement(u.aj6,{id:"visitStartDateInput",labelText:S("date","Date"),placeholder:"dd/mm/yyyy",style:{width:"100%"}}))),we?null:o().createElement("div",{className:U.row},o().createElement(u.jII,{disabled:!je,light:!0,className:U.timePickerInput,pattern:"([\\d]+:[\\d]{2})",onChange:function(e){return R(e.target.value)},value:q,labelText:S("startTime","Start Time"),id:"start-time-picker"},o().createElement(u.M6n,{disabled:!je,id:"start-time-picker",onChange:function(e){return ve(e.target.value)},value:fe,labelText:S("time","Time"),"aria-label":S("time","Time")},o().createElement(u.QlF,{value:"AM",text:"AM"}),o().createElement(u.QlF,{value:"PM",text:"PM"}))),o().createElement(u.jII,{disabled:!je,light:!0,className:U.timePickerInput,pattern:"([\\d]+:[\\d]{2})",onChange:function(e){return B(e.target.value)},value:W,labelText:S("endTime","End Time"),id:"end-time-picker"},o().createElement(u.M6n,{disabled:!je,id:"end-time-picker",onChange:function(e){return ve(e.target.value)},value:fe,labelText:S("time","Time"),"aria-label":S("time","Time")},o().createElement(u.QlF,{value:"AM",text:"AM"}),o().createElement(u.QlF,{value:"PM",text:"PM"})))),ze.length>0&&o().createElement("div",{className:U.workLoadContainer},o().createElement(o().Fragment,null,o().createElement("p",{className:U.workLoadTitle},S("serviceWorkloadTitle","".concat(je.name," clinic work load on the week of ").concat(c()((0,F.Z)(ze).date).format("DD/MM")))),o().createElement("div",{className:U.workLoadCard},null==Ue?void 0:Ue.map((function(e,t){var n=e.date,a=e.count;return o().createElement(P,{onClick:function(){return be(new Date(n))},key:n,date:c()(n).format("DD/MM"),count:a,isActive:c()(n).format("DD-MM-YYYY")===c()(ge).format("DD-MM-YYYY")})}))))),o().createElement(u.PhF,{id:"appointmentKind",invalidText:"Required",labelText:S("selectAppointmentKind","Select an appointment kind"),light:!0,className:U.inputContainer,onChange:function(e){return Ae(e.target.value)},value:Te},Te&&"--"!=Te?null:o().createElement(u.QlF,{text:S("selectAppointmentKind","Select an appointment kind"),value:""}),(null==C?void 0:C.length)>0&&C.map((function(e){return o().createElement(u.QlF,{key:e,text:e,value:e},e)}))),"creating"!==y&&o().createElement(u.PhF,{id:"appointmentStatus",invalidText:"Required",labelText:S("selectAppointmentStatus","Select status"),light:!0,className:U.inputContainer,onChange:function(e){return Me(e.target.value)},value:Ne},Ne&&"--"!=Ne?null:o().createElement(u.QlF,{text:S("selectAppointmentStatus","Select status"),value:""}),(null==T?void 0:T.length)>0&&T.map((function(e){return o().createElement(u.QlF,{key:e,text:e,value:e},e)}))),o().createElement(u.PhF,{id:"providers",invalidText:"Required",labelText:S("selectProvider","Select a provider"),light:!0,className:U.inputContainer,onChange:function(e){return re(e.target.value)},value:ie},ie?null:o().createElement(u.QlF,{text:S("chooseProvider","Select Provider"),value:""}),(null==O?void 0:O.length)>0&&O.map((function(e){return o().createElement(u.QlF,{key:e.uuid,text:e.display,value:e.display},e.display)}))),o().createElement("div",{className:U.inputContainer,id:"radio-group"},o().createElement("label",{className:"cds--label"},S("getAppointmentReminder","Would you like to get a reminder about this appointment?")),o().createElement(u.SYO,{defaultSelected:"No",orientation:"vertical",onChange:function(e){le(e.toString())},name:"appointment-reminder-radio-group"},o().createElement(u.EUY,{className:U.radioButton,id:"Yes",labelText:"Yes",value:"Yes"}),o().createElement(u.EUY,{className:U.radioButton,id:"No",labelText:"No",value:"No"}))),o().createElement(u.Kx8,{id:"appointmentComment",light:!0,value:ce,className:U.inputContainer,labelText:S("appointmentNoteLabel","Write an additional note"),placeholder:S("appointmentNotePlaceholder","Write any additional points here"),onChange:function(e){return me(e.target.value)}}),"editing"===y?o().createElement(u.Kx8,{id:"reason",light:!0,value:de,className:U.inputContainer,labelText:S("reasonForChanges","Reason For Changes"),onChange:function(e){return pe(e.target.value)}}):null,o().createElement(u.uVA,null,o().createElement(u.zxk,{onClick:v.Km,className:U.button,kind:"secondary"},S("discard","Discard")),o().createElement(u.zxk,{onClick:Ke,className:U.button,disabled:Pe||Ze,kind:"primary",type:"submit"},S("save","Save"))))}},9405:(e,t,n)=>{n.d(t,{Z:()=>I});var a=n(5047),i=n.n(a),r=n(268),o=n.n(r),l=n(4924),s=n(3771),c=n(906),m=n(9933),u=n(1723),d=n(6062),p=n.n(d),_=n(4036),f=n.n(_),v=n(6793),h=n.n(v),g=n(7892),b=n.n(g),y=n(1173),w=n.n(y),k=n(2464),S=n.n(k),x=n(5628),C={};C.styleTagTransform=S(),C.setAttributes=b(),C.insert=h().bind(null,"head"),C.domAPI=f(),C.insertStyleElement=w(),p()(x.Z,C);const E=x.Z&&x.Z.locals?x.Z.locals:void 0;var T=n(9857),A=n(8965);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function N(e,t,n,a,i,r,o){try{var l=e[r](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,i)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const I=function(e){var t=e.appointment,n=(0,l.useTranslation)().t,a=(0,T.kY)().mutate,d=(0,c.usePatient)(t.patientUuid).patient,p=(0,c.useSession)(),_=M((0,r.useState)(t.location),2),f=_[0],v=_[1],h=M((0,r.useState)(""),2),g=h[0],b=h[1],y=(0,A.zF)(),w=M((0,r.useState)(!1),2),k=w[0],S=w[1];(0,r.useEffect)((function(){var e,t;f&&(null==p||null===(e=p.sessionLocation)||void 0===e?void 0:e.uuid)&&v(null==p||null===(t=p.sessionLocation)||void 0===t?void 0:t.uuid)}),[f,p]);var x,C,D=(x=i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new AbortController,S(!0),e.next=4,(0,m.v1)("Cancelled",t.id,r);case 4:200===e.sent.status?((0,c.showToast)({critical:!0,kind:"success",description:n("appointmentNowVisible","It has been cancelled successfully"),title:n("appointmentCancelled","Appointment cancelled")}),a("/ws/rest/v1/appointment/appointmentStatus?forDate=".concat(y,"&status=Scheduled")),a("/ws/rest/v1/appointment/appointmentStatus?forDate=".concat(y,"&status=Cancelled")),(0,u.Km)()):((0,c.showNotification)({title:n("appointmentCancelError","Error cancelling appointment"),kind:"error",critical:!0,description:n("errorMessage","Error cancelling the appointment")}),S(!1));case 6:case"end":return e.stop()}}),e)})),C=function(){var e=this,t=arguments;return new Promise((function(n,a){var i=x.apply(e,t);function r(e){N(i,n,a,r,o,"next",e)}function o(e){N(i,n,a,r,o,"throw",e)}r(void 0)}))},function(){return C.apply(this,arguments)});return o().createElement("div",{className:E.formContainer},d&&o().createElement(c.ExtensionSlot,{extensionSlotName:"patient-header-slot",state:{patient:d,patientUuid:t.patientUuid}}),o().createElement(s.Kx8,{id:"reason",light:!0,value:g,className:E.inputContainer,labelText:n("reasonForChanges","Reason For Changes"),onChange:function(e){return b(e.target.value)}}),o().createElement("div",{className:E.buttonContainer},o().createElement(s.zxk,{onClick:function(){return(0,u.Km)()},kind:"secondary"},n("discard","Discard")),o().createElement(s.zxk,{onClick:D,disabled:k,kind:"primary",type:"submit"},n("cancelAppointment","Cancel Appointment"))))}},8965:(e,t,n)=>{n.d(t,{es:()=>d.es,A8:()=>d.A8,g9:()=>l,Ey:()=>u,bf:()=>o,vN:()=>s,bP:()=>m,zF:()=>d.zF});var a=n(906);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=null==t?void 0:t.map((function(e){var t=e.countMap;return{serviceName:e.serviceName,count:t.reduce((function(e,t){return e+t.allAppointmentsCount}),0)}}));return n.find((function(t){return t.count===(e=Math).max.apply(e,r(n.map((function(e){return e.count}))))}))},l=function(e){return e.flatMap((function(e){return{serviceName:e.appointmentService.name,countMap:Object.entries(e.appointmentCountMap).flatMap((function(e){return e[1]}))}}))},s=function(e,t){return e.map((function(e){return Object.entries(e.appointmentCountMap).flatMap((function(e){return e[1][t]}))})).flat(1).reduce((function(e,t){return e+t}),0)};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t-e,a=Math.floor(n/6e4);return a+"min"}var m=function(e,t){var n,i,r,o,l,s,m,u,d,p,_,f,v,h,g;return{id:null==e?void 0:e.uuid,name:null===(n=e.patient)||void 0===n?void 0:n.name,age:null===(i=e.patient)||void 0===i?void 0:i.birthDate,gender:null===(r=e.patient)||void 0===r?void 0:r.gender,phoneNumber:null===(o=e.patient)||void 0===o?void 0:o.contact,dob:(0,a.formatDate)((0,a.parseDate)(null===(l=e.patient)||void 0===l?void 0:l.birthDate),{mode:"wide"}),patientUuid:null===(s=e.patient)||void 0===s?void 0:s.uuid,dateTime:(f=(0,a.parseDate)(e.startDateTime),v=f.getHours(),h=f.getMinutes(),g=v>=12?"PM":"AM",(v=(v%=12)||12)+":"+(h=h<10?"0"+h:h)+" "+g),serviceType:e.service?e.service.name:"--",serviceColor:(null===(m=e.service)||void 0===m?void 0:m.color)?e.service.color:"__",serviceUuid:e.service?e.service.uuid:null,appointmentKind:e.appointmentKind?e.appointmentKind:"--",status:e.status,provider:e.provider?null===(u=e.provider.person)||void 0===u?void 0:u.display:"--",location:e.location?e.location.name:"--",comments:e.comments?e.comments:"--",appointmentNumber:e.appointmentNumber,color:e.service.color,identifier:null===(d=e.patient)||void 0===d?void 0:d.identifier,duration:(null===(p=e.service)||void 0===p?void 0:p.durationMins)?(null==e||null===(_=e.service)||void 0===_?void 0:_.durationMins)+t("minutes","min"):c(e.startDateTime,e.endDateTime),recurring:e.recurring}},u=function(e){var t,n,i,r,o,l,s,c;return{id:e.uuid,name:null===(t=e.patient)||void 0===t?void 0:t.name,age:null===(n=e.patient)||void 0===n?void 0:n.birthDate,gender:null===(i=e.patient)||void 0===i?void 0:i.gender,phoneNumber:null===(r=e.patient)||void 0===r?void 0:r.contact,dob:(0,a.formatDate)((0,a.parseDate)(null===(o=e.patient)||void 0===o?void 0:o.birthDate),{mode:"wide"}),patientUuid:null===(l=e.patient)||void 0===l?void 0:l.uuid,dateTime:e.startDateTime,serviceType:e.service?e.service.name:"--",serviceUuid:e.service?e.service.uuid:null,appointmentKind:e.appointmentKind?e.appointmentKind:"--",status:e.status,provider:e.provider?null===(s=e.provider.person)||void 0===s?void 0:s.display:"--",location:e.location?null===(c=e.location)||void 0===c?void 0:c.name:"--",comments:e.comments?e.comments:"--",appointmentNumber:e.appointmentNumber}},d=n(4105)},4105:(e,t,n)=>{n.d(t,{A8:()=>m,es:()=>p,zF:()=>_});var a=n(906),i=n(8879),r=n.n(i),o=n(268),l=n(8179);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(e,t){var n=c(null==e?void 0:e.split(":"),2),a=n[0],i=n[1];return"12"===a&&"AM"===t&&(a="00"),"PM"===t&&(a="12"===a?a:parseInt(a,10)+12),[a,i]},u={appointmentDate:r()((new Date).setHours(0,0,0,0)).format(l.J$)};function d(){return(0,a.getGlobalStore)("appointmentStartDate",u)}function p(e){d().setState({appointmentDate:r()(new Date(e).setHours(0,0,0,0)).format(l.J$)})}var _=function(){var e=c((0,o.useState)(u.appointmentDate),2),t=e[0],n=e[1];return(0,o.useEffect)((function(){d().subscribe((function(e){var t=e.appointmentDate;return n(t.toString())}))}),[]),t}},1723:(e,t,n)=>{n.d(t,{I8:()=>s,Ir:()=>m,Km:()=>c});var a=n(906),i=n(268);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var o={isOverlayOpen:!1,component:Function,header:""},l=function(){return(0,a.getGlobalStore)("appointment-store",o)},s=function(e,t){l().setState({isOverlayOpen:!0,component:t,header:e})},c=function(){l().setState({component:null,isOverlayOpen:!1})},m=function(){var e,t,n=(e=(0,i.useState)(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=n[0],o=n[1];return(0,i.useEffect)((function(){var e=function(e){o(e)};e(l().getState()),l().subscribe(e)}),[]),{isOverlayOpen:null==a?void 0:a.isOverlayOpen,component:null==a?void 0:a.component,header:null==a?void 0:a.header}}},5320:(e,t,n)=>{n.d(t,{Z:()=>x});var a=n(268),i=n.n(a),r=n(906),o=n(6062),l=n.n(o),s=n(4036),c=n.n(s),m=n(6793),u=n.n(m),d=n(7892),p=n.n(d),_=n(1173),f=n.n(_),v=n(2464),h=n.n(v),g=n(6020),b={};b.styleTagTransform=h(),b.setAttributes=p(),b.insert=u().bind(null,"head"),b.domAPI=c(),b.insertStyleElement=f(),l()(g.Z,b);const y=g.Z&&g.Z.locals?g.Z.locals:void 0;var w=n(1723),k=n(4924),S=n(9317);const x=function(){var e=(0,k.useTranslation)().t;return i().createElement("div",{className:"omrs-main-content"},i().createElement("span",{className:y.searchBarWrapper},i().createElement(r.ExtensionSlot,{extensionSlotName:"patient-search-bar-slot",state:{selectPatientAction:function(t){(0,w.Km)(),(0,w.I8)(e("appointmentForm","Create Appointment"),i().createElement(S.Z,{patientUuid:t.uuid,context:"creating"}))},buttonProps:{kind:"primary"}}})))}}}]);