"use strict";(globalThis.webpackChunk_openmrs_esm_patient_allergies_app=globalThis.webpackChunk_openmrs_esm_patient_allergies_app||[]).push([[394],{910:(e,t,n)=>{n.d(t,{Z:()=>a});var l=n(272),i=n.n(l),o=n(2609),r=n.n(o)()(i());r.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-allergies__allergies-tile__label___dMfkW{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252}.-esm-patient-allergies__allergies-tile__content____n5Gu{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:5px}.-esm-patient-allergies__allergies-tile__value___qWVfJ{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/allergies/allergies-tile.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCpDF,uDCu0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDr0BF,aAAA,CAGF,yDCk0BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDh0BF,aDLQ,CCMR,cAAA,CAGF,uDC4zBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA",sourceRoot:""}]),r.locals={label:"-esm-patient-allergies__allergies-tile__label___dMfkW",content:"-esm-patient-allergies__allergies-tile__content____n5Gu",value:"-esm-patient-allergies__allergies-tile__value___qWVfJ"};const a=r},7394:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var l=n(7900),i=n.n(l),o=n(4924),r=n(3520),a=n(7614),c=n(1354),s=n.n(c),d=n(1583),u=n.n(d),v=n(7378),f=n.n(v),A=n(5993),p=n.n(A),g=n(4154),m=n.n(g),_=n(8141),b=n.n(_),y=n(910),h={};h.styleTagTransform=b(),h.setAttributes=p(),h.insert=f().bind(null,"head"),h.domAPI=u(),h.insertStyleElement=m(),s()(y.Z,h);const Z=y.Z&&y.Z.locals?y.Z.locals:void 0,C=function(e){var t=e.patientUuid,n=(0,o.useTranslation)().t,l=(0,a.PI)(t),c=l.allergies;return l.isLoading?i().createElement(r.lSo,{role:"progressbar",description:"".concat(n("loading","Loading")," ...")}):(null==c?void 0:c.length)?i().createElement("div",null,i().createElement("p",{className:Z.label},n("allergies","Allergies")),i().createElement("p",{className:Z.content},i().createElement("span",{className:Z.value},null==c?void 0:c.map((function(e){return null==e?void 0:e.display})).join(", ")))):i().createElement("div",null,i().createElement("p",{className:Z.label},n("allergies","Allergies")),i().createElement("p",{className:Z.content},"--"))}},7614:(e,t,n)=>{n.d(t,{PI:()=>r});var l=n(3255),i=n(3315),o=n(906);function r(e){var t,n,i="".concat(o.fhirBaseUrl,"/AllergyIntolerance?patient=").concat(e),r=(0,l.ZP)(e?i:null,o.openmrsFetch),c=r.data,s=r.error,d=r.isLoading,u=r.isValidating,v=r.mutate,f=(null==c||null===(t=c.data)||void 0===t?void 0:t.total)>0?null==c?void 0:c.data.entry.map((function(e){return null!==(n=e.resource)&&void 0!==n?n:[]})).map(a).sort((function(e,t){return t.lastUpdated>e.lastUpdated?1:-1})):null;return{allergies:c?f:null,isError:s,isLoading:d,isValidating:u,mutate:v}}function a(e){var t,n,l,o,r,a,c,s,d,u,v,f,A,p,g,m=null===(t=null==e?void 0:e.reaction[0])||void 0===t||null===(n=t.manifestation)||void 0===n?void 0:n.map((function(e){var t;return null===(t=e.coding[0])||void 0===t?void 0:t.display}));return{id:null==e?void 0:e.id,clinicalStatus:null===(o=null==e||null===(l=e.clinicalStatus)||void 0===l?void 0:l.coding[0])||void 0===o?void 0:o.display,criticality:null==e?void 0:e.criticality,display:null===(a=null==e||null===(r=e.code)||void 0===r?void 0:r.coding[0])||void 0===a?void 0:a.display,recordedDate:null==e?void 0:e.recordedDate,recordedBy:null==e||null===(c=e.recorder)||void 0===c?void 0:c.display,recorderType:null==e||null===(s=e.recorder)||void 0===s?void 0:s.type,note:null==e||null===(d=e.note)||void 0===d||null===(u=d[0])||void 0===u?void 0:u.text,reactionToSubstance:null===(A=null===(v=null==e?void 0:e.reaction[0])||void 0===v||null===(f=v.substance)||void 0===f?void 0:f.coding[1])||void 0===A?void 0:A.display,reactionManifestations:m,reactionSeverity:(0,i.Z)(null===(p=null==e?void 0:e.reaction[0])||void 0===p?void 0:p.severity),lastUpdated:null==e||null===(g=e.meta)||void 0===g?void 0:g.lastUpdated}}},187:(e,t,n)=>{n.d(t,{Z:()=>l});const l=n(3221).Z.Symbol},8147:(e,t,n)=>{n.d(t,{Z:()=>d});var l=n(187),i=Object.prototype,o=i.hasOwnProperty,r=i.toString,a=l.Z?l.Z.toStringTag:void 0;var c=Object.prototype.toString;var s=l.Z?l.Z.toStringTag:void 0;const d=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var l=!0}catch(e){}var i=r.call(e);return l&&(t?e[a]=n:delete e[a]),i}(e):function(e){return c.call(e)}(e)}},2168:(e,t,n)=>{n.d(t,{Z:()=>l});const l="object"==typeof global&&global&&global.Object===Object&&global},3221:(e,t,n)=>{n.d(t,{Z:()=>o});var l=n(2168),i="object"==typeof self&&self&&self.Object===Object&&self;const o=l.Z||i||Function("return this")()},3315:(e,t,n)=>{n.d(t,{Z:()=>b});var l=n(4020);const i=function(e,t,n){var l=e.length;return n=void 0===n?l:n,!t&&n>=l?e:function(e,t,n){var l=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++l<i;)o[l]=e[l+t];return o}(e,t,n)};var o=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const r=function(e){return o.test(e)};var a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",c="\\ud83c[\\udffb-\\udfff]",s="[^\\ud800-\\udfff]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",v="(?:"+a+"|"+c+")?",f="[\\ufe0e\\ufe0f]?",A=f+v+"(?:\\u200d(?:"+[s,d,u].join("|")+")"+f+v+")*",p="(?:"+[s+a+"?",a,d,u,"[\\ud800-\\udfff]"].join("|")+")",g=RegExp(c+"(?="+c+")|"+p+A,"g");const m=function(e){return r(e)?function(e){return e.match(g)||[]}(e):function(e){return e.split("")}(e)},_=function(e){e=(0,l.Z)(e);var t=r(e)?m(e):void 0,n=t?t[0]:e.charAt(0),o=t?i(t,1).join(""):e.slice(1);return n.toUpperCase()+o},b=function(e){return _((0,l.Z)(e).toLowerCase())}},7885:(e,t,n)=>{n.d(t,{Z:()=>l});const l=Array.isArray},3391:(e,t,n)=>{n.d(t,{Z:()=>l});const l=function(e){return null!=e&&"object"==typeof e}},2758:(e,t,n)=>{n.d(t,{Z:()=>o});var l=n(8147),i=n(3391);const o=function(e){return"symbol"==typeof e||(0,i.Z)(e)&&"[object Symbol]"==(0,l.Z)(e)}},4020:(e,t,n)=>{n.d(t,{Z:()=>s});var l=n(187);var i=n(7885),o=n(2758),r=l.Z?l.Z.prototype:void 0,a=r?r.toString:void 0;const c=function e(t){if("string"==typeof t)return t;if((0,i.Z)(t))return function(e,t){for(var n=-1,l=null==e?0:e.length,i=Array(l);++n<l;)i[n]=t(e[n],n,e);return i}(t,e)+"";if((0,o.Z)(t))return a?a.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},s=function(e){return null==e?"":c(e)}}}]);