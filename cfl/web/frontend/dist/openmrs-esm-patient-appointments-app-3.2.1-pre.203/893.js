"use strict";(self.webpackChunk_openmrs_esm_patient_appointments_app=self.webpackChunk_openmrs_esm_patient_appointments_app||[]).push([[893],{979:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(9601),r=n.n(o),i=n(2609),a=n.n(i)()(r());a.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{padding:0;border:0;margin:0;font:inherit;font-size:100%;vertical-align:baseline}button,select,input,textarea{border-radius:0;font-family:inherit}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:\"\"}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}code{font-family:'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-patient-appointments__appointments-base-component__skeleton___TR6O5{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{opacity:.3;transform:scaleX(0);transform-origin:left}}.-esm-patient-appointments__appointments-base-component__widgetCard___aQK_w{border:1px solid #e0e0e0}.-esm-patient-appointments__appointments-base-component__productiveHeading01___DIlSc{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}.-esm-patient-appointments__appointments-base-component__contentSwitcherWrapper___H0Jyr{display:flex;width:fit-content;justify-content:flex-end;align-items:center;width:60%}.-esm-patient-appointments__appointments-base-component__contentSwitcherWrapper___H0Jyr>div>button{background-color:#fff}.-esm-patient-appointments__appointments-base-component__contentSwitcherWrapper___H0Jyr>div button:first-child{border-top:1px solid #a6c8ff;border-bottom:1px solid #a6c8ff;border-left:1px solid #a6c8ff;border-right:none;border-radius:.25rem 0 0px .25rem}.-esm-patient-appointments__appointments-base-component__contentSwitcherWrapper___H0Jyr>div button:last-child{border-top:1px solid #a6c8ff;border-bottom:1px solid #a6c8ff;border-right:1px solid #a6c8ff;border-left:none;border-radius:0px .25rem .25rem 0px}.-esm-patient-appointments__appointments-base-component__contentSwitcherWrapper___H0Jyr>div>button[aria-selected=true],.-esm-patient-appointments__appointments-base-component__contentSwitcherWrapper___H0Jyr>div>button[aria-selected=true]:first-child{background-color:#edf5ff;color:#0f62fe;border-color:#0f62fe;border-right:1px solid #0f62fe}.-esm-patient-appointments__appointments-base-component__contentSwitcherWrapper___H0Jyr>div>button[aria-selected=true],.-esm-patient-appointments__appointments-base-component__contentSwitcherWrapper___H0Jyr>div>button[aria-selected=true]:last-child{background-color:#edf5ff;color:#0f62fe;border-color:#0f62fe;border-left:1px solid #0f62fe}.-esm-patient-appointments__appointments-base-component__contentSwitcherWrapper___H0Jyr>div>button[aria-selected=true]:focus{box-shadow:none}.-esm-patient-appointments__appointments-base-component__divider___niG3g{border-left:1px solid #e0e0e0;height:1rem;margin:0 1rem 0 1.5rem}.-esm-patient-appointments__appointments-base-component__content___UBmNr{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;color:#525252;margin-top:1rem;margin-bottom:.5rem}.-esm-patient-appointments__appointments-base-component__tile___hL8kf{text-align:center}",""]),a.locals={widgetCard:"-esm-patient-appointments__appointments-base-component__widgetCard___aQK_w",productiveHeading01:"-esm-patient-appointments__appointments-base-component__productiveHeading01___DIlSc",contentSwitcherWrapper:"-esm-patient-appointments__appointments-base-component__contentSwitcherWrapper___H0Jyr",divider:"-esm-patient-appointments__appointments-base-component__divider___niG3g",content:"-esm-patient-appointments__appointments-base-component__content___UBmNr",tile:"-esm-patient-appointments__appointments-base-component__tile___hL8kf",skeleton:"-esm-patient-appointments__appointments-base-component__skeleton___TR6O5"};const s=a},7246:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(9601),r=n.n(o),i=n(2609),a=n.n(i)()(r());a.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{padding:0;border:0;margin:0;font:inherit;font-size:100%;vertical-align:baseline}button,select,input,textarea{border-radius:0;font-family:inherit}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:\"\"}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}code{font-family:'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-patient-appointments__appointments-table-component__skeleton___jB28H{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{opacity:.3;transform:scaleX(0);transform-origin:left}}",""]),a.locals={skeleton:"-esm-patient-appointments__appointments-table-component__skeleton___jB28H"};const s=a},893:(e,t,n)=>{n.d(t,{Z:()=>K});var o=n(9902),r=n.n(o),i=n(4924),a=n(3565),s=n.n(a),l=n(8011),p=n(3771),m=n(8580),c=n(182),d=n(6265),f=n(8953),u=n(7030),g=n(5343),h=n(9318),_=n(321),b=n.n(_),v=n(1195),y=n.n(v),w=n(3275),k=n.n(w),x=n(7162),S=n.n(x),E=n(2094),A=n.n(E),z=n(757),Z=n.n(z),P=n(979),T={};T.styleTagTransform=Z(),T.setAttributes=S(),T.insert=k().bind(null,"head"),T.domAPI=y(),T.insertStyleElement=A(),b()(P.Z,T);const I=P.Z&&P.Z.locals?P.Z.locals:void 0;var C=n(160),H=n(854),q=n(364),M=n(7500),X=n(8804),D=n(1358),N=n(2427),j=n(3783),O=n(3066),B=n(7246),W={};W.styleTagTransform=Z(),W.setAttributes=S(),W.insert=k().bind(null,"head"),W.domAPI=y(),W.insertStyleElement=A(),b()(B.Z,W);const J=B.Z&&B.Z.locals?B.Z.locals:void 0;function U(){return U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},U.apply(this,arguments)}var L=n(264);s().extend(L);const V=function(e){var t,n,a=e.patientAppointments,s=(0,i.useTranslation)().t,l=(0,O.usePagination)(a,5),m=l.results,c=l.currentPage,d=l.goTo,f=(0,o.useMemo)((function(){return[{key:"date",header:s("date","Date")},{key:"location",header:s("location","Location")},{key:"service",header:s("service","Service")}]}),[s]),u=(0,o.useMemo)((function(){return null==m?void 0:m.map((function(e){return{id:e.uuid,date:(0,O.formatDatetime)((0,O.parseDate)(e.startDateTime),{mode:"wide"}),location:e.location.name,service:e.service.name}}))}),[m]);return r().createElement("div",null,r().createElement(C.Z,null,r().createElement(H.ZP,{rows:u,headers:f,isSortable:!0,size:"short"},(function(e){var o=e.rows,i=e.headers,a=e.getHeaderProps,s=e.getTableProps;return r().createElement(q.Z,U({},s(),{useZebraStyles:!0}),r().createElement(M.Z,null,r().createElement(X.Z,null,i.map((function(e){var n;return r().createElement(D.Z,U({className:"".concat(J.productiveHeading01," ").concat(J.text02)},a({header:e,isSortable:e.isSortable})),null!==(t=null===(n=e.header)||void 0===n?void 0:n.content)&&void 0!==t?t:e.header)})))),r().createElement(N.Z,null,o.map((function(e){return r().createElement(X.Z,{key:e.id},e.cells.map((function(e){var t;return r().createElement(j.Z,{key:e.id},null!==(n=null===(t=e.value)||void 0===t?void 0:t.content)&&void 0!==n?n:e.value)})))}))))}))),r().createElement(p.PatientChartPagination,{currentItems:m.length,totalItems:a.length,onPageNumberChange:function(e){var t=e.page;return d(t)},pageNumber:c,pageSize:5}))};function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var F;!function(e){e[e.UPCOMING=0]="UPCOMING",e[e.PAST=1]="PAST"}(F||(F={}));const K=function(e){var t,n,a,_=e.patientUuid,b=(0,i.useTranslation)().t,v=b("appointments","Appointments"),y=(n=(0,o.useState)(0),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}}(n,a)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=y[0],k=y[1],x=s()((new Date).toISOString()).subtract(6,"month").toISOString(),S=(0,h.zt)(_,x,new AbortController),E=S.data,A=S.isError,z=S.isLoading,Z=S.isValidating;return z?r().createElement(m.Z,{role:"progressbar"}):A?r().createElement(p.ErrorState,{headerTitle:v,error:A}):(null===(t=Object.keys(E))||void 0===t?void 0:t.length)?r().createElement("div",{className:I.widgetCard},r().createElement(p.CardHeader,{title:v},Z?r().createElement("span",null,r().createElement(c.Z,null)):null,r().createElement("div",{className:I.contentSwitcherWrapper},r().createElement(d.Z,{size:"md",onChange:function(e){var t=e.index;return k(t)}},r().createElement(f.Z,{name:"upcoming",text:b("upcoming","Upcoming")}),r().createElement(f.Z,{name:"past",text:b("past","Past")})),r().createElement("div",{className:I.divider}),r().createElement(u.Z,{kind:"ghost",renderIcon:l.Z,iconDescription:"Add Appointments",onClick:function(){return(0,p.launchPatientWorkspace)("appointments-form-workspace")}},b("add","Add")))),function(){var e,t;return w===F.UPCOMING?(null===(e=E.upcomingAppointments)||void 0===e?void 0:e.length)?r().createElement(V,{patientAppointments:null==E?void 0:E.upcomingAppointments}):r().createElement(g.n9,{light:!0,className:I.tile},r().createElement(p.EmptyDataIllustration,null),r().createElement("p",{className:I.content},b("noUpcomingAppointments","There are no upcoming appointments to display for this patient"))):w===F.PAST?(null===(t=E.pastAppointments)||void 0===t?void 0:t.length)?r().createElement(V,{patientAppointments:null==E?void 0:E.pastAppointments}):r().createElement(g.n9,{light:!0,className:I.tile},r().createElement(p.EmptyDataIllustration,null),r().createElement("p",{className:I.content},b("noPastAppointments","There are no past appointments to display for this patient"))):void 0}()):void 0}},9318:(e,t,n)=>{n.d(t,{Pc:()=>m,ep:()=>s,l9:()=>p,zt:()=>l});var o=n(3565),r=n.n(o),i=n(9857),a=n(3066),s="/ws/rest/v1/appointments/search";function l(e,t,n){var o,l=(0,i.ZP)(s,(function(){return(0,a.openmrsFetch)(s,{method:"POST",signal:n.signal,headers:{"Content-Type":"application/json"},body:{patientUuid:e,startDate:t}})})),p=l.data,m=l.error,c=l.isValidating,d=(null==p||null===(o=p.data)||void 0===o?void 0:o.length)?p.data.sort((function(e,t){return t.startDateTime>e.startDateTime?1:-1})):null,f=null==d?void 0:d.filter((function(e){return r()(e.startDateTime/1e3*1e3).isBefore(r()())})),u=null==d?void 0:d.filter((function(e){return r()(e.startDateTime/1e3*1e3).isAfter(r()())}));return{data:p?{pastAppointments:f,upcomingAppointments:u}:null,isError:m,isLoading:!p&&!m,isValidating:c}}function p(){var e=(0,i.ZP)("/ws/rest/v1/appointmentService/all/full",a.openmrsFetch),t=e.data,n=e.error;return{data:t?t.data:null,isError:n,isLoading:!t&&!n}}function m(e,t){return(0,a.openmrsFetch)("/ws/rest/v1/appointment",{method:"POST",signal:t.signal,headers:{"Content-Type":"application/json"},body:e})}}}]);