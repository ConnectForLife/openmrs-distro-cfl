"use strict";(self.webpackChunk_openmrs_esm_patient_chart_app=self.webpackChunk_openmrs_esm_patient_chart_app||[]).push([[3260],{1145:(e,t,i)=>{i.d(t,{Z:()=>E});var n=i(7896),a=i(9740),r=i(9902),o=i.n(r),s=i(3980),l=i.n(s),c=i(2779),d=i.n(c),m=i(618),u=i(8358),f=i(3597),g=i(6666),h=i(3182),p=i(330),v=["id","active","className","withOverlay","small","description"],b=(0,h.Z)();function y(e){var t,i,s=e.id,l=e.active,c=e.className,m=e.withOverlay,u=e.small,f=e.description,h=(0,a.Z)(e,v),y=(0,p.A)(),_=(0,r.useRef)(b()).current,k=d()(c,(t={},(0,g.Z)(t,"".concat(y,"--loading"),!0),(0,g.Z)(t,"".concat(y,"--loading--small"),u),(0,g.Z)(t,"".concat(y,"--loading--stop"),!l),t)),E=d()((i={},(0,g.Z)(i,"".concat(y,"--loading-overlay"),!0),(0,g.Z)(i,"".concat(y,"--loading-overlay--stop"),!l),i)),w=s||"loading-id-".concat(_),Z=o().createElement("div",(0,n.Z)({},h,{"aria-atomic":"true","aria-labelledby":w,"aria-live":l?"assertive":"off",className:k}),o().createElement("label",{id:w,className:"".concat(y,"--visually-hidden")},f),o().createElement("svg",{className:"".concat(y,"--loading__svg"),viewBox:"0 0 100 100"},o().createElement("title",null,f),u?o().createElement("circle",{className:"".concat(y,"--loading__background"),cx:"50%",cy:"50%",r:"44"}):null,o().createElement("circle",{className:"".concat(y,"--loading__stroke"),cx:"50%",cy:"50%",r:"44"})));return m?o().createElement("div",{className:E},Z):Z}y.propTypes={active:l().bool,className:l().string,description:l().string,id:l().string,small:l().bool,withOverlay:l().bool},y.defaultProps={active:!0,withOverlay:!0,small:!1,description:"Active loading indicator"};const _=y;var k=["className","success","status","iconDescription","description","onSuccess","successDelay"];function E(e){var t=e.className,i=e.success,r=e.status,s=void 0===r?i?"finished":"active":r,l=e.iconDescription,c=e.description,f=e.onSuccess,g=e.successDelay,h=(0,a.Z)(e,k),v=(0,p.A)(),b=d()("".concat(v,"--inline-loading"),t),y=o().createElement("div",{className:"".concat(v,"--inline-loading__text")},c),E="error"===s?o().createElement(m.ycZ,{className:"".concat(v,"--inline-loading--error")},o().createElement("title",null,l)):"finished"===s?(setTimeout((function(){f&&f()}),g),o().createElement(u.Y3p,{className:"".concat(v,"--inline-loading__checkmark-container")},o().createElement("title",null,l))):"inactive"===s||"active"===s?o().createElement(_,{small:!0,description:l,withOverlay:!1,active:"active"===s}):void 0,w=E&&o().createElement("div",{className:"".concat(v,"--inline-loading__animation")},E);return o().createElement("div",(0,n.Z)({className:b},h,{"aria-live":"assertive"}),w,c&&y)}E.propTypes={className:l().string,description:l().node,iconDescription:l().string,onSuccess:l().func,status:l().oneOf(["inactive","active","finished","error"]),success:(0,f.Z)(l().bool,'\nThe prop `success` for InlineLoading has been deprecated in favor of `status`. Please use `status="finished"` instead.'),successDelay:l().number},E.defaultProps={successDelay:1500}},8139:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(9601),a=i.n(n),r=i(2609),o=i.n(r)()(a());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{padding:0;border:0;margin:0;font:inherit;font-size:100%;vertical-align:baseline}button,select,input,textarea{border-radius:0;font-family:inherit}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:\"\"}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}code{font-family:'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-patient-chart__cancel-visit-dialog__skeleton___CE1kM{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{opacity:.3;transform:scaleX(0);transform-origin:left}}.-esm-patient-chart__cancel-visit-dialog__bodyShort02___PSiVR{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0;color:#161616}",""]),o.locals={bodyShort02:"-esm-patient-chart__cancel-visit-dialog__bodyShort02___PSiVR",skeleton:"-esm-patient-chart__cancel-visit-dialog__skeleton___CE1kM"};const s=o},3260:(e,t,i)=>{i.r(t),i.d(t,{default:()=>C});var n=i(9902),a=i.n(n),r=i(3066),o=i(321),s=i.n(o),l=i(1195),c=i.n(l),d=i(3275),m=i.n(d),u=i(7162),f=i.n(u),g=i(2094),h=i.n(g),p=i(757),v=i.n(p),b=i(8139),y={};y.styleTagTransform=v(),y.setAttributes=f(),y.insert=m().bind(null,"head"),y.domAPI=c(),y.insertStyleElement=h(),s()(b.Z,y);const _=b.Z&&b.Z.locals?b.Z.locals:void 0;var k=i(416),E=i(7807),w=i(9539),Z=i(1145),N=i(4924);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}const C=function(e){var t,i,o=e.patientUuid,s=e.closeModal,l=(0,N.useTranslation)().t,c=(0,r.useVisit)(o),d=c.currentVisit,m=c.mutate,u=(t=(0,n.useState)(!1),i=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw a}}return r}}(t,i)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?S(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=u[0],g=u[1],h=(0,n.useCallback)((function(){g(!0),(0,r.openmrsFetch)("/ws/rest/v1/visit/".concat(d.uuid),{headers:{"Content-type":"application/json"},method:"POST",body:{voided:!0}}).then((function(){m(),(0,r.showToast)({title:l("cancelVisit","Cancel visit"),kind:"success",description:l("visitCanceled","Canceled active visit successfully")}),s(),g(!1)}),(function(e){(0,r.showNotification)({title:l("cancelVisitError","Error canceling active visit"),kind:"error",critical:!0,description:null==e?void 0:e.message}),g(!1)}))}),[s,d.uuid,m,l]);return a().createElement("div",null,a().createElement(k.xB,{closeModal:s,label:l("visit","Visit"),title:l("cancelActiveVisit","Cancel active visit")}),a().createElement(E.fe,null,a().createElement("p",{className:_.bodyShort02},l("cancelVisitWarningMessage","Canceling this visit will delete all associated encounter(s)"))),a().createElement(k.mz,null,a().createElement(w.Z,{kind:"secondary",onClick:s},l("cancel","Cancel")),a().createElement(w.Z,{disabled:f,kind:"danger",onClick:h},f?a().createElement(Z.Z,{description:l("loading","Loading...")}):l("cancelVisit","Cancel Visit"))))}}}]);