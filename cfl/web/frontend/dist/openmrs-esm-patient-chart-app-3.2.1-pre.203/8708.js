(self.webpackChunk_openmrs_esm_patient_chart_app=self.webpackChunk_openmrs_esm_patient_chart_app||[]).push([[8708],{8179:(e,t,n)=>{"use strict";n.d(t,{Fd:()=>c,JB:()=>o,S_:()=>a,Yh:()=>i,e1:()=>s,sb:()=>r});var a=window.getOpenmrsSpaBase(),r="/patient/:patientUuid/chart",i="".concat(r,"/:view?"),o="".concat(window.spaBase).concat(r),s="@openmrs/esm-patient-chart-app",c="patient-chart-workspace-header-slot"},8708:(e,t,n)=>{"use strict";n.r(t),n.d(t,{backendDependencies:()=>v,importTranslation:()=>b,setupOpenMRS:()=>g});var a=n(3066),r=n(3771),i={visitDiagnosisConceptUuid:{_default:"159947AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",_type:a.Type.ConceptUuid},problemListConceptUuid:{_default:"1284AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",_type:a.Type.ConceptUuid},diagnosisOrderConceptUuid:{_default:"159946AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",_type:a.Type.ConceptUuid},notesConceptUuids:{_type:a.Type.Array,_default:["162169AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"]},offlineVisitTypeUuid:{_type:a.Type.UUID,_description:"The UUID of the visit type to be used for the automatically created offline visits.",_default:"a22733fa-3501-4020-a520-da024eeff088"},showRecommendedVisitTypeTab:{_type:a.Type.Boolean,_description:"Whether start visit form should display recommended visit type tab. Requires `visitTypeResourceUrl`",_default:!1},visitTypeResourceUrl:{_type:a.Type.String,_default:"/etl-latest/etl/patient/",_description:"Custom URL to load resources required for showing recommended visit types"}},o=n(8179),s=n(5047),c=n.n(s);function l(e,t,n,a,r,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){u(e,t,n[t])}))}return e}function m(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var p={slot:"patient-chart-summary-dashboard-slot",columns:4,title:"Patient Summary"},f={slot:"patient-chart-encounters-dashboard-slot",columns:1,title:"Visits"},A=n(9130),y=n(8733);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var b=n(3979),v={};function g(){return(0,a.setupOfflineSync)(r.visitSyncType,[r.patientRegistrationSyncType],(e=c().mark((function e(t,n){var r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m(d({},t),{stopDatetime:new Date}),e.next=3,(0,a.saveVisit)(r,n.abort).toPromise();case 3:if((i=e.sent).ok){e.next=6;break}throw new Error("Failed to synchronize offline visit with the UUID: ".concat(t.uuid,". Error: ").concat(JSON.stringify(i.data)));case 6:return e.abrupt("return",i.data);case 7:case"end":return e.stop()}}),e)})),t=function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){l(i,a,r,o,s,"next",e)}function s(e){l(i,a,r,o,s,"throw",e)}o(void 0)}))},function(e,n){return t.apply(this,arguments)})),(0,a.messageOmrsServiceWorker)({type:"registerDynamicRoute",pattern:".+/ws/fhir2/R4/Patient/.+"}),(0,a.messageOmrsServiceWorker)({type:"registerDynamicRoute",pattern:".+/ws/rest/v1/visit.+"}),(0,a.defineConfigSchema)(o.e1,i),(0,a.defineExtensionConfigSchema)("nav-group",y.genericNavGroupConfigSchema),(0,a.defineExtensionConfigSchema)("dashboard",A.genericDashboardConfigSchema),(0,a.registerBreadcrumbs)([{path:o.JB,title:"Patient",parent:"".concat(window.spaBase,"/home")},{path:"".concat(o.JB,"/:view"),title:function(e){var t,n,a=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=(a[0],a[1]);return"".concat(decodeURIComponent(r)," dashboard")},parent:o.JB}]),{pages:[{route:/^patient\/.+\/chart/,load:(0,a.getAsyncLifecycle)((function(){return Promise.all([n.e(9539),n.e(6355),n.e(8095),n.e(9857),n.e(618),n.e(416),n.e(2182),n.e(4924),n.e(8479),n.e(6065)]).then(n.bind(n,6358))}),{featureName:"patient-chart",moduleName:o.e1}),online:!0,offline:!0}],extensions:[{name:"charts-summary-dashboard",slot:"patient-chart-dashboard-slot",order:0,load:(0,a.getSyncLifecycle)((0,r.createDashboardLink)(p),{featureName:"summary-dashboard",moduleName:o.e1}),meta:p,online:!0,offline:!0},{name:"start-visit-button",slot:"patient-actions-slot",load:(0,a.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(1522)]).then(n.bind(n,1522))}),{featureName:"patient-actions-slot",moduleName:o.e1})},{name:"stop-visit-button",slot:"patient-actions-slot",load:(0,a.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(9469)]).then(n.bind(n,9469))}),{featureName:"patient-actions-slot",moduleName:o.e1})},{name:"stop-visit-button-patient-search",slot:"patient-search-actions-slot",load:(0,a.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(9469)]).then(n.bind(n,9469))}),{featureName:"patient-actions-slot",moduleName:o.e1})},{name:"cancel-visit-button",slot:"patient-actions-slot",load:(0,a.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(7244)]).then(n.bind(n,7244))}),{featureName:"patient-actions-slot",moduleName:o.e1})},{name:"cancel-visit-button",slot:"patient-search-actions-slot",load:(0,a.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(7244)]).then(n.bind(n,7244))}),{featureName:"patient-actions-slot",moduleName:o.e1})},{name:"add-past-visit-button",slot:"patient-actions-slot",load:(0,a.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(5485)]).then(n.bind(n,5485))}),{featureName:"patient-actions-slot",moduleName:o.e1})},{name:"add-past-visit-button",slot:"patient-search-actions-slot",load:(0,a.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(5485)]).then(n.bind(n,5485))}),{featureName:"patient-actions-slot",moduleName:o.e1})},{name:"encounters-summary-dashboard",slot:"patient-chart-dashboard-slot",order:5,load:(0,a.getSyncLifecycle)((0,r.createDashboardLink)(f),{featureName:"encounter",moduleName:o.e1}),meta:f,online:!0,offline:!0},{name:"past-visits-detail-overview",order:1,slot:"patient-chart-encounters-dashboard-slot",load:(0,a.getAsyncLifecycle)((function(){return Promise.all([n.e(9539),n.e(6355),n.e(8095),n.e(9857),n.e(618),n.e(2439),n.e(3023),n.e(9145),n.e(3311),n.e(8898),n.e(4924),n.e(8479),n.e(3533)]).then(n.bind(n,3533))}),{featureName:"visits-detail-slot",moduleName:o.e1}),meta:{title:"Visits",view:"visits"}},{name:"past-visits-overview",load:(0,a.getAsyncLifecycle)((function(){return Promise.all([n.e(9539),n.e(6355),n.e(8095),n.e(9857),n.e(9145),n.e(3311),n.e(4924),n.e(8479),n.e(534)]).then(n.bind(n,8453))}),{featureName:"past-visits-overview",moduleName:o.e1}),meta:{title:"Edit or load a past visit",view:"visits"}},{name:"start-visit-workspace-form",load:(0,a.getAsyncLifecycle)((function(){return Promise.all([n.e(9539),n.e(6355),n.e(9857),n.e(618),n.e(2439),n.e(9145),n.e(9580),n.e(6913),n.e(9686),n.e(4924),n.e(8479),n.e(5379)]).then(n.bind(n,5379))}),{featureName:"start-visit-form",moduleName:o.e1}),meta:{title:"Start a visit"}},{name:"patient-details-tile",slot:"visit-form-header-slot",order:1,load:(0,a.getAsyncLifecycle)((function(){return Promise.all([n.e(6635),n.e(4658)]).then(n.bind(n,6097))}),{featureName:"patient-details-tile",moduleName:o.e1})},{name:"nav-group",load:(0,a.getAsyncLifecycle)((function(){return Promise.resolve().then(n.bind(n,8733))}),{featureName:"Nav group",moduleName:o.e1})},{name:"dashboard",load:(0,a.getAsyncLifecycle)((function(){return Promise.resolve().then(n.bind(n,9130))}),{featureName:"Dashboard",moduleName:o.e1})},{name:"cancel-visit-dialog",load:(0,a.getAsyncLifecycle)((function(){return Promise.all([n.e(9539),n.e(6355),n.e(8095),n.e(618),n.e(416),n.e(4924),n.e(8479),n.e(3260)]).then(n.bind(n,3260))}),{featureName:"cancel visit",moduleName:o.e1})},{name:"start-visit-dialog",load:(0,a.getAsyncLifecycle)((function(){return Promise.all([n.e(9539),n.e(6355),n.e(8095),n.e(416),n.e(4924),n.e(8479),n.e(7124)]).then(n.bind(n,7124))}),{featureName:"start visit",moduleName:o.e1})},{id:"end-visit-dialog",load:(0,a.getAsyncLifecycle)((function(){return Promise.all([n.e(9539),n.e(6355),n.e(8095),n.e(416),n.e(6913),n.e(4924),n.e(8479),n.e(5574)]).then(n.bind(n,5574))}),{featureName:"end visit",moduleName:o.e1})},{id:"start-visit-button-patient-search",slot:"start-visit-button-slot",load:(0,a.getAsyncLifecycle)((function(){return Promise.all([n.e(9539),n.e(4924),n.e(8479),n.e(6002)]).then(n.bind(n,6002))}),{featureName:"start-visit-button-patient-search",moduleName:o.e1})}]};var e,t}},9130:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c,genericDashboardConfigSchema:()=>s});var a=n(9902),r=n.n(a),i=n(3066),o=n(3771),s={title:{_default:"New Dashboard",_type:i.Type.String},slot:{_default:"new-dashboard-slot",_type:i.Type.String},columns:{_default:1,_type:i.Type.Number,_description:"The number of columns that widgets in the dashboard can use to display themselves in. Note that '2' will not necessarily result in a two-column layout—rather that widgets will be able to occupy either one or both of those columns."}};function c(e){var t=e.basePath,n=(0,i.useConfig)();return r().createElement(o.DashboardExtension,{title:n.title,basePath:t})}},8733:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c,genericNavGroupConfigSchema:()=>s});var a=n(9902),r=n.n(a),i=n(3066),o=n(3771),s={title:{_type:i.Type.String,_description:"The title of the nav group.",_default:"My Group"},slotName:{_type:i.Type.String,_description:"The name of the slot to create, which links can be added to.",_default:"my-group-nav-slot"}};function c(e){var t=e.basePath,n=(0,i.useConfig)();return r().createElement(o.DashboardGroupExtension,{title:n.title,slotName:n.slotName,basePath:t})}},3979:(e,t,n)=>{var a={"./en.json":[3574,3574],"./fr.json":[2757,2757]};function r(e){if(!n.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((()=>n(r)))}r.keys=()=>Object.keys(a),r.id=3979,e.exports=r}}]);