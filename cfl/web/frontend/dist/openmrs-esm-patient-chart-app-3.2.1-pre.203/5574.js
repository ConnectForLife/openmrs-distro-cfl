"use strict";(self.webpackChunk_openmrs_esm_patient_chart_app=self.webpackChunk_openmrs_esm_patient_chart_app||[]).push([[5574],{3670:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(9601),r=n.n(i),o=n(2609),a=n.n(o)()(r());a.push([t.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{padding:0;border:0;margin:0;font:inherit;font-size:100%;vertical-align:baseline}button,select,input,textarea{border-radius:0;font-family:inherit}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:\"\"}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}code{font-family:'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-patient-chart__end-visit-dialog__skeleton___XJuc1{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{opacity:.3;transform:scaleX(0);transform-origin:left}}.-esm-patient-chart__end-visit-dialog__bodyShort02___Jt89k{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0;color:#161616}",""]),a.locals={bodyShort02:"-esm-patient-chart__end-visit-dialog__bodyShort02___Jt89k",skeleton:"-esm-patient-chart__end-visit-dialog__skeleton___XJuc1"};const s=a},3484:(t,e,n)=>{n.d(e,{P:()=>_});var i=n(4397),r=n(2730),o=n(2995),a=n(1881),s=n(9120),l=n(4773);function c(t){return function(e){return 0===t?(0,l.c)():e.lift(new u(t))}}var u=function(){function t(t){if(this.total=t,this.total<0)throw new s.W}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.total))},t}(),f=function(t){function e(e,n){var i=t.call(this,e)||this;return i.total=n,i.count=0,i}return o.ZT(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(a.L);function h(t){return void 0===t&&(t=null),function(e){return e.lift(new d(t))}}var d=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new m(t,this.defaultValue))},t}(),m=function(t){function e(e,n){var i=t.call(this,e)||this;return i.defaultValue=n,i.isEmpty=!0,i}return o.ZT(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(a.L);function p(t){return void 0===t&&(t=v),function(e){return e.lift(new g(t))}}var g=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new b(t,this.errorFactory))},t}(),b=function(t){function e(e,n){var i=t.call(this,e)||this;return i.errorFactory=n,i.hasValue=!1,i}return o.ZT(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(a.L);function v(){return new i.K}var y=n(6930);function _(t,e){var n=arguments.length>=2;return function(o){return o.pipe(t?(0,r.h)((function(e,n){return t(e,n,o)})):y.y,c(1),n?h(e):p((function(){return new i.K})))}}},5574:(t,e,n)=>{n.r(e),n.d(e,{default:()=>z});var i=n(9902),r=n.n(i),o=n(321),a=n.n(o),s=n(1195),l=n.n(s),c=n(3275),u=n.n(c),f=n(7162),h=n.n(f),d=n(2094),m=n.n(d),p=n(757),g=n.n(p),b=n(3670),v={};v.styleTagTransform=g(),v.setAttributes=h(),v.insert=u().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=m(),a()(b.Z,v);const y=b.Z&&b.Z.locals?b.Z.locals:void 0;var _=n(416),w=n(7807),k=n(9539),x=n(4924),E=n(3066),V=n(3484);const z=function(t){var e=t.patientUuid,n=t.closeModal,i=(0,x.useTranslation)().t,o=(0,E.useVisit)(e),a=o.currentVisit,s=o.mutate;return r().createElement("div",null,r().createElement(_.xB,{closeModal:n,label:i("visit","Visit"),title:i("endActiveVisit","End active visit")}),r().createElement(w.fe,null,r().createElement("p",{className:y.bodyShort02},i("endVisitWarningMessage","Ending this visit, will not allow you to fill another encounter form for this patient"))),r().createElement(_.mz,null,r().createElement(k.Z,{kind:"secondary",onClick:n},i("cancel","Cancel")),r().createElement(k.Z,{kind:"danger",onClick:function(){var t={location:a.location.uuid,startDatetime:(0,E.parseDate)(a.startDatetime),visitType:a.visitType.uuid,stopDatetime:new Date},e=new AbortController;(0,E.updateVisit)(a.uuid,t,e).pipe((0,V.P)()).subscribe((function(t){200===t.status&&(s(),n(),(0,E.showToast)({kind:"success",description:i("visitEndSuccessfully","Ended active visit successfully")}))}),(function(t){(0,E.showNotification)({title:i("endVisitError","Error ending active visit"),kind:"error",critical:!0,description:null==t?void 0:t.message})}))}},i("endVisit","End Visit"))))}}}]);