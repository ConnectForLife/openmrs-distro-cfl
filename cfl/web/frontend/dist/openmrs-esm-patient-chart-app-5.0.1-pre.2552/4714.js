"use strict";(globalThis.webpackChunk_openmrs_esm_patient_chart_app=globalThis.webpackChunk_openmrs_esm_patient_chart_app||[]).push([[4714],{9143:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(272),r=i.n(n),a=i(2609),o=i.n(a)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-chart__visit-attribute-type__patientChartWrapper___onAM3{display:flex;position:relative}.-esm-patient-chart__visit-attribute-type__patientChartWrapper___onAM3>nav{padding-bottom:3rem;scrollbar-width:none}.-esm-patient-chart__visit-attribute-type__patientChartWrapper___onAM3 ::-webkit-scrollbar{width:0px;background-color:rgba(0,0,0,0)}.-esm-patient-chart__visit-attribute-type__patientChartWrapper___onAM3 .cds--side-nav__overlay-active{background-color:rgba(0,0,0,0)}.omrs-breakpoint-lt-desktop .-esm-patient-chart__visit-attribute-type__patientChartWrapper___onAM3 .cds--side-nav{height:calc(100vh - 3rem - 4rem)}.-esm-patient-chart__visit-attribute-type__caption01___VcNMe{font-size:var(--cds-legal-01-font-size, 0.75rem);font-weight:var(--cds-legal-01-font-weight, 400);line-height:var(--cds-legal-01-line-height, 1.33333);letter-spacing:var(--cds-legal-01-letter-spacing, 0.32px)}.-esm-patient-chart__visit-attribute-type__productiveHeading01___LCRo6{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-patient-chart__visit-attribute-type__productiveHeading02___qIuB3{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0)}.-esm-patient-chart__visit-attribute-type__productiveHeading03___g8c6V{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-patient-chart__visit-attribute-type__productiveHeading04___ASZI3{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-patient-chart__visit-attribute-type__bodyLong01___GhLpa{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-patient-chart__visit-attribute-type__bodyShort02___RrwKX{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-patient-chart__visit-attribute-type__text01___qgMzU{color:#161616}.-esm-patient-chart__visit-attribute-type__text02___qoAqp{color:#525252}.-esm-patient-chart__visit-attribute-type__label01___vezk5{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}html[dir=rtl] .cds--date-picker-input__wrapper svg{left:1rem;right:unset}html[dir=rtl] .cds--side-nav{right:0}html[dir=rtl] .cds--side-nav .active-left-nav-link{border-right:.25rem solid var(--brand-01);border-left:unset}.-esm-patient-chart__visit-attribute-type__visitAttributeField___Z_h2J{margin-bottom:1rem}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./src/visit/visit-form/visit-attribute-type.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCjDF,uEACE,YAAA,CACA,iBAAA,CAIA,2EACE,mBAAA,CACA,oBAAA,CAGF,2FACE,SAAA,CACA,8BAAA,CAGF,sGACE,8BAAA,CAOA,kHACE,gCAAA,CAKN,6DCsyBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDlyBJ,uECkyBI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CD9xBJ,uEC8xBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CD1xBJ,uEC0xBI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDtxBJ,uECsxBI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CDlxBJ,8DCkxBI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD9wBJ,+DC8wBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CD1wBJ,0DACE,aD7DM,CCgER,0DACE,aDhEQ,CCmEV,2DCkwBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD3vBA,mDACE,SAAA,CACA,WAAA,CAGJ,6BACI,OAAA,CACA,mDACE,yCAAA,CACA,iBAAA,CEpFR,uEACE,kBC0BW",sourceRoot:""}]),o.locals={patientChartWrapper:"-esm-patient-chart__visit-attribute-type__patientChartWrapper___onAM3",caption01:"-esm-patient-chart__visit-attribute-type__caption01___VcNMe",productiveHeading01:"-esm-patient-chart__visit-attribute-type__productiveHeading01___LCRo6",productiveHeading02:"-esm-patient-chart__visit-attribute-type__productiveHeading02___qIuB3",productiveHeading03:"-esm-patient-chart__visit-attribute-type__productiveHeading03___g8c6V",productiveHeading04:"-esm-patient-chart__visit-attribute-type__productiveHeading04___ASZI3",bodyLong01:"-esm-patient-chart__visit-attribute-type__bodyLong01___GhLpa",bodyShort02:"-esm-patient-chart__visit-attribute-type__bodyShort02___RrwKX",text01:"-esm-patient-chart__visit-attribute-type__text01___qgMzU",text02:"-esm-patient-chart__visit-attribute-type__text02___qoAqp",label01:"-esm-patient-chart__visit-attribute-type__label01___vezk5",visitAttributeField:"-esm-patient-chart__visit-attribute-type__visitAttributeField___Z_h2J"};const s=o},7002:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(272),r=i.n(n),a=i(2609),o=i.n(a)()(r());o.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-chart__visit-form__container___V0EAu{margin:1rem}.-esm-patient-chart__visit-form__container___V0EAu section{margin:1rem 0}.-esm-patient-chart__visit-form__heading___TVqyR{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin:1rem}.-esm-patient-chart__visit-form__sectionTitle___f3Yyk{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin:0 0 .5rem 0}.-esm-patient-chart__visit-form__dateTimeSection___WhhCa{display:flex}.-esm-patient-chart__visit-form__radioButton___DRhUw{margin:1rem 0}.-esm-patient-chart__visit-form__headerGridRow___xY0ZJ{border-bottom:.0625rem solid #e0e0e0;margin:0}.-esm-patient-chart__visit-form__dataGridRow___OLYdO{display:grid;grid-template-columns:50% 10% 1fr;margin:.5rem 1rem}.-esm-patient-chart__visit-form__form___SXiaB{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - 6rem)}.-esm-patient-chart__visit-form__button___xSg5s{height:4rem;display:flex;align-content:flex-start;align-items:baseline;min-width:50%}.-esm-patient-chart__visit-form__tablet___HslaG{padding:1.5rem 1rem;background-color:#fff}.-esm-patient-chart__visit-form__desktop___wjcUN{padding:0rem}@media screen and (max-width: 600px){.-esm-patient-chart__visit-form__dateTimeSection___WhhCa{flex-direction:column}}.-esm-patient-chart__visit-form__inlineNotification___GJdev{width:100%;max-width:unset;padding:"0rem"}.-esm-patient-chart__visit-form__queueSection___BzXv6{margin-top:.75rem}.omrs-breakpoint-lt-desktop .-esm-patient-chart__visit-form__container___V0EAu section{display:flex;gap:4rem}.omrs-breakpoint-lt-desktop .-esm-patient-chart__visit-form__container___V0EAu section .-esm-patient-chart__visit-form__sectionTitle___f3Yyk{flex-basis:30%;min-width:8rem;text-align:left}.omrs-breakpoint-lt-desktop .-esm-patient-chart__visit-form__container___V0EAu section .-esm-patient-chart__visit-form__sectionField___EZYop{flex-basis:70%}',"",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/visit/visit-form/visit-form.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,mDACE,WC0BW,CDxBX,2DACE,aAAA,CAIJ,iDE8zBI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CF3zBF,WCgBW,CDbb,sDEwzBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFtzBF,aDfQ,CCgBR,kBAAA,CAGF,yDACE,YAAA,CAGF,qDACE,aAAA,CAGF,uDACE,oCAAA,CACA,QAAA,CAGF,qDACE,YAAA,CACA,iCAAA,CACA,iBAAA,CAGF,8CACE,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,yBAAA,CAGF,gDACE,WAAA,CACA,YAAA,CACA,wBAAA,CACA,oBAAA,CACA,aAAA,CAGF,gDACE,mBAAA,CACA,qBD3DM,CC8DR,iDACE,YAAA,CAGF,qCACE,yDACE,qBAAA,CAAA,CAIJ,4DACE,UAAA,CACA,eAAA,CACA,cAAA,CAGF,sDACE,iBCtDW,CD2DT,uFACE,YAAA,CACA,QAAA,CAEA,6IACE,cAAA,CACA,cAAA,CACA,eAAA,CAGF,6IACE,cAAA",sourceRoot:""}]),o.locals={container:"-esm-patient-chart__visit-form__container___V0EAu",heading:"-esm-patient-chart__visit-form__heading___TVqyR",sectionTitle:"-esm-patient-chart__visit-form__sectionTitle___f3Yyk",dateTimeSection:"-esm-patient-chart__visit-form__dateTimeSection___WhhCa",radioButton:"-esm-patient-chart__visit-form__radioButton___DRhUw",headerGridRow:"-esm-patient-chart__visit-form__headerGridRow___xY0ZJ",dataGridRow:"-esm-patient-chart__visit-form__dataGridRow___OLYdO",form:"-esm-patient-chart__visit-form__form___SXiaB",button:"-esm-patient-chart__visit-form__button___xSg5s",tablet:"-esm-patient-chart__visit-form__tablet___HslaG",desktop:"-esm-patient-chart__visit-form__desktop___wjcUN",inlineNotification:"-esm-patient-chart__visit-form__inlineNotification___GJdev",queueSection:"-esm-patient-chart__visit-form__queueSection___BzXv6",sectionField:"-esm-patient-chart__visit-form__sectionField___EZYop"};const s=o},6006:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(272),r=i.n(n),a=i(2609),o=i.n(a)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-chart__visit-type-overview__visitTypeOverviewWrapper___sN86o{margin:1rem 0rem;border:.0625rem solid #e0e0e0}.-esm-patient-chart__visit-type-overview__tablet___xom4y{background-color:#fff}.-esm-patient-chart__visit-type-overview__desktop___zxyQ_{background-color:#f4f4f4}.-esm-patient-chart__visit-type-overview__desktop___zxyQ_ .-esm-patient-chart__visit-type-overview__paginationContainer___iGHJW div{background-color:#f4f4f4}.-esm-patient-chart__visit-type-overview__visitTypeOverviewWrapper___sN86o div:nth-child(3)>div:nth-child(2){position:relative}.-esm-patient-chart__visit-type-overview__visitTypeOverviewWrapper___sN86o div:nth-child(3) span *{display:none}.-esm-patient-chart__visit-type-overview__radioButtonGroup___WkEls{display:flex;flex-direction:column;align-items:flex-start;margin-top:.5rem;min-height:4rem;width:100%;font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-patient-chart__visit-type-overview__radioButton___fLMu4{padding:.25rem 1rem;margin:.5rem 0}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/visit/visit-form/visit-type-overview.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,2EACC,gBAAA,CACA,6BAAA,CAGD,yDACC,qBDTO,CCYR,0DACC,wBDdO,CCgBP,oIACC,wBDjBM,CCqBR,6GACC,iBAAA,CAGD,mGACC,YAAA,CAGD,mEACC,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,gBCZY,CDaZ,eCsBY,CDrBZ,UAAA,CEuyBG,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CFlyBJ,8DACC,mBAAA,CACA,cAAA",sourceRoot:""}]),o.locals={visitTypeOverviewWrapper:"-esm-patient-chart__visit-type-overview__visitTypeOverviewWrapper___sN86o",tablet:"-esm-patient-chart__visit-type-overview__tablet___xom4y",desktop:"-esm-patient-chart__visit-type-overview__desktop___zxyQ_",paginationContainer:"-esm-patient-chart__visit-type-overview__paginationContainer___iGHJW",radioButtonGroup:"-esm-patient-chart__visit-type-overview__radioButtonGroup___WkEls",radioButton:"-esm-patient-chart__visit-type-overview__radioButton___fLMu4"};const s=o},4100:(e,t,i)=>{i.d(t,{Aq:()=>s,Ls:()=>d});var n=i(2870);function r(e,t,i,n,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,r)}function a(e){return function(){var t=this,i=arguments;return new Promise((function(n,a){var o=e.apply(t,i);function s(e){r(o,n,a,s,l,"next",e)}function l(e){r(o,n,a,s,l,"throw",e)}s(void 0)}))}}function o(e,t){var i,n,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function s(e,t,i,n,r,a,o,s,c){return l.apply(this,arguments)}function l(){return(l=a((function(e,t,i,r,a,s,l,u,d){return o(this,(function(o){switch(o.label){case 0:return[4,Promise.all([c(u,e,t,l,d)])];case 1:return o.sent(),[2,(0,n.openmrsFetch)("/ws/rest/v1/visit-queue-entry",{method:"POST",headers:{"Content-Type":"application/json"},signal:l.signal,body:{visit:{uuid:e},queueEntry:{status:{uuid:a},priority:{uuid:r},queue:{uuid:t},patient:{uuid:i},startedAt:(0,n.toDateObjectStrict)((0,n.toOmrsIsoString)(new Date)),sortWeight:s}}})]}}))}))).apply(this,arguments)}function c(e,t,i,n,r){return u.apply(this,arguments)}function u(){return(u=a((function(e,t,i,r,a){return o(this,(function(o){switch(o.label){case 0:return[4,(0,n.openmrsFetch)("/ws/rest/v1/queue-entry-number?location=".concat(e,"&queue=").concat(i,"&visit=").concat(t,"&visitAttributeType=").concat(a),{method:"GET",headers:{"Content-Type":"application/json"},signal:r.signal})];case 1:return o.sent(),[2]}}))}))).apply(this,arguments)}function d(e,t,i){return(0,n.openmrsFetch)("/ws/rest/v1/queue/".concat(e,"/entry/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:{endedAt:(0,n.toDateObjectStrict)((0,n.toOmrsIsoString)(new Date))},signal:i.signal})}},4714:(e,t,i)=>{i.r(t),i.d(t,{default:()=>le});var n=i(268),r=i.n(n),a=i(3565),o=i.n(a),s=i(4350),l=i(4924),c=i(3955),u=i(9457),d=i(195),m=i(8883),p=i(2870),A=i(414),v=i(3255);function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var f=function(e){return t=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){_(e,t,i[t])}))}return e}({},e),i=null!=(i={display:e.name})?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):function(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i.push.apply(i,n)}return i}(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})),t;var t,i},g=i(6520),h=i(7279),y=i(1354),b=i.n(y),C=i(1583),E=i.n(C),w=i(7378),T=i.n(w),D=i(5993),S=i.n(D),k=i(4154),B=i.n(k),O=i(8141),x=i.n(O),F=i(6006),P={};P.styleTagTransform=x(),P.setAttributes=S(),P.insert=T().bind(null,"head"),P.domAPI=E(),P.insertStyleElement=B(),b()(F.Z,P);const j=F.Z&&F.Z.locals?F.Z.locals:void 0;function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}const N=function(e){var t,i,a=e.visitTypes,o=(0,l.useTranslation)().t,u="tablet"===(0,p.useLayoutType)(),d=(t=(0,n.useState)(""),i=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,a=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw r}}return a}}(t,i)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?I(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],v=d[1],_=(0,c.Gc)().control,f=(0,n.useMemo)((function(){return(0,h.Z)(m)?a:a.filter((function(e){return-1!==e.display.toLowerCase().search(m.toLowerCase())}))}),[m,a]),y=(0,n.useMemo)((function(){return(0,g.Z)((function(e){return v(e)}),300)}),[]),b=(0,p.usePagination)(f,5),C=b.results,E=b.currentPage,w=b.goTo;return r().createElement("div",{className:"".concat(j.visitTypeOverviewWrapper," ").concat(u?j.tablet:j.desktop)},a.length?r().createElement(r().Fragment,null,u?r().createElement(s.Layer,null,r().createElement(s.Search,{onChange:function(e){return y(e.target.value)},placeholder:o("searchForAVisitType","Search for a visit type"),labelText:""})):r().createElement(s.Search,{onChange:function(e){return y(e.target.value)},placeholder:o("searchForAVisitType","Search for a visit type"),labelText:""}),r().createElement(c.Qr,{name:"visitType",control:_,defaultValue:1===(null==C?void 0:C.length)?C[0].uuid:"",render:function(e){var t=e.field,i=t.onChange,n=t.value;return r().createElement(s.RadioButtonGroup,{className:j.radioButtonGroup,orientation:"vertical",onChange:i,name:"radio-button-group",valueSelected:n},C.map((function(e){var t=e.uuid,i=e.display,n=e.name;return r().createElement(s.RadioButton,{key:t,className:j.radioButton,id:n,labelText:i,value:t})})))}}),r().createElement("div",{className:j.paginationContainer},r().createElement(A.PatientChartPagination,{pageNumber:E,totalItems:null==a?void 0:a.length,currentItems:C.length,pageSize:5,onPageNumberChange:function(e){var t=e.page;return w(t)}}))):r().createElement(s.StructuredListSkeleton,null))};var L=function(e){var t,i=e.patientUuid,a=e.patientProgramEnrollment,o=e.locationUuid,l=function(e,t,i,r){var a=(0,p.useConfig)(),o=a.visitTypeResourceUrl,s=a.showRecommendedVisitTypeTab,l="".concat(o).concat(e,"/program/").concat(i,"/enrollment/").concat(t,"?intendedLocationUuid=").concat(r),c=(0,v.ZP)(s&&e&&t&&i?l:null,p.openmrsFetch),u=c.data,d=c.error,m=c.isLoading;return{recommendedVisitTypes:(0,n.useMemo)((function(){var e,t,i;return null!==(i=null==u||null===(t=u.data)||void 0===t||null===(e=t.visitTypes)||void 0===e?void 0:e.allowed.map(f))&&void 0!==i?i:[]}),[u]),error:d,isLoading:m}}(i,null==a?void 0:a.uuid,null==a||null===(t=a.program)||void 0===t?void 0:t.uuid,o),c=l.recommendedVisitTypes,u=(l.error,l.isLoading);return r().createElement("div",{style:{marginTop:"0.625rem"}},u?r().createElement(s.StructuredListSkeleton,null):r().createElement(N,{visitTypes:c}))},G=r().memo(L),z=i(4100);function q(e){var t,i,r="/ws/rest/v1/location";e&&(r+="?q=".concat(e));var a=(0,v.ZP)(r,p.openmrsFetch),o=a.data,s=a.error,l=a.isLoading;return(0,n.useEffect)((function(){s&&console.error(s)}),[s]),{locations:null==o||null===(i=o.data)||void 0===i||null===(t=i.results)||void 0===t?void 0:t.map((function(e){return{display:e.display,uuid:e.uuid}})),isLoading:l,error:s}}var R=i(7002),M={};M.styleTagTransform=x(),M.setAttributes=S(),M.insert=T().bind(null,"head"),M.domAPI=E(),M.insertStyleElement=B(),b()(R.Z,M);const V=R.Z&&R.Z.locals?R.Z.locals:void 0;var Z=i(2303),U=i(5455),W=i.n(U);function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}const H=function(){var e,t,i,a,o,u,d,m=(0,l.useTranslation)().t,A=(u=(0,n.useState)(""),d=2,function(e){if(Array.isArray(e))return e}(u)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,a=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw r}}return a}}(u,d)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Y(e,t):void 0}}(u,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=A[0],_=A[1],f=(0,p.useSession)().sessionLocation,g=q(v),h=g.locations,y=(g.isLoading,g.error,e=(0,p.useConfig)().defaultFacilityUrl,t=(0,Z.Z)(e,p.openmrsFetch),i=t.data,a=t.error,o=t.isLoading,{defaultFacility:i?null==i?void 0:i.data:null,isLoading:o,isError:a}),b=y.defaultFacility,C=y.isLoading||W()(b)?h||(f?[f]:[]):[b],E=(0,c.Gc)().control;return r().createElement("section",{"data-testid":"combo"},r().createElement("div",{className:V.sectionTitle},m("visitLocation","Visit Location")),r().createElement("div",{className:"".concat(V.selectContainer," ").concat(V.sectionField)},r().createElement(c.Qr,{name:"visitLocation",control:E,render:function(e){var t=e.field,i=t.onBlur,n=t.onChange,a=t.value;return r().createElement(s.ComboBox,{titleText:m("selectLocation","Select a location"),"aria-label":m("selectLocation","Select a location"),id:"location",invalidText:"Required",items:C,selectedItem:a,onChange:function(e){var t=e.selectedItem;return n(t)},onBlur:i,itemToString:function(e){return null==e?void 0:e.display},onInputChange:function(e){_(e)}})}})))};var J=i(9143),Q={};Q.styleTagTransform=x(),Q.setAttributes=S(),Q.insert=T().bind(null,"head"),Q.domAPI=E(),Q.insertStyleElement=B(),b()(J.Z,Q);const X=J.Z&&J.Z.locals?J.Z.locals:void 0;function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function $(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ee(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){$(e,t,i[t])}))}return e}function te(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i.push.apply(i,n)}return i}(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})),e}var ie=function(e){var t=e.attributeType,i=e.setErrorFetchingResources,a=e.fieldProps,u=t.uuid,d=t.required,m=function(e){var t=(0,Z.Z)("/ws/rest/v1/visitattributetype/".concat(e,"?v=").concat("custom:(uuid,display,name,description,datatypeClassname,datatypeConfig)"),p.openmrsFetch),i=t.data,r=t.error,a=t.isLoading;return(0,n.useEffect)((function(){r&&console.error(r)}),[r]),(0,n.useMemo)((function(){return{isLoading:a,error:r,data:null==i?void 0:i.data}}),[i,r,a])}(u),A=m.data,v=m.isLoading,_=m.error,f=function(e){var t=(0,Z.Z)(e?"/ws/rest/v1/concept/".concat(e):null,p.openmrsFetch),i=t.data,r=t.error,a=t.isLoading;return(0,n.useEffect)((function(){r&&console.error(r)}),[r]),(0,n.useMemo)((function(){var e;return{isLoading:a,error:r,data:null==i?void 0:i.data,answers:null==i||null===(e=i.data)||void 0===e?void 0:e.answers}}),[i,r,a])}(null==A?void 0:A.datatypeConfig),g=f.answers,h=f.isLoading,y=f.error,b=(0,l.useTranslation)().t,C=d?null==A?void 0:A.display:"".concat(null==A?void 0:A.display," (").concat(b("optional","optional"),")"),E=(0,c.Gc)().formState.errors;(0,n.useEffect)((function(){(_||y)&&i((function(e){return{blockSavingForm:(null==e?void 0:e.blockSavingForm)||d}}))}),[y,_,d,i]);var w=(0,n.useMemo)((function(){var e=a.onChange;if(v)return r().createElement(r().Fragment,null);if(_)return null;switch(null==A?void 0:A.datatypeClassname){case"org.openmrs.customdatatype.datatype.ConceptDatatype":var t,i,n;return h?r().createElement(s.SelectSkeleton,null):y?null:r().createElement(s.Select,te(ee({},a),{labelText:C,invalid:!!(null===(t=E.visitAttributes)||void 0===t?void 0:t[u]),invalidText:null===(n=E.visitAttributes)||void 0===n||null===(i=n[u])||void 0===i?void 0:i.message}),r().createElement(s.SelectItem,{text:b("selectAnOption","Select an option"),value:""}),g.map((function(e,t){return r().createElement(s.SelectItem,{key:t,text:e.display,value:e.uuid})})));case"org.openmrs.customdatatype.datatype.FloatDatatype":var l,c,d;return r().createElement(s.NumberInput,te(ee({},a),{label:C,hideSteppers:!0,invalid:!!(null===(l=E.visitAttributes)||void 0===l?void 0:l[u]),invalidText:null===(d=E.visitAttributes)||void 0===d||null===(c=d[u])||void 0===c?void 0:c.message}));case"org.openmrs.customdatatype.datatype.FreeTextDatatype":var m,p,f;return r().createElement(s.TextInput,te(ee({},a),{labelText:C,invalid:!!(null===(m=E.visitAttributes)||void 0===m?void 0:m[u]),invalidText:null===(f=E.visitAttributes)||void 0===f||null===(p=f[u])||void 0===p?void 0:p.message}));case"org.openmrs.customdatatype.datatype.LongFreeTextDatatype":var w,T,D;return r().createElement(s.TextArea,te(ee({},a),{labelText:C,invalid:!!(null===(w=E.visitAttributes)||void 0===w?void 0:w[u]),invalidText:null===(D=E.visitAttributes)||void 0===D||null===(T=D[u])||void 0===T?void 0:T.message}));case"org.openmrs.customdatatype.datatype.BooleanDatatype":var S,k,B;return r().createElement(s.Checkbox,te(ee({},a),{labelText:C,invalid:!!(null===(S=E.visitAttributes)||void 0===S?void 0:S[u]),invalidText:null===(B=E.visitAttributes)||void 0===B||null===(k=B[u])||void 0===k?void 0:k.message}));case"org.openmrs.customdatatype.datatype.DateDatatype":var O,x,F;return r().createElement(s.DatePicker,te(ee({},a),{dateFormat:"d/m/Y",datePickerType:"single",onChange:function(t){var i,n,r=(i=t,n=1,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,a=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw r}}return a}}(i,n)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?K(e,t):void 0}}(i,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return e(o()(r).format("YYYY-MM-DD"))}}),r().createElement(s.DatePickerInput,{id:"date-picker-default-id",placeholder:"dd/mm/yyyy",labelText:C,type:"text",invalid:!!(null===(O=E.visitAttributes)||void 0===O?void 0:O[u]),invalidText:null===(F=E.visitAttributes)||void 0===F||null===(x=F[u])||void 0===x?void 0:x.message}));default:var P,j,I;return r().createElement(s.TextInput,te(ee({},a),{labelText:C,invalid:!!(null===(P=E.visitAttributes)||void 0===P?void 0:P[u]),invalidText:null===(I=E.visitAttributes)||void 0===I||null===(j=I[u])||void 0===j?void 0:j.message}))}}),[u,g,A,v,h,C,b,_,y,a,E.visitAttributes]);return v?r().createElement("div",{className:X.visitAttributeField},r().createElement(s.TextInputSkeleton,null)):_?null:r().createElement("div",{className:X.visitAttributeField},w)};const ne=function(e){var t=e.setErrorFetchingResources,i=(0,p.useConfig)().visitAttributeTypes,n=(0,c.Gc)().control;return(null==i?void 0:i.length)?r().createElement(r().Fragment,null,i.map((function(e,i){return r().createElement(c.Qr,{name:"visitAttributes.".concat(e.uuid),control:n,render:function(n){var a=n.field;return r().createElement(ie,{key:i,attributeType:e,setErrorFetchingResources:t,fieldProps:a})}})}))):null};function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function ae(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,a=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e){var t=e.children;return e.isTablet?r().createElement(s.Layer,null,t," "):r().createElement(r().Fragment,null,t)}const le=function(e){var t,i=e.patientUuid,a=e.closeWorkspace,v=e.promptBeforeClosing,_=(0,l.useTranslation)().t,f="tablet"===(0,p.useLayoutType)(),g=(0,p.useSession)(),h=q().error,y=null==g?void 0:g.sessionLocation,b=(0,p.useConfig)(),C=oe((0,n.useState)(b.showRecommendedVisitTypeTab?0:1),2),E=C[0],w=C[1],T=oe((0,n.useState)(!1),2),D=T[0],S=T[1],k=(0,n.useMemo)((function(){return{patientUuid:i}}),[i]),B=(0,A.useActivePatientEnrollment)(i),O=B.activePatientEnrollment,x=B.isLoading,F=(0,p.useVisitTypes)(),P=(0,p.useVisit)(i).mutate,j=oe((0,n.useState)(!0),2),I=j[0],L=j[1],R=oe((0,n.useState)(null),2),M=R[0],Z=R[1],U=oe((0,n.useState)(null),2),W=U[0],Y=U[1],J=(0,n.useMemo)((function(){return{patientUuid:i,setUpcomingAppointment:Y}}),[i]),Q=b.visitQueueNumberAttributeUuid,X=(0,n.useMemo)((function(){var e,t,i=null===(e=null!==(t=b.visitAttributeTypes)&&void 0!==t?t:[])||void 0===e?void 0:e.reduce((function(e,t){var i,n,r=t.uuid,a=t.required;return i=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){ae(e,t,i[t])}))}return e}({},e),n=null!=(n=ae({},r,a?d.z.string({required_error:_("fieldRequired","This field is required")}).refine((function(e){return!!e}),_("fieldRequired","This field is required")):d.z.string().optional()))?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):function(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i.push.apply(i,n)}return i}(Object(n)).forEach((function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(n,e))})),i}),{});return d.z.object({visitDate:d.z.date(),visitTime:d.z.string(),timeFormat:d.z.enum(["PM","AM"]),programType:d.z.string().optional(),visitType:d.z.string().refine((function(e){return!!e}),_("visitTypeRequired","Visit type is required")),visitLocation:d.z.object({display:d.z.string(),uuid:d.z.string()}),visitAttributes:d.z.object(i)})}),[_,b]),K=(0,c.cI)({mode:"all",resolver:(0,m.F)(X),defaultValues:{visitDate:new Date,visitTime:o()(new Date).format("hh:mm"),timeFormat:(new Date).getHours()>=12?"PM":"AM",visitLocation:y||{},visitAttributes:{}}}),$=K.handleSubmit,ee=K.control,te=K.getValues,ie=K.formState.errors,re=(0,n.useCallback)((function(e,t){var n=e.timeFormat,r=e.visitDate,s=e.visitLocation,l=e.visitTime,c=e.visitType,d=e.visitAttributes;S(!0);var m=oe((0,A.convertTime12to24)(l,n),2),v=m[0],f=m[1],g={patient:i,startDatetime:(0,p.toDateObjectStrict)((0,p.toOmrsIsoString)(new Date(o()(r).year(),o()(r).month(),o()(r).date(),v,f))),visitType:c,location:null==s?void 0:s.uuid,attributes:Object.entries(d).filter((function(e){var t=oe(e,2);return t[0],!!t[1]})).map((function(e){var t=oe(e,2);return{attributeType:t[0],value:t[1]}}))},h=new AbortController;(0,p.saveVisit)(g,h).pipe((0,u.P)()).subscribe((function(e){if(201===e.status){var n,l,c;if(b.showServiceQueueFields){var u,d,m,A,v,f=null==t||null===(u=t.target.queueLocation)||void 0===u?void 0:u.value,g=null==t||null===(d=t.target.service)||void 0===d?void 0:d.value,y=null==t||null===(m=t.target.priority)||void 0===m?void 0:m.value,C=null==t||null===(A=t.target.status)||void 0===A?void 0:A.value,E=null==t||null===(v=t.target.sortWeight)||void 0===v?void 0:v.value;(0,z.Aq)(e.data.uuid,g,i,y,C,E,new AbortController,f,Q).then((function(e){201===e.status&&(P(),(0,p.showToast)({kind:"success",title:_("visitStarted","Visit started"),description:_("queueAddedSuccessfully","Patient added to the queue successfully.")}))}),(function(e){(0,p.showNotification)({title:_("queueEntryError","Error adding patient to the queue"),kind:"error",critical:!0,description:null==e?void 0:e.message})}))}b.showUpcomingAppointments&&W&&function(e,t){return(0,p.openmrsFetch)("/ws/rest/v1/appointment",{method:"POST",signal:t.signal,headers:{"Content-Type":"application/json"},body:e})}({appointmentKind:null==W?void 0:W.appointmentKind,serviceUuid:null==W?void 0:W.service.uuid,startDateTime:null==W?void 0:W.startDateTime,endDateTime:null==W?void 0:W.endDateTime,locationUuid:null==s?void 0:s.uuid,patientUuid:i,uuid:null==W?void 0:W.uuid,dateHonored:o()(r).format()},h).then((function(e){201===e.status&&(P(),(0,p.showToast)({critical:!0,kind:"success",description:_("appointmentUpdate","Upcoming appointment updated successfully"),title:_("appointmentEdited","Appointment edited")}))}),(function(e){(0,p.showNotification)({title:_("updateError","Error updating upcoming appointment"),kind:"error",critical:!0,description:null==e?void 0:e.message})})),P(),a(),(0,p.showToast)({critical:!0,kind:"success",description:_("visitStartedSuccessfully","{visit} started successfully",{visit:null!==(c=null==e||null===(l=e.data)||void 0===l||null===(n=l.visitType)||void 0===n?void 0:n.display)&&void 0!==c?c:"Visit"}),title:_("visitStarted","Visit started")})}}),(function(e){(0,p.showNotification)({title:_("startVisitError","Error starting visit"),kind:"error",critical:!0,description:null==e?void 0:e.message})}))}),[a,b.showServiceQueueFields,b.showUpcomingAppointments,Q,P,i,W,_]);return(0,n.useEffect)((function(){h&&Z((function(e){return{blockSavingForm:(null==e?void 0:e.blockSavingForm)||!1}}))}),[h]),r().createElement(c.RV,K,r().createElement(s.Form,{className:V.form,onChange:function(){L((function(e){return!e})),v((function(){return!0}))},onSubmit:$(re)},M&&r().createElement(s.InlineNotification,{kind:(null==M?void 0:M.blockSavingForm)?"error":"warning",lowContrast:!0,className:V.inlineNotification,title:_("partOfFormDidntLoad","Part of the form did not load"),subtitle:_("refreshToTryAgain","Please refresh to try again")}),r().createElement("div",null,f&&r().createElement(s.Row,{className:V.headerGridRow},r().createElement(p.ExtensionSlot,{name:"visit-form-header-slot",className:V.dataGridRow,state:k})),r().createElement(s.Stack,{gap:1,className:V.container},r().createElement("section",null,r().createElement("div",{className:V.sectionTitle},_("dateAndTimeOfVisit","Date and time of visit")),r().createElement("div",{className:"".concat(V.dateTimeSection," ").concat(V.sectionField)},r().createElement(c.Qr,{name:"visitDate",control:ee,render:function(e){var t=e.field,i=(t.onBlur,t.onChange),n=t.value;return r().createElement(se,{isTablet:f},r().createElement(s.DatePicker,{dateFormat:"d/m/Y",datePickerType:"single",id:"visitDate",style:{paddingBottom:"1rem"},maxDate:(new Date).toISOString(),onChange:function(e){var t=oe(e,1)[0];return i(t)},value:n},r().createElement(s.DatePickerInput,{id:"visitStartDateInput",labelText:_("date","Date"),placeholder:"dd/mm/yyyy",style:{width:"100%"}})))}}),r().createElement(se,{isTablet:f},r().createElement(c.Qr,{name:"visitTime",control:ee,render:function(e){var t=e.field,i=t.onBlur,n=t.onChange,a=t.value;return r().createElement(s.TimePicker,{id:"visitStartTime",labelText:_("time","Time"),onChange:function(e){return n(e.target.value)},pattern:"^(1[0-2]|0?[1-9]):([0-5]?[0-9])$",style:{marginLeft:"0.125rem",flex:"none"},value:a,onBlur:i},r().createElement(c.Qr,{name:"timeFormat",control:ee,render:function(e){var t=e.field,i=t.onChange,n=t.value;return r().createElement(s.TimePickerSelect,{id:"visitStartTimeSelect",onChange:function(e){return i(e.target.value)},value:n,"aria-label":_("timeFormat ","Time Format")},r().createElement(s.SelectItem,{value:"AM",text:"AM"}),r().createElement(s.SelectItem,{value:"PM",text:"PM"}))}}))}})))),b.showUpcomingAppointments&&r().createElement("section",null,r().createElement("div",{className:V.sectionTitle}),r().createElement("div",{className:V.sectionField},r().createElement(p.ExtensionSlot,{state:J,name:"upcoming-appointment-slot"}))),r().createElement(H,null),b.showRecommendedVisitTypeTab&&r().createElement("section",null,r().createElement("div",{className:V.sectionTitle},_("program","Program")),r().createElement(s.FormGroup,{legendText:_("selectProgramType","Select program type"),className:V.sectionField},r().createElement(c.Qr,{name:"programType",control:ee,render:function(e){var t=e.field.onChange;return r().createElement(s.RadioButtonGroup,{orientation:"vertical",onChange:function(e){var i;return t(null===(i=O.find((function(t){return t.program.uuid===e})))||void 0===i?void 0:i.uuid)},name:"program-type-radio-group"},O.map((function(e){var t=e.uuid,i=e.display,n=e.program;return r().createElement(s.RadioButton,{key:t,className:V.radioButton,id:t,labelText:i,value:n.uuid})})))}}))),r().createElement("section",null,r().createElement("div",{className:V.sectionTitle},_("visitType_title","Visit Type")),r().createElement("div",{className:V.sectionField},b.showRecommendedVisitTypeTab?r().createElement(r().Fragment,null,r().createElement(s.ContentSwitcher,{selectedIndex:E,onChange:function(e){var t=e.index;return w(t)}},r().createElement(s.Switch,{name:"recommended",text:_("recommended","Recommended")}),r().createElement(s.Switch,{name:"all",text:_("all","All")})),0===E&&!x&&r().createElement(G,{patientUuid:i,patientProgramEnrollment:null==O?void 0:O.find((function(e){return e.program.uuid===te("programType")})),locationUuid:null===(t=te("visitLocation"))||void 0===t?void 0:t.uuid}),1===E&&r().createElement(N,{visitTypes:F})):r().createElement(N,{visitTypes:F}))),(null==ie?void 0:ie.visitType)&&r().createElement("section",null,r().createElement("div",{className:V.sectionTitle}),r().createElement("div",{className:V.sectionField},r().createElement(s.InlineNotification,{role:"alert",style:{margin:"0",minWidth:"100%"},kind:"error",lowContrast:!0,title:_("missingVisitType","Missing visit type"),subtitle:_("selectVisitType","Please select a Visit Type")}))),r().createElement("section",null,r().createElement("div",{className:V.sectionTitle},f&&_("visitAttributes","Visit attributes")),r().createElement("div",{className:V.sectionField},r().createElement(ne,{setErrorFetchingResources:Z}))),b.showServiceQueueFields&&r().createElement("section",null,r().createElement("div",{className:V.sectionTitle}),r().createElement("div",{className:V.sectionField},r().createElement(p.ExtensionSlot,{name:"add-queue-entry-slot"}))))),r().createElement(s.ButtonSet,{className:f?V.tablet:V.desktop},r().createElement(s.Button,{className:V.button,kind:"secondary",onClick:function(){return a(I)}},_("discard","Discard")),r().createElement(s.Button,{className:V.button,disabled:D||(null==M?void 0:M.blockSavingForm),kind:"primary",type:"submit"},_("startVisit","Start visit")))))}}}]);