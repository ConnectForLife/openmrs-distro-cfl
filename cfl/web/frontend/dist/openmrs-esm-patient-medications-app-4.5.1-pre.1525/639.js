"use strict";(globalThis.webpackChunk_openmrs_esm_patient_medications_app=globalThis.webpackChunk_openmrs_esm_patient_medications_app||[]).push([[639],{6639:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var a=r(268),n=r.n(a),i=r(6027),o=r(4924),l=r(305),s=r(906),u=r(6217),c=r(5130),d=r(4339),p=r(4600);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function h(e){var t,r,i,h,f=e.patientUuid,y=(0,o.useTranslation)().t,v=((0,s.useConfig)(),(0,p.J)(f).launchOrderBasket),g=(0,d.Xm)(f,"any"),E=g.data,T=g.error,w=g.isLoading,b=g.isValidating,M=(i=(0,a.useMemo)((function(){var e=new Date,t=[],r=[];if(E)for(var a=0;a<E.length;a++){var n=E[a];n.autoExpireDate&&(0,s.parseDate)(n.autoExpireDate)<e||n.dateStopped&&(0,s.parseDate)(n.dateStopped)<e?t.push(n):r.push(n)}return[t,r]}),[E]),h=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(a=r.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){l=!0,n=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw n}}return i}}(i,h)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(i,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),S=M[0],A=M[1];return n().createElement(n().Fragment,null,n().createElement("div",{style:{marginBottom:"1.5rem"}},(t=y("activeMedicationsDisplayText","Active medications"),r=y("activeMedicationsHeaderTitle","active medications"),w?n().createElement(l.gqd,{role:"progressbar"}):T?n().createElement(u.ErrorState,{error:T,headerTitle:r}):(null==A?void 0:A.length)?n().createElement(c.Z,{isValidating:b,title:y("activeMedicationsTableTitle","Active Medications"),medications:A,showDiscontinueButton:!0,showModifyButton:!0,showReorderButton:!1,showAddNewButton:!0,patientUuid:f}):n().createElement(u.EmptyState,{displayText:t,headerTitle:r,launchForm:v}))),n().createElement("div",{style:{marginTop:"1.5rem"}},function(){var e=y("pastMedicationsDisplayText","Past medications"),t=y("pastMedicationsHeaderTitle","past medications");return w?n().createElement(l.gqd,{role:"progressbar"}):T?n().createElement(u.ErrorState,{error:T,headerTitle:t}):(null==S?void 0:S.length)?n().createElement(c.Z,{isValidating:b,title:y("pastMedicationsTableTitle","Past Medications"),medications:S,showDiscontinueButton:!0,showModifyButton:!0,showReorderButton:!0,showAddNewButton:!0,patientUuid:f}):n().createElement(u.EmptyState,{displayText:e,headerTitle:t})}()))}var f=r(7622);function y(e){var t=e.patientUuid;return n().createElement("div",null,n().createElement(i.z,{store:f.wM},n().createElement(h,{patientUuid:t})))}}}]);