"use strict";(globalThis.webpackChunk_openmrs_esm_patient_medications_app=globalThis.webpackChunk_openmrs_esm_patient_medications_app||[]).push([[130],{2844:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(272),a=i.n(n),o=i(2609),s=i.n(o)()(a());s.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-medications__medications-details-table__productiveHeading01___DD_rP{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);margin-bottom:.5rem}.-esm-patient-medications__medications-details-table__productiveHeading02___JRFih{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-bottom:1rem}.-esm-patient-medications__medications-details-table__productiveHeading03___BH04H{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin-bottom:1rem}.-esm-patient-medications__medications-details-table__productiveHeading04___LyqJI{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0);margin-bottom:1rem}.-esm-patient-medications__medications-details-table__productiveHeading05___ZcxCX{font-size:var(--cds-heading-05-font-size, 2rem);font-weight:var(--cds-heading-05-font-weight, 400);line-height:var(--cds-heading-05-line-height, 1.25);letter-spacing:var(--cds-heading-05-letter-spacing, 0);margin-bottom:1rem}.-esm-patient-medications__medications-details-table__productiveHeading06___g0AxB{font-size:var(--cds-heading-06-font-size, 2.625rem);font-weight:var(--cds-heading-06-font-weight, 300);line-height:var(--cds-heading-06-line-height, 1.199);letter-spacing:var(--cds-heading-06-letter-spacing, 0);margin-bottom:1.5rem}.-esm-patient-medications__medications-details-table__bodyShort01___JsZca{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-patient-medications__medications-details-table__bodyShort02___Yj9MM{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-patient-medications__medications-details-table__bodyLong01___q5zGR{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-patient-medications__medications-details-table__bodyLong02___oSq2l{font-size:var(--cds-body-02-font-size, 1rem);font-weight:var(--cds-body-02-font-weight, 400);line-height:var(--cds-body-02-line-height, 1.5);letter-spacing:var(--cds-body-02-letter-spacing, 0)}.-esm-patient-medications__medications-details-table__label01___qrefj{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-medications__medications-details-table__caption01___iDA44{font-size:var(--cds-legal-01-font-size, 0.75rem);font-weight:var(--cds-legal-01-font-weight, 400);line-height:var(--cds-legal-01-line-height, 1.33333);letter-spacing:var(--cds-legal-01-letter-spacing, 0.32px)}.-esm-patient-medications__medications-details-table__clipTextWithEllipsis___ecJ9M{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.-esm-patient-medications__medications-details-table__text02___EI4u3{color:#525252}.-esm-patient-medications__medications-details-table__widgetCard___i3bGs{border:1px solid #e0e0e0}.-esm-patient-medications__medications-details-table__row___MR6Of span{margin:auto}.-esm-patient-medications__medications-details-table__row___MR6Of p{padding:.25rem 0}.-esm-patient-medications__medications-details-table__medicationRecord___Sjqwe{display:flex;flex-direction:column;justify-content:space-between}.-esm-patient-medications__medications-details-table__startDateColumn___RH45r{height:100%;display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;padding:.25rem 0}.-esm-patient-medications__medications-details-table__startDateColumn___RH45r span{margin:0rem}.-esm-patient-medications__medications-details-table__dosage___BchzL{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-patient-medications__medications-details-table__tooltip___KwUk4{margin:0rem -0.5rem -0.625rem}.-esm-patient-medications__medications-details-table__tooltip___KwUk4 svg{fill:#000}.-esm-patient-medications__medications-details-table__menuItem___XpyXm{max-width:none}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./src/components/medications-details-table.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,kFCs0BI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CDp0BF,mBEeW,CFZb,kFCi0BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CD/zBF,kBEoBW,CFjBb,kFC4zBI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CD1zBF,kBEeW,CFZb,kFCuzBI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CDrzBF,kBEUW,CFPb,kFCkzBI,+CAAA,CAAA,kDAAA,CAAA,mDAAA,CAAA,sDAAA,CDhzBF,kBEKW,CFFb,kFC6yBI,mDAAA,CAAA,kDAAA,CAAA,oDAAA,CAAA,sDAAA,CD3yBF,oBEKW,CFFb,0ECwyBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDpyBJ,0ECoyBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDhyBJ,yECgyBI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD5xBJ,yEC4xBI,4CAAA,CAAA,+CAAA,CAAA,+CAAA,CAAA,mDAAA,CDxxBJ,sECwxBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDpxBJ,wECoxBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDhxBJ,mFACE,sBAAA,CACA,eAAA,CACA,kBAAA,CAGF,qEACE,aD5DQ,CIDV,yEACE,wBAAA,CAIA,uEACE,WAAA,CAGF,oEACE,gBAAA,CAIJ,+EACE,YAAA,CACA,qBAAA,CACA,6BAAA,CAGF,8EACE,WAAA,CACA,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,6BAAA,CACA,gBAAA,CAEA,mFACE,WAAA,CAIJ,qEFqyBI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CEjyBJ,sEACE,6BAAA,CACA,0EACE,SAAA,CAKJ,uEACE,cAAA",sourceRoot:""}]),s.locals={productiveHeading01:"-esm-patient-medications__medications-details-table__productiveHeading01___DD_rP",productiveHeading02:"-esm-patient-medications__medications-details-table__productiveHeading02___JRFih",productiveHeading03:"-esm-patient-medications__medications-details-table__productiveHeading03___BH04H",productiveHeading04:"-esm-patient-medications__medications-details-table__productiveHeading04___LyqJI",productiveHeading05:"-esm-patient-medications__medications-details-table__productiveHeading05___ZcxCX",productiveHeading06:"-esm-patient-medications__medications-details-table__productiveHeading06___g0AxB",bodyShort01:"-esm-patient-medications__medications-details-table__bodyShort01___JsZca",bodyShort02:"-esm-patient-medications__medications-details-table__bodyShort02___Yj9MM",bodyLong01:"-esm-patient-medications__medications-details-table__bodyLong01___q5zGR",bodyLong02:"-esm-patient-medications__medications-details-table__bodyLong02___oSq2l",label01:"-esm-patient-medications__medications-details-table__label01___qrefj",caption01:"-esm-patient-medications__medications-details-table__caption01___iDA44",clipTextWithEllipsis:"-esm-patient-medications__medications-details-table__clipTextWithEllipsis___ecJ9M",text02:"-esm-patient-medications__medications-details-table__text02___EI4u3",widgetCard:"-esm-patient-medications__medications-details-table__widgetCard___i3bGs",row:"-esm-patient-medications__medications-details-table__row___MR6Of",medicationRecord:"-esm-patient-medications__medications-details-table__medicationRecord___Sjqwe",startDateColumn:"-esm-patient-medications__medications-details-table__startDateColumn___RH45r",dosage:"-esm-patient-medications__medications-details-table__dosage___BchzL",tooltip:"-esm-patient-medications__medications-details-table__tooltip___KwUk4",menuItem:"-esm-patient-medications__medications-details-table__menuItem___XpyXm"};const r=s},4339:(e,t,i)=>{i.d(t,{P4:()=>c,Xm:()=>l,bi:()=>m,mv:()=>u,qs:()=>A});var n=i(3255),a=i(2303),o=i(906),s=i(268),r=i(6217);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function l(e,t){var i=(0,o.useConfig)(),a=i.careSettingUuid,r=i.drugOrderTypeUUID,d="/ws/rest/v1/order?patient=".concat(e,"&careSetting=").concat(a,"&status=").concat(t,"&orderType=").concat(r,"&v=").concat("custom:(uuid,dosingType,orderNumber,accessionNumber,patient:ref,action,careSetting:ref,previousOrder:ref,dateActivated,scheduledDate,dateStopped,autoExpireDate,orderType:ref,encounter:ref,orderer:(uuid,display,person:(display)),orderReason,orderReasonNonCoded,orderType,urgency,instructions,commentToFulfiller,drug:(uuid,display,strength,dosageForm:(display,uuid),concept),dose,doseUnits:ref,frequency:ref,asNeeded,asNeededCondition,quantity,quantityUnits:ref,numRefills,dosingInstructions,duration,durationUnits:ref,route:ref,brandName,dispenseAsWritten)"),l=(0,n.ZP)(e?d:null,o.openmrsFetch),c=l.data,u=l.error,m=l.isLoading,A=l.isValidating,p=l.mutate,_=(0,s.useMemo)((function(){var e,t;return(null==c||null===(e=c.data)||void 0===e?void 0:e.results)?null===(t=c.data.results.filter((function(e){return"Drug Order"===e.orderType.display})))||void 0===t?void 0:t.sort((function(e,t){return t.dateActivated>e.dateActivated?1:-1})):null}),[c]);return{data:c?_:null,error:u,isLoading:m,isValidating:A,mutateOrders:p}}function c(e,t,i,n,a){var s={patient:e,location:n,encounterType:t,encounterDatetime:(new Date).toISOString(),visit:i,obs:[]};return(0,o.openmrsFetch)("/ws/rest/v1/encounter",{headers:{"Content-Type":"application/json"},method:"POST",body:s,signal:null==a?void 0:a.signal}).then((function(e){var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.uuid}))}function u(e,t){return(0,o.openmrsFetch)("/ws/rest/v1/order",{method:"POST",signal:null==t?void 0:t.signal,headers:{"Content-Type":"application/json"},body:e})}function m(){var e,t=(0,a.Z)("/ws/rest/v1/systemsetting/visits.enabled?v=custom:(value)",o.openmrsFetch),i=t.data,n=t.isLoading,r=t.error,d=(0,s.useMemo)((function(){var t;return{systemVisitEnabled:"true"===(null!==(e=null==i||null===(t=i.data)||void 0===t?void 0:t.value)&&void 0!==e?e:"true").toLowerCase(),errorFetchingSystemVisitSetting:r,isLoadingSystemVisitSetting:n}}),[i,n,r]);return d}function A(e){var t,i,a=m(),l=a.systemVisitEnabled,c=a.isLoadingSystemVisitSetting,u=a.errorFetchingSystemVisitSetting,A=(t=(new Date).toISOString().split("T"),i=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,o=[],s=!0,r=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){r=!0,a=e}finally{try{s||null==i.return||i.return()}finally{if(r)throw a}}return o}}(t,i)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],p=(0,n.ZP)(c||l||!e?null:"/ws/rest/v1/encounter?patient=".concat(e,"&fromdate=").concat(A,"&limit=1"),o.openmrsFetch),_=(0,r.useVisitOrOfflineVisit)(e),g=(0,s.useMemo)((function(){var e,t,i,n,a,o,s;return c||u?{activeVisitRequired:!1,isLoading:c,error:u,encounterUuid:null,mutate:function(){}}:l?{activeVisitRequired:!0,isLoading:null==_?void 0:_.isLoading,encounterUuid:null==_||null===(e=_.currentVisit)||void 0===e||null===(t=e.encounters)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.uuid,error:null==_?void 0:_.error,mutate:null==_?void 0:_.mutate}:{activeVisitRequired:!1,isLoading:null==p?void 0:p.isLoading,encounterUuid:null==p||null===(n=p.data)||void 0===n||null===(a=n.data)||void 0===a||null===(o=a.results)||void 0===o||null===(s=o[0])||void 0===s?void 0:s.uuid,error:null==p?void 0:p.error,mutate:null==p?void 0:p.mutate}}),[c,u,_,p,l]);return g}},5130:(e,t,i)=>{i.d(t,{Z:()=>z});var n=i(268),a=i.n(n),o=i(3565),s=i.n(o),r=i(3315),d=i(305),l=i(6759),c=i(5508),u=i(906),m=i(6217),A=i(4924);function p(e,t){return null==e&&null==t?0:null==e?-1:null==t?1:e<t?-1:e>t?1:0}var _=i(6027),g=i(7622),v=i(1354),y=i.n(v),f=i(1583),b=i.n(f),C=i(7378),h=i.n(C),D=i(5993),w=i.n(D),E=i(4154),B=i.n(E),I=i(8141),S=i.n(I),F=i(2844),x={};x.styleTagTransform=S(),x.setAttributes=w(),x.insert=h().bind(null,"head"),x.domAPI=b(),x.insertStyleElement=B(),y()(F.Z,x);const k=F.Z&&F.Z.locals?F.Z.locals:void 0;var T=i(4600);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function U(){return U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},U.apply(this,arguments)}function q(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e){var t=e.orderer;return a().createElement(d.hU,{className:k.tooltip,align:"top-left",direction:"top",label:t,renderIcon:function(e){return a().createElement(c.n5,U({size:16},e))},iconDescription:t,kind:"ghost",size:"sm"})}function R(e){var t=e.showDiscontinueButton,i=e.showModifyButton,o=e.showReorderButton,s=e.medication,r=e.items,l=e.setItems,c=e.openOrderBasket,u=(0,A.useTranslation)().t,m=r.some((function(e){return e.uuid===s.uuid})),p=(0,n.useCallback)((function(){var e,t,i,n,a,o,d,u;l(q(r).concat([{uuid:s.uuid,previousOrder:null,action:"DISCONTINUE",drug:s.drug,dosage:s.dose,unit:{value:null===(e=s.doseUnits)||void 0===e?void 0:e.display,valueCoded:null===(t=s.doseUnits)||void 0===t?void 0:t.uuid},frequency:{valueCoded:null===(i=s.frequency)||void 0===i?void 0:i.uuid,value:s.frequency.display},route:{valueCoded:null===(n=s.route)||void 0===n?void 0:n.uuid,value:null===(a=s.route)||void 0===a?void 0:a.display},commonMedicationName:null===(o=s.drug)||void 0===o?void 0:o.display,isFreeTextDosage:"org.openmrs.FreeTextDosingInstructions"===s.dosingType,freeTextDosage:"org.openmrs.FreeTextDosingInstructions"===s.dosingType?s.dosingInstructions:"",patientInstructions:"org.openmrs.FreeTextDosingInstructions"!==s.dosingType?s.dosingInstructions:"",asNeeded:s.asNeeded,asNeededCondition:s.asNeededCondition,startDate:s.dateActivated,duration:s.duration,durationUnit:{valueCoded:null===(d=s.durationUnits)||void 0===d?void 0:d.uuid,value:null===(u=s.durationUnits)||void 0===u?void 0:u.display},pillsDispensed:s.quantity,numRefills:s.numRefills,indication:s.orderReasonNonCoded,orderer:s.orderer.uuid,careSetting:s.careSetting.uuid,quantityUnits:{value:s.quantityUnits.display,valueCoded:s.quantityUnits.uuid}}])),c()}),[r,l,s,c]),_=(0,n.useCallback)((function(){var e,t,i,n,a,o,d,u,m,A,p,_,g;l(q(r).concat([{uuid:s.uuid,previousOrder:s.uuid,startDate:new Date,action:"REVISE",drug:s.drug,dosage:s.dose,unit:{value:null===(e=s.doseUnits)||void 0===e?void 0:e.display,valueCoded:null===(t=s.doseUnits)||void 0===t?void 0:t.uuid},frequency:{valueCoded:null===(i=s.frequency)||void 0===i?void 0:i.uuid,value:null===(n=s.frequency)||void 0===n?void 0:n.display},route:{valueCoded:null===(a=s.route)||void 0===a?void 0:a.uuid,value:null===(o=s.route)||void 0===o?void 0:o.display},commonMedicationName:null===(d=s.drug)||void 0===d?void 0:d.display,isFreeTextDosage:"org.openmrs.FreeTextDosingInstructions"===s.dosingType,freeTextDosage:"org.openmrs.FreeTextDosingInstructions"===s.dosingType?s.dosingInstructions:"",patientInstructions:"org.openmrs.FreeTextDosingInstructions"!==s.dosingType?s.dosingInstructions:"",asNeeded:s.asNeeded,asNeededCondition:s.asNeededCondition,duration:s.duration,durationUnit:{valueCoded:null===(u=s.durationUnits)||void 0===u?void 0:u.uuid,value:null===(m=s.durationUnits)||void 0===m?void 0:m.display},pillsDispensed:s.quantity,numRefills:s.numRefills,indication:s.orderReasonNonCoded,orderer:null===(A=s.orderer)||void 0===A?void 0:A.uuid,careSetting:null===(p=s.careSetting)||void 0===p?void 0:p.uuid,quantityUnits:{value:null===(_=s.quantityUnits)||void 0===_?void 0:_.display,valueCoded:null===(g=s.quantityUnits)||void 0===g?void 0:g.uuid}}])),c()}),[r,l,s,c]),g=(0,n.useCallback)((function(){var e,t,i,n,a,o,d,u,m,A,p,_,g;l(q(r).concat([{uuid:s.uuid,previousOrder:null,startDate:new Date,action:"RENEWED",drug:s.drug,dosage:s.dose,unit:{value:null===(e=s.doseUnits)||void 0===e?void 0:e.display,valueCoded:null===(t=s.doseUnits)||void 0===t?void 0:t.uuid},frequency:{valueCoded:null===(i=s.frequency)||void 0===i?void 0:i.uuid,value:null===(n=s.frequency)||void 0===n?void 0:n.display},route:{valueCoded:null===(a=s.route)||void 0===a?void 0:a.uuid,value:null===(o=s.route)||void 0===o?void 0:o.display},commonMedicationName:null===(d=s.drug)||void 0===d?void 0:d.display,isFreeTextDosage:"org.openmrs.FreeTextDosingInstructions"===s.dosingType,freeTextDosage:"org.openmrs.FreeTextDosingInstructions"===s.dosingType?s.dosingInstructions:"",patientInstructions:"org.openmrs.FreeTextDosingInstructions"!==s.dosingType?s.dosingInstructions:"",asNeeded:s.asNeeded,asNeededCondition:s.asNeededCondition,duration:s.duration,durationUnit:{valueCoded:null===(u=s.durationUnits)||void 0===u?void 0:u.uuid,value:null===(m=s.durationUnits)||void 0===m?void 0:m.display},pillsDispensed:s.quantity,numRefills:s.numRefills,indication:s.orderReasonNonCoded,orderer:null===(A=s.orderer)||void 0===A?void 0:A.uuid,careSetting:null===(p=s.careSetting)||void 0===p?void 0:p.uuid,quantityUnits:{value:null===(_=s.quantityUnits)||void 0===_?void 0:_.display,valueCoded:null===(g=s.quantityUnits)||void 0===g?void 0:g.uuid}}])),c()}),[r,l,s,c]);return a().createElement(d.PQB,{ariaLabel:"Actions menu",selectorPrimaryFocus:"#modify",flipped:!0},i&&a().createElement(d.laM,{className:k.menuItem,id:"modify",itemText:u("modify","Modify"),onClick:_,disabled:m}),o&&a().createElement(d.laM,{className:k.menuItem,id:"reorder",itemText:u("reorder","Reorder"),onClick:g,disabled:m}),t&&a().createElement(d.laM,{className:k.menuItem,id:"discontinue",itemText:u("discontinue","Discontinue"),onClick:p,disabled:m,isDelete:!0,hasDivider:!0}))}const z=(0,_.$)("items",g.RT)((function(e){var t,i,n=e.isValidating,o=e.title,c=e.medications,_=e.showDiscontinueButton,v=e.showModifyButton,y=e.showReorderButton,f=e.showAddNewButton,b=e.items,C=e.setItems,h=e.patientUuid,D=(0,A.useTranslation)().t,w=(0,T.J)(h).launchOrderBasket,E=(0,g.xA)(b,h),B=[{key:"startDate",header:D("startDate","Start date"),isSortable:!0,isVisible:!0},{key:"details",header:D("details","Details"),isSortable:!0,isVisible:!0}],I=null==c?void 0:c.map((function(e,i){var n,o,d,l,c,m,A,p,_,g,v,y,f,b;return{id:"".concat(i),details:{sortKey:null===(n=e.drug)||void 0===n?void 0:n.display,content:a().createElement("div",{className:k.medicationRecord},a().createElement("div",null,a().createElement("p",{className:k.bodyLong01},a().createElement("strong",null,(0,r.Z)(null===(o=e.drug)||void 0===o?void 0:o.display))," ",(null===(d=e.drug)||void 0===d?void 0:d.strength)&&a().createElement(a().Fragment,null,"— ",null===(l=e.drug)||void 0===l?void 0:l.strength.toLowerCase())," ",(null===(c=e.drug)||void 0===c||null===(m=c.dosageForm)||void 0===m?void 0:m.display)&&a().createElement(a().Fragment,null,"— ",e.drug.dosageForm.display.toLowerCase())),a().createElement("p",{className:k.bodyLong01},a().createElement("span",{className:k.label01},D("dose","Dose").toUpperCase())," ",a().createElement("span",{className:k.dosage},e.dose," ",null===(A=e.doseUnits)||void 0===A?void 0:A.display.toLowerCase())," ",(null===(p=e.route)||void 0===p?void 0:p.display)&&a().createElement(a().Fragment,null,"— ",null===(_=e.route)||void 0===_?void 0:_.display.toLowerCase())," ",(null===(g=e.frequency)||void 0===g?void 0:g.display)&&a().createElement(a().Fragment,null,"— ",null===(v=e.frequency)||void 0===v?void 0:v.display.toLowerCase())," —"," ",e.duration?D("medicationDurationAndUnit","for {duration} {durationUnit}",{duration:e.duration,durationUnit:null===(y=e.durationUnits)||void 0===y?void 0:y.display.toLowerCase()}):D("medicationIndefiniteDuration","Indefinite duration").toLowerCase()," ",0!==e.numRefills&&a().createElement("span",null,a().createElement("span",{className:k.label01}," — ",D("refills","Refills").toUpperCase())," ",e.numRefills),e.dosingInstructions&&a().createElement("span",null," — ",e.dosingInstructions.toLocaleLowerCase()))),a().createElement("p",{className:k.bodyLong01},e.orderReasonNonCoded?a().createElement("span",null,a().createElement("span",{className:k.label01},D("indication","Indication").toUpperCase())," ",e.orderReasonNonCoded):null,e.quantity?a().createElement("span",null,a().createElement("span",{className:k.label01}," — ",D("quantity","Quantity").toUpperCase())," ",e.quantity," ",e.quantityUnits.display):null,e.dateStopped?a().createElement("span",null,a().createElement("span",{className:k.label01}," — ",D("endDate","End date").toUpperCase())," ",(0,u.formatDate)(new Date(e.dateStopped))):null))},startDate:{sortKey:s()(e.dateActivated).toDate(),content:a().createElement("div",{className:k.startDateColumn},a().createElement("p",null,(0,u.formatDate)(new Date(e.dateActivated))),a().createElement(N,{orderer:null!==(t=null===(f=e.orderer)||void 0===f||null===(b=f.person)||void 0===b?void 0:b.display)&&void 0!==t?t:"--"}))}}}));return a().createElement("div",{className:k.widgetCard},a().createElement(m.CardHeader,{title:o},n?a().createElement("span",null,a().createElement(d.lSo,null)):null,f&&a().createElement(d.zxk,{kind:"ghost",renderIcon:function(e){return a().createElement(l.mm,U({size:16},e))},iconDescription:"Launch order basket",onClick:w},D("add","Add"))),a().createElement(d.wQF,{"data-floating-menu-container":!0,size:"sm",headers:B,rows:I,isSortable:!0,sortRow:function(e,t,i){return i.sortDirection===i.sortStates.DESC?p(t.sortKey,e.sortKey):p(e.sortKey,t.sortKey)},overflowMenuOnHover:!1,useZebraStyles:!0},(function(e){var t=e.rows,n=e.headers,o=e.getTableProps,s=e.getHeaderProps,r=e.getRowProps;return a().createElement(d.xJi,null,a().createElement(d.iA_,U({},o()),a().createElement(d.ssF,null,a().createElement(d.SCH,null,n.map((function(e){return a().createElement(d.xDH,U({},s({header:e,isSortable:e.isSortable})),e.header)})),a().createElement(d.xDH,null))),a().createElement(d.RMI,null,t.map((function(e,t){return a().createElement(d.SCH,U({className:k.row},r({row:e})),e.cells.map((function(e){var t;return a().createElement(d.pj1,{className:k.tableCell,key:e.id},null!==(i=null===(t=e.value)||void 0===t?void 0:t.content)&&void 0!==i?i:e.value)})),a().createElement(d.pj1,{className:"cds--table-column-menu"},a().createElement(R,{showDiscontinueButton:_,showModifyButton:v,showReorderButton:y,medication:c[t],items:E,setItems:C,openOrderBasket:w})))})))))})))}))},7622:(e,t,i)=>{function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},a=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),a.forEach((function(t){n(e,t,i[t])}))}return e}i.d(t,{RT:()=>s,wM:()=>o,xA:()=>r});var o=(0,i(906).createGlobalStore)("drug-order-basket",{items:{}}),s={setItems:function(e,t){var i,o,s,r=(i=/\/patient\/([a-zA-Z0-9\-]+)\/?/.exec(location.pathname))&&i[1];return{items:(o=a({},e.items),s=n({},r,"function"==typeof t?t():t),s=null!=s?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):function(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i.push.apply(i,n)}return i}(Object(s)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(s,e))})),o)}}};function r(e,t){var i;return null!==(i=null==e?void 0:e[t])&&void 0!==i?i:[]}},4600:(e,t,i)=>{i.d(t,{J:()=>s});var n=i(6217),a=i(268),o=i(4339);function s(e){var t=(0,o.bi)().systemVisitEnabled,i=(0,n.useVisitOrOfflineVisit)(e).currentVisit;return(0,a.useMemo)((function(){return{launchOrderBasket:function(){!t||i?(0,n.launchPatientWorkspace)("order-basket-workspace"):(0,n.launchStartVisitPrompt)()}}}),[i,t])}}}]);