"use strict";(self.webpackChunk_openmrs_esm_generic_patient_widgets_app=self.webpackChunk_openmrs_esm_generic_patient_widgets_app||[]).push([[74],{4512:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(9601),i=n.n(r),a=n(2609),o=n.n(a)()(i());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{padding:0;border:0;margin:0;font:inherit;font-size:100%;vertical-align:baseline}button,select,input,textarea{border-radius:0;font-family:inherit}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:\"\"}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}code{font-family:'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-generic-patient-widgets__obs-graph__skeleton___SLtPw{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{opacity:.3;transform:scaleX(0);transform-origin:left}}.-esm-generic-patient-widgets__obs-graph__label01___Rtlz0,.-esm-generic-patient-widgets__obs-graph__conceptLabel___P7lyT{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.-esm-generic-patient-widgets__obs-graph__bodyShort01___U8mOZ{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.-esm-generic-patient-widgets__obs-graph__graphContainer___WoloY{border:1px solid #e0e0e0;display:flex;text-align:left;margin:0 .5rem;flex-direction:row;justify-content:space-between}.-esm-generic-patient-widgets__obs-graph__conceptPickerTabs___kmGuS{margin:.5rem 0;padding:0rem;width:8.938rem;border-right:.063rem solid #e0e0e0;padding-right:1rem;height:13.875rem;overflow:overlay}.-esm-generic-patient-widgets__obs-graph__lineChartContainer___ZQbrv{padding:.5rem 1rem;width:100%;height:17.875rem}.-esm-generic-patient-widgets__obs-graph__conceptLabel___P7lyT{color:#525252;width:7.063rem}.-esm-generic-patient-widgets__obs-graph__verticalTabs___xFueu{margin:1rem 0;scroll-behavior:smooth}.-esm-generic-patient-widgets__obs-graph__verticalTabs___xFueu>ul{flex-direction:column !important}.-esm-generic-patient-widgets__obs-graph__tab___d7svn:hover{border-bottom:none !important}.-esm-generic-patient-widgets__obs-graph__tab___d7svn>button:first{text-indent:5rem}.-esm-generic-patient-widgets__obs-graph__tab___d7svn>button,.-esm-generic-patient-widgets__obs-graph__tab___d7svn>button:focus,.-esm-generic-patient-widgets__obs-graph__tab___d7svn>button:active{outline:0 !important;outline-offset:0 !important}.-esm-generic-patient-widgets__obs-graph__selectedTab___Fwdgy>button{border-left:2px solid var(--brand-03) !important;border-bottom:0 !important;font-weight:600 !important}.-esm-generic-patient-widgets__obs-graph__tabContent___x0qbB{border-top:1px solid #e0e0e0;padding:1rem 0;width:10rem}.bx--tabs--scrollable .bx--tabs--scrollable__nav-item+.bx--tabs--scrollable__nav-item{margin-left:0rem}.bx--tabs--scrollable .bx--tabs--scrollable__nav-link{border-bottom:0 !important;border-left:2px solid #c6c6c6}",""]),o.locals={label01:"-esm-generic-patient-widgets__obs-graph__label01___Rtlz0",conceptLabel:"-esm-generic-patient-widgets__obs-graph__conceptLabel___P7lyT",bodyShort01:"-esm-generic-patient-widgets__obs-graph__bodyShort01___U8mOZ",graphContainer:"-esm-generic-patient-widgets__obs-graph__graphContainer___WoloY",conceptPickerTabs:"-esm-generic-patient-widgets__obs-graph__conceptPickerTabs___kmGuS",lineChartContainer:"-esm-generic-patient-widgets__obs-graph__lineChartContainer___ZQbrv",verticalTabs:"-esm-generic-patient-widgets__obs-graph__verticalTabs___xFueu",tab:"-esm-generic-patient-widgets__obs-graph__tab___d7svn",selectedTab:"-esm-generic-patient-widgets__obs-graph__selectedTab___Fwdgy",tabContent:"-esm-generic-patient-widgets__obs-graph__tabContent___x0qbB",skeleton:"-esm-generic-patient-widgets__obs-graph__skeleton___SLtPw"};const s=o},1897:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(9601),i=n.n(r),a=n(2609),o=n.n(a)()(i());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{padding:0;border:0;margin:0;font:inherit;font-size:100%;vertical-align:baseline}button,select,input,textarea{border-radius:0;font-family:inherit}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:\"\"}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}code{font-family:'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-generic-patient-widgets__obs-switchable__skeleton___lt4ZR{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{opacity:.3;transform:scaleX(0);transform-origin:left}}.-esm-generic-patient-widgets__obs-switchable__widgetContainer___ztUfg{background-color:#fff;border:1px solid #e0e0e0}.-esm-generic-patient-widgets__obs-switchable__headerContainer___psufP{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0 .75rem 1rem}.-esm-generic-patient-widgets__obs-switchable__divider___YEnUZ{width:1px;height:1rem;color:#e0e0e0;margin:0rem .5rem}.-esm-generic-patient-widgets__obs-switchable__toggleButtons___sBEHN{width:fit-content;margin:0 .5rem}.-esm-generic-patient-widgets__obs-switchable__toggle___chG5j{padding:.5rem;color:#0f62fe;min-height:0px}.-esm-generic-patient-widgets__obs-switchable__toggle___chG5j.bx--btn--tertiary{border-color:#0f62fe}.-esm-generic-patient-widgets__obs-switchable__toggle___chG5j.bx--tooltip__trigger:active:not([disabled]){border-color:#0f62fe}.-esm-generic-patient-widgets__obs-switchable__toggle___chG5j.bx--btn--tertiary:active{border-color:#0f62fe;background-color:#edf5ff;color:#edf5ff}.-esm-generic-patient-widgets__obs-switchable__toggle___chG5j.bx--btn--tertiary:focus{background-color:#0f62fe;color:#fff}.-esm-generic-patient-widgets__obs-switchable__toggle___chG5j.bx--btn--tertiary:hover{color:#fff;background-color:#0f62fe}.-esm-generic-patient-widgets__obs-switchable__toggle___chG5j.bx--btn--ghost{border-color:#a6c8ff}.-esm-generic-patient-widgets__obs-switchable__toggle___chG5j.bx--btn--ghost:hover{color:#000;background-color:#f4f4f4}.-esm-generic-patient-widgets__obs-switchable__toggle___chG5j:first-of-type{border-radius:.25rem 0 0 .25rem}.-esm-generic-patient-widgets__obs-switchable__toggle___chG5j:first-of-type.bx--btn--ghost{border-right:0}.-esm-generic-patient-widgets__obs-switchable__toggle___chG5j:last-of-type{border-radius:0 .25rem .25rem 0}.-esm-generic-patient-widgets__obs-switchable__toggle___chG5j:last-of-type.bx--btn--ghost{border-left:0rem}.-esm-generic-patient-widgets__obs-switchable__widgetContainer___ztUfg{background-color:#fff;position:relative}.-esm-generic-patient-widgets__obs-switchable__headerActionItems___FRLbk{align-items:center;display:flex;flex:1 1 0%;justify-content:end}.-esm-generic-patient-widgets__obs-switchable__backgroundDataFetchingIndicator___jRQFf{align-items:center;display:flex;flex:1 1 0%;justify-content:end}",""]),o.locals={widgetContainer:"-esm-generic-patient-widgets__obs-switchable__widgetContainer___ztUfg",headerContainer:"-esm-generic-patient-widgets__obs-switchable__headerContainer___psufP",divider:"-esm-generic-patient-widgets__obs-switchable__divider___YEnUZ",toggleButtons:"-esm-generic-patient-widgets__obs-switchable__toggleButtons___sBEHN",toggle:"-esm-generic-patient-widgets__obs-switchable__toggle___chG5j",headerActionItems:"-esm-generic-patient-widgets__obs-switchable__headerActionItems___FRLbk",backgroundDataFetchingIndicator:"-esm-generic-patient-widgets__obs-switchable__backgroundDataFetchingIndicator___jRQFf",skeleton:"-esm-generic-patient-widgets__obs-switchable__skeleton___lt4ZR"};const s=o},5136:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(9601),i=n.n(r),a=n(2609),o=n.n(a)()(i());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{padding:0;border:0;margin:0;font:inherit;font-size:100%;vertical-align:baseline}button,select,input,textarea{border-radius:0;font-family:inherit}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:\"\"}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}code{font-family:'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-generic-patient-widgets__obs-table__skeleton___awK5a{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{opacity:.3;transform:scaleX(0);transform-origin:left}}.-esm-generic-patient-widgets__obs-table__customRow___shH0M tbody{white-space:nowrap}.-esm-generic-patient-widgets__obs-table__tableHeader___R2Tva{width:max-content;max-width:300px}",""]),o.locals={customRow:"-esm-generic-patient-widgets__obs-table__customRow___shH0M",tableHeader:"-esm-generic-patient-widgets__obs-table__tableHeader___R2Tva",skeleton:"-esm-generic-patient-widgets__obs-table__skeleton___awK5a"};const s=o},8074:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ne});var r=n(9902),i=n.n(r),a=n(94),o=n(6491),s=n(321),l=n.n(s),c=n(1195),g=n.n(c),d=n(3275),_=n.n(d),m=n(7162),b=n.n(m),u=n(2094),f=n.n(u),p=n(757),h=n.n(p),y=n(1897),w={};w.styleTagTransform=h(),w.setAttributes=b(),w.insert=_().bind(null,"head"),w.domAPI=g(),w.insertStyleElement=f(),l()(y.Z,w);const v=y.Z&&y.Z.locals?y.Z.locals:void 0;var x=n(4512),k={};k.styleTagTransform=h(),k.setAttributes=b(),k.insert=_().bind(null,"head"),k.domAPI=g(),k.insertStyleElement=f(),l()(x.Z,k);const S=x.Z&&x.Z.locals?x.Z.locals:void 0;var j=n(4924),E=n(3950),T=n(7513),z=n(419),C=n(4891),P=(n(3802),n(3066)),Z=n(9857);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){var t,n,r,i=(0,P.useConfig)().data,a=(0,Z.ZP)("".concat(P.fhirBaseUrl,"/Observation?subject:Patient=").concat(e,"&code=")+i.map((function(e){return e.concept})).join(",")+"&_summary=data&_sort=-date"+"&_count=".concat(100,"\n  "),P.openmrsFetch),o=a.data,s=a.error,l=a.isValidating,c=null!==(r=null==o||null===(t=o.data)||void 0===t||null===(n=t.entry)||void 0===n?void 0:n.map((function(e){var t,n,r,i=(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O(e,t,n[t])}))}return e}({},e.resource),r=null!=(r={conceptUuid:null===(t=e.resource.code.coding.filter((function(e){return 36===e.code.length}))[0])||void 0===t?void 0:t.code})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})),n);return e.resource.hasOwnProperty("valueString")&&(i.dataType="Text"),e.resource.hasOwnProperty("valueQuantity")&&(i.dataType="Number"),e.resource.hasOwnProperty("valueCodeableConcept")&&(i.dataType="Coded"),i})))&&void 0!==r?r:[];return{data:c,error:s,isLoading:!o&&!s,isValidating:l}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const q=function(e){var t,n,a,o,s=e.patientUuid,l=(0,j.useTranslation)().t,c=(0,P.useConfig)(),g=A(s),d=g.data,_=(g.error,g.isLoading,g.isValidating,a=i().useState({label:null===(t=c.data[0])||void 0===t?void 0:t.label,uuid:null===(n=c.data[0])||void 0===n?void 0:n.concept}),o=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(a,o)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(a,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=_[0],b=_[1],u=(0,r.useMemo)((function(){return d.filter((function(e){return e.conceptUuid===m.uuid&&"Number"===e.dataType})).map((function(e){return{group:m.label,key:(0,P.formatDate)(new Date(e.issued),{year:!1,time:!1}),value:e.valueQuantity.value}}))}),[d,m.uuid,m.label]),f=Object.fromEntries(c.data.map((function(e){return[e.label,e.color]}))),p={axes:{bottom:{title:"Date",mapsTo:"key",scaleType:C.vY.LABELS},left:{mapsTo:"value",title:m.label,scaleType:C.vY.LINEAR,includeZero:!1}},legend:{enabled:!1},color:{scale:f}};return i().createElement("div",{className:S.graphContainer},i().createElement("div",{className:S.conceptPickerTabs,style:{flex:1}},i().createElement("label",{className:S.conceptLabel,htmlFor:"concept-tab-group"},l("displaying","Displaying")),i().createElement(E.ZP,{id:"concept-tab-group",className:S.verticalTabs,type:"default"},c.data.map((function(e,t){var n=e.concept,r=e.label;return i().createElement(T.Z,{key:t,className:"".concat(S.tab," ").concat(S.bodyLong01," ").concat(m.label===r&&S.selectedTab),onClick:function(){return b({label:r,uuid:n})},label:r})})))),i().createElement("div",{className:S.lineChartContainer,style:{flex:4}},i().createElement(z.LineChart,{data:u,options:p})))};var N=n(5136),X={};X.styleTagTransform=h(),X.setAttributes=b(),X.insert=_().bind(null,"head"),X.domAPI=g(),X.insertStyleElement=f(),l()(N.Z,X);const M=N.Z&&N.Z.locals?N.Z.locals:void 0;var U=n(160),B=n(9909),L=n(364),D=n(7500),F=n(8345),G=n(1358),R=n(2427),V=n(3783),H=n(3771);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(){return Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}function $(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const K=function(e){var t,n,r,a=e.patientUuid,o=(0,P.useConfig)(),s=A(a),l=s.data,c=(s.error,s.isLoading,s.isValidating,$(new Set(l.map((function(e){return e.issued})))).sort().map((function(e){return l.filter((function(t){return t.issued===e}))}))),g=[{key:"date",header:"Date and time",isSortable:!0}].concat($(o.data.map((function(e){return{key:e.concept,header:e.label}})))),d=i().useMemo((function(){return null==c?void 0:c.map((function(e,t){var n={id:"".concat(t),date:(0,P.formatDatetime)(new Date(e[0].issued),{mode:"wide"})},r=!0,i=!1,a=void 0;try{for(var s,l=function(e,t){var r=t.value;switch(r.dataType){case"Text":n[r.conceptUuid]=r.valueString;break;case"Number":var i,a,s,l,c,g=null===(i=o.data.find((function(e){return e.concept===r.conceptUuid})))||void 0===i?void 0:i.decimalPlaces;(null===(a=r.valueQuantity)||void 0===a?void 0:a.value)%1!=0?n[r.conceptUuid]=g>0?null===(s=r.valueQuantity)||void 0===s?void 0:s.value.toFixed(g):null===(l=r.valueQuantity)||void 0===l?void 0:l.value.toFixed(2):n[r.conceptUuid]=null===(c=r.valueQuantity)||void 0===c?void 0:c.value;break;case"Coded":var d,_;n[r.conceptUuid]=null===(_=null===(d=r.valueCodeableConcept)||void 0===d?void 0:d.coding[0])||void 0===_?void 0:_.display}},c=e[Symbol.iterator]();!(r=(s=c.next()).done);r=!0)l(0,s)}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}))}),[o.data,c]),_=(0,P.usePagination)(d,o.table.pageSize),m=_.results,b=_.goTo,u=_.currentPage;return i().createElement("div",null,i().createElement(U.Z,null,i().createElement(B.ZP,{rows:m,headers:g,isSortable:!0,size:"short"},(function(e){var a=e.rows,o=e.headers,s=e.getHeaderProps,l=e.getTableProps;return i().createElement(L.Z,Y({},l(),{useZebraStyles:!0,className:M.customRow}),i().createElement(D.Z,null,i().createElement(F.Z,null,o.map((function(e){var n;return i().createElement(G.Z,Y({className:"".concat(M.tableHeader)},s({header:e,isSortable:e.isSortable})),null!==(t=null===(n=e.header)||void 0===n?void 0:n.content)&&void 0!==t?t:e.header)})))),i().createElement(R.Z,null,a.map((function(e){return i().createElement(F.Z,{key:e.id},e.cells.map((function(e){var t;return i().createElement(V.Z,{key:e.id},null!==(r=null!==(n=null===(t=e.value)||void 0===t?void 0:t.content)&&void 0!==n?n:e.value)&&void 0!==r?r:"--")})))}))))}))),i().createElement(H.PatientChartPagination,{pageNumber:u,totalItems:d.length,currentItems:m.length,pageSize:o.table.pageSize,onPageNumberChange:function(e){var t=e.page;return b(t)}}))};var W=n(8580),J=n(182),ee=n(7030);function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ne=function(e){var t,n,r=e.patientUuid,s=(0,j.useTranslation)().t,l=(0,P.useConfig)(),c=(t=i().useState(),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=c[0],d=c[1],_=A(r),m=_.data,b=_.error,u=_.isLoading,f=_.isValidating,p=m.find((function(e){return"Number"===e.dataType}));return i().createElement(i().Fragment,null,u?i().createElement(W.Z,{role:"progressbar"}):b?i().createElement(H.ErrorState,{error:b,headerTitle:l.title}):(null==m?void 0:m.length)?i().createElement("div",{className:v.widgetContainer},i().createElement(H.CardHeader,{title:l.title},i().createElement("div",{className:v.backgroundDataFetchingIndicator},i().createElement("span",null,f?i().createElement(J.Z,null):null)),p?i().createElement("div",{className:v.headerActionItems},i().createElement("div",{className:v.toggleButtons},i().createElement(ee.Z,{className:v.toggle,size:"field",kind:g?"ghost":"tertiary",hasIconOnly:!0,renderIcon:o.Z,iconDescription:s("tableView","Table View"),onClick:function(){return d(!1)}}),i().createElement(ee.Z,{className:v.toggle,size:"field",kind:g?"tertiary":"ghost",hasIconOnly:!0,renderIcon:a.Z,iconDescription:s("chartView","Chart View"),onClick:function(){return d(!0)}}))):null),g?i().createElement(q,{patientUuid:r}):i().createElement(K,{patientUuid:r})):i().createElement(H.EmptyState,{displayText:l.resultsName,headerTitle:l.title}))}}}]);