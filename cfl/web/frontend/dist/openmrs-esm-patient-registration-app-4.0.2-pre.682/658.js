"use strict";(self.webpackChunk_openmrs_esm_patient_registration_app=self.webpackChunk_openmrs_esm_patient_registration_app||[]).push([[658],{5671:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(2609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__address-search__label01___UPnro{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-registration__address-search__suggestions___qAiUx{position:relative;border-top-width:0;list-style:none;margin-top:0;max-height:143px;overflow-y:auto;padding-left:0;width:100%;position:absolute;left:0;background-color:#fff;margin-bottom:20px;z-index:99}.-esm-patient-registration__address-search__suggestions___qAiUx li{padding:1rem;line-height:1.29;color:#525252;border-bottom:1px solid #8d8d8d}.-esm-patient-registration__address-search__suggestions___qAiUx li:hover{background-color:#e5e5e5;color:#161616;cursor:pointer}.-esm-patient-registration__address-search__suggestions___qAiUx li:not(:last-of-type){border-bottom:1px solid #999}.-esm-patient-registration__address-search__autocomplete___S4jFy{position:relative}.-esm-patient-registration__address-search__autocompleteSearch___AG-ZP{width:100%}.-esm-patient-registration__address-search__suggestions___qAiUx a{color:inherit;text-decoration:none}",""]),i.locals={label01:"-esm-patient-registration__address-search__label01___UPnro",suggestions:"-esm-patient-registration__address-search__suggestions___qAiUx",autocomplete:"-esm-patient-registration__address-search__autocomplete___S4jFy",autocompleteSearch:"-esm-patient-registration__address-search__autocompleteSearch___AG-ZP"};const a=i},1098:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(2609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__field__productiveHeading02___0\\+2Gm{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-bottom:1rem}.-esm-patient-registration__field__productiveHeading02Light___bbKeq{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-bottom:1rem;color:#525252}.-esm-patient-registration__field__label01___6YyKZ{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-registration__field__grid___g21pQ{display:grid;grid-template-columns:1fr 1fr;column-gap:1rem}.-esm-patient-registration__field__halfWidthInDesktopView___J9cO8{width:calc(50% - 1rem)}.-esm-patient-registration__field__patientPhoto___9mWMr{display:flex;justify-content:center}.-esm-patient-registration__field__nameField___uPmod{grid-row:1;grid-column:1}.-esm-patient-registration__field__nameField___uPmod>.cds--content-switcher{display:grid;grid-template-columns:1fr 1fr;width:max-content;justify-content:flex-start}.-esm-patient-registration__field__contentSwitcher___G7dTq{margin-bottom:1rem}.-esm-patient-registration__field__dobField___P6SHd>.cds--content-switcher{display:grid;grid-template-columns:1fr 1fr;width:max-content;justify-content:flex-start}.-esm-patient-registration__field__photoExtension___IqCnX{margin-bottom:1rem;grid-row:1;grid-column:2;justify-self:center}.-esm-patient-registration__field__sexField___F8TIv,.-esm-patient-registration__field__dobField___P6SHd{margin-bottom:1rem}.-esm-patient-registration__field__dobContentSwitcherLabel___vW\\+UB{margin-bottom:.5rem}.-esm-patient-registration__field__identifierLabelText___bdyJF{display:flex;align-items:center}.-esm-patient-registration__field__setIDNumberButton___XziAX{margin-bottom:1rem}.-esm-patient-registration__field__setIDNumberButton___XziAX>svg{margin-left:.5rem}.-esm-patient-registration__field__customField___40yP4{margin-bottom:1rem}.-esm-patient-registration__field__attributeField___qdljB{margin-bottom:1rem}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__grid___g21pQ{grid-template-columns:1fr;grid-template-rows:auto auto}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__nameField___uPmod{grid-row:2;grid-column:1}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__photoExtension___IqCnX{grid-column:1;grid-row:1;justify-self:start}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__radioButton___d7GuU label{height:3rem !important}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__halfWidthInDesktopView___J9cO8{width:100%}.-esm-patient-registration__field__radioFieldError___LyxW0{color:#da1e28;display:block;font-weight:400;max-height:12.5rem;overflow:visible;font-size:.75rem;letter-spacing:.32px;line-height:1.34;margin:.25rem 0 0}",""]),i.locals={productiveHeading02:"-esm-patient-registration__field__productiveHeading02___0+2Gm",productiveHeading02Light:"-esm-patient-registration__field__productiveHeading02Light___bbKeq",label01:"-esm-patient-registration__field__label01___6YyKZ",grid:"-esm-patient-registration__field__grid___g21pQ",halfWidthInDesktopView:"-esm-patient-registration__field__halfWidthInDesktopView___J9cO8",patientPhoto:"-esm-patient-registration__field__patientPhoto___9mWMr",nameField:"-esm-patient-registration__field__nameField___uPmod",contentSwitcher:"-esm-patient-registration__field__contentSwitcher___G7dTq",dobField:"-esm-patient-registration__field__dobField___P6SHd",photoExtension:"-esm-patient-registration__field__photoExtension___IqCnX",sexField:"-esm-patient-registration__field__sexField___F8TIv",dobContentSwitcherLabel:"-esm-patient-registration__field__dobContentSwitcherLabel___vW+UB",identifierLabelText:"-esm-patient-registration__field__identifierLabelText___bdyJF",setIDNumberButton:"-esm-patient-registration__field__setIDNumberButton___XziAX",customField:"-esm-patient-registration__field__customField___40yP4",attributeField:"-esm-patient-registration__field__attributeField___qdljB",radioButton:"-esm-patient-registration__field__radioButton___d7GuU",radioFieldError:"-esm-patient-registration__field__radioFieldError___LyxW0"};const a=i},3433:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(2609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__identifier-selection__title___fPIy3{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__identifier-selection__submit___WgYnV{width:250px}.-esm-patient-registration__identifier-selection__submit___WgYnV:hover{cursor:pointer}.-esm-patient-registration__identifier-selection__cancelButton___ar-za{width:11.688rem}.-esm-patient-registration__identifier-selection__submitButton___mJgTx{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__identifier-selection__infoGrid___5ovdR{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__identifier-selection__label01___sm7Rq{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__identifier-selection__productiveHeading02___aocJ0{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__identifier-selection__space05___pbxiU{margin:1rem 0 1rem 0}.-esm-patient-registration__identifier-selection__formContainer___XacnD{display:flex;width:100%}.-esm-patient-registration__identifier-selection__stickyColumn___H9Wbn{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__identifier-selection__touchTarget___heOv2 a:active{color:#161616}.-esm-patient-registration__identifier-selection__linkName___oKi4d{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__identifier-selection__linkName___oKi4d:active{text-decoration:none;color:#161616}.-esm-patient-registration__identifier-selection__linkName___oKi4d:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__identifier-selection__main___s9KQc{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__identifier-selection__infoGrid___5ovdR{max-width:unset}.-esm-patient-registration__identifier-selection__button___08VWQ{height:4rem;display:flex;align-content:flex-start;align-items:baseline;min-width:50%}.-esm-patient-registration__identifier-selection__tablet___mHt6H{padding:1.5rem 1rem;background-color:#fff}.-esm-patient-registration__identifier-selection__desktop___VkI9z{padding:0rem}.-esm-patient-registration__identifier-selection__radioGroup___n\\+7PW{background-color:#f4f4f4;padding:1rem}.-esm-patient-registration__identifier-selection__radioButton___yaoFj{margin:0 !important}.-esm-patient-registration__identifier-selection__radioButton___yaoFj label{height:2rem}.omrs-breakpoint-lt-desktop .-esm-patient-registration__identifier-selection__radioButton___yaoFj label{height:3rem !important}",""]),i.locals={title:"-esm-patient-registration__identifier-selection__title___fPIy3",submit:"-esm-patient-registration__identifier-selection__submit___WgYnV",cancelButton:"-esm-patient-registration__identifier-selection__cancelButton___ar-za",submitButton:"-esm-patient-registration__identifier-selection__submitButton___mJgTx",infoGrid:"-esm-patient-registration__identifier-selection__infoGrid___5ovdR",label01:"-esm-patient-registration__identifier-selection__label01___sm7Rq",productiveHeading02:"-esm-patient-registration__identifier-selection__productiveHeading02___aocJ0",space05:"-esm-patient-registration__identifier-selection__space05___pbxiU",formContainer:"-esm-patient-registration__identifier-selection__formContainer___XacnD",stickyColumn:"-esm-patient-registration__identifier-selection__stickyColumn___H9Wbn",touchTarget:"-esm-patient-registration__identifier-selection__touchTarget___heOv2",linkName:"-esm-patient-registration__identifier-selection__linkName___oKi4d",main:"-esm-patient-registration__identifier-selection__main___s9KQc",button:"-esm-patient-registration__identifier-selection__button___08VWQ",tablet:"-esm-patient-registration__identifier-selection__tablet___mHt6H",desktop:"-esm-patient-registration__identifier-selection__desktop___VkI9z",radioGroup:"-esm-patient-registration__identifier-selection__radioGroup___n+7PW",radioButton:"-esm-patient-registration__identifier-selection__radioButton___yaoFj"};const a=i},1662:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(2609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__autosuggest__label01___f95oj{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-registration__autosuggest__suggestions___v5o3w{position:relative;border-top-width:0;list-style:none;margin-top:0;max-height:143px;overflow-y:auto;padding-left:0;width:100%;position:absolute;left:0;background-color:#fff;margin-bottom:20px;z-index:99}.-esm-patient-registration__autosuggest__suggestions___v5o3w li{padding:1rem;line-height:1.29;color:#525252;border-bottom:1px solid #8d8d8d}.-esm-patient-registration__autosuggest__suggestions___v5o3w li:hover{background-color:#e5e5e5;color:#161616;cursor:pointer}.-esm-patient-registration__autosuggest__suggestions___v5o3w li:not(:last-of-type){border-bottom:1px solid #999}.-esm-patient-registration__autosuggest__autocomplete___it56z{position:relative}.-esm-patient-registration__autosuggest__autocompleteSearch___sc5fh{width:100%}.-esm-patient-registration__autosuggest__suggestions___v5o3w a{color:inherit;text-decoration:none}",""]),i.locals={label01:"-esm-patient-registration__autosuggest__label01___f95oj",suggestions:"-esm-patient-registration__autosuggest__suggestions___v5o3w",autocomplete:"-esm-patient-registration__autosuggest__autocomplete___it56z",autocompleteSearch:"-esm-patient-registration__autosuggest__autocompleteSearch___sc5fh"};const a=i},4939:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(2609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__input__title___4PKlg{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__input__submit___mloB4{width:250px}.-esm-patient-registration__input__submit___mloB4:hover{cursor:pointer}.-esm-patient-registration__input__cancelButton___blAcs{width:11.688rem}.-esm-patient-registration__input__submitButton___SofD2{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__input__infoGrid___xohlq{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__input__label01___fwQQq{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__input__productiveHeading02___7pE9K{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__input__space05___9oNC\\+{margin:1rem 0 1rem 0}.-esm-patient-registration__input__formContainer___YE8UP{display:flex;width:100%}.-esm-patient-registration__input__stickyColumn___KQudo{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__input__touchTarget___lFvgc a:active{color:#161616}.-esm-patient-registration__input__linkName___C8vKy{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__input__linkName___C8vKy:active{text-decoration:none;color:#161616}.-esm-patient-registration__input__linkName___C8vKy:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__input__main___rng6t{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__input__infoGrid___xohlq{max-width:unset}.-esm-patient-registration__input__fieldRow___5TD7U{display:flex;flex-direction:row;justify-content:flex-start;flex-wrap:wrap}.-esm-patient-registration__input__subFieldRow___zGAH4{margin-bottom:5px}.-esm-patient-registration__input__label___65tRW{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252}.-esm-patient-registration__input__textID___F\\+F-t{margin-bottom:1rem}.-esm-patient-registration__input__requiredField___x0TVf{color:#da1e28}.-esm-patient-registration__input__input___JYX4d{margin-right:5px}.-esm-patient-registration__input__checkboxField___gmx7u{display:flex;flex-direction:row;justify-content:flex-start;width:400px;margin-left:10px}.-esm-patient-registration__input__textInput___QJYjz{width:250px !important;height:40px !important}.-esm-patient-registration__input__numberInput___IGlx4{width:200px !important;height:40px !important}.-esm-patient-registration__input__checkboxInput___IVRIk{height:1.5rem !important;width:1.5rem !important;margin-top:8px}.-esm-patient-registration__input__selectInput___yrzZ-{width:150px !important;height:40px !important}.-esm-patient-registration__input__dateInput___2shrY{width:200px !important;height:40px !important;font-size:large !important}.-esm-patient-registration__input__telInput___HxQe3{width:250px !important;height:40px !important}.-esm-patient-registration__input__errorInput___aW2qL{border:2px solid #da1e28 !important;padding-left:.875rem !important}.-esm-patient-registration__input__errorMessage___cbdW2{color:#da1e28;align-self:center}.-esm-patient-registration__input__dummyData___GFQGF{cursor:pointer;margin-left:5px}.-esm-patient-registration__input__IDInput___6B3\\+s{display:grid;grid-template-columns:1fr auto;align-items:center;max-width:27rem}.-esm-patient-registration__input__trashCan___usc53{color:#da1e28}.omrs-breakpoint-lt-desktop .-esm-patient-registration__input__IDInput___6B3\\+s{max-width:unset;width:100%}.-esm-patient-registration__input__dangerLabel01___sb6Np{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#da1e28}",""]),i.locals={title:"-esm-patient-registration__input__title___4PKlg",submit:"-esm-patient-registration__input__submit___mloB4",cancelButton:"-esm-patient-registration__input__cancelButton___blAcs",submitButton:"-esm-patient-registration__input__submitButton___SofD2",infoGrid:"-esm-patient-registration__input__infoGrid___xohlq",label01:"-esm-patient-registration__input__label01___fwQQq",productiveHeading02:"-esm-patient-registration__input__productiveHeading02___7pE9K",space05:"-esm-patient-registration__input__space05___9oNC+",formContainer:"-esm-patient-registration__input__formContainer___YE8UP",stickyColumn:"-esm-patient-registration__input__stickyColumn___KQudo",touchTarget:"-esm-patient-registration__input__touchTarget___lFvgc",linkName:"-esm-patient-registration__input__linkName___C8vKy",main:"-esm-patient-registration__input__main___rng6t",fieldRow:"-esm-patient-registration__input__fieldRow___5TD7U",subFieldRow:"-esm-patient-registration__input__subFieldRow___zGAH4",label:"-esm-patient-registration__input__label___65tRW",textID:"-esm-patient-registration__input__textID___F+F-t",requiredField:"-esm-patient-registration__input__requiredField___x0TVf",input:"-esm-patient-registration__input__input___JYX4d",checkboxField:"-esm-patient-registration__input__checkboxField___gmx7u",textInput:"-esm-patient-registration__input__textInput___QJYjz",numberInput:"-esm-patient-registration__input__numberInput___IGlx4",checkboxInput:"-esm-patient-registration__input__checkboxInput___IVRIk",selectInput:"-esm-patient-registration__input__selectInput___yrzZ-",dateInput:"-esm-patient-registration__input__dateInput___2shrY",telInput:"-esm-patient-registration__input__telInput___HxQe3",errorInput:"-esm-patient-registration__input__errorInput___aW2qL",errorMessage:"-esm-patient-registration__input__errorMessage___cbdW2",dummyData:"-esm-patient-registration__input__dummyData___GFQGF",IDInput:"-esm-patient-registration__input__IDInput___6B3+s",trashCan:"-esm-patient-registration__input__trashCan___usc53",dangerLabel01:"-esm-patient-registration__input__dangerLabel01___sb6Np"};const a=i},1093:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(2609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__patient-registration__title___d6s20{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__patient-registration__submit___S6frc{width:250px}.-esm-patient-registration__patient-registration__submit___S6frc:hover{cursor:pointer}.-esm-patient-registration__patient-registration__cancelButton___2-E\\+5{width:11.688rem}.-esm-patient-registration__patient-registration__submitButton___Ps1do{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__patient-registration__infoGrid___2S1kw{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__patient-registration__label01___CxOgi{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__patient-registration__productiveHeading02___mBDux{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__patient-registration__space05___\\+IJfn{margin:1rem 0 1rem 0}.-esm-patient-registration__patient-registration__formContainer___ydkLz{display:flex;width:100%}.-esm-patient-registration__patient-registration__stickyColumn___2G55G{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__patient-registration__touchTarget___KxfOv a:active{color:#161616}.-esm-patient-registration__patient-registration__linkName___Ukv7z{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__patient-registration__linkName___Ukv7z:active{text-decoration:none;color:#161616}.-esm-patient-registration__patient-registration__linkName___Ukv7z:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__patient-registration__main___eiIwY{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__patient-registration__infoGrid___2S1kw{max-width:unset}",""]),i.locals={title:"-esm-patient-registration__patient-registration__title___d6s20",submit:"-esm-patient-registration__patient-registration__submit___S6frc",cancelButton:"-esm-patient-registration__patient-registration__cancelButton___2-E+5",submitButton:"-esm-patient-registration__patient-registration__submitButton___Ps1do",infoGrid:"-esm-patient-registration__patient-registration__infoGrid___2S1kw",label01:"-esm-patient-registration__patient-registration__label01___CxOgi",productiveHeading02:"-esm-patient-registration__patient-registration__productiveHeading02___mBDux",space05:"-esm-patient-registration__patient-registration__space05___+IJfn",formContainer:"-esm-patient-registration__patient-registration__formContainer___ydkLz",stickyColumn:"-esm-patient-registration__patient-registration__stickyColumn___2G55G",touchTarget:"-esm-patient-registration__patient-registration__touchTarget___KxfOv",linkName:"-esm-patient-registration__patient-registration__linkName___Ukv7z",main:"-esm-patient-registration__patient-registration__main___eiIwY"};const a=i},138:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(2609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__relationships__title___zOYZm{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__relationships__submit___kNlmu{width:250px}.-esm-patient-registration__relationships__submit___kNlmu:hover{cursor:pointer}.-esm-patient-registration__relationships__cancelButton___cFt6p{width:11.688rem}.-esm-patient-registration__relationships__submitButton___CW8X\\+{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__relationships__infoGrid___9dg84{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__relationships__label01___TYH\\+i{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__relationships__productiveHeading02___PuSkg{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__relationships__space05___gWnMG{margin:1rem 0 1rem 0}.-esm-patient-registration__relationships__formContainer___U91DX{display:flex;width:100%}.-esm-patient-registration__relationships__stickyColumn___2cbAk{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__relationships__touchTarget___chVrk a:active{color:#161616}.-esm-patient-registration__relationships__linkName___M6KoQ{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__relationships__linkName___M6KoQ:active{text-decoration:none;color:#161616}.-esm-patient-registration__relationships__linkName___M6KoQ:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__relationships__main___G8ux-{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__relationships__infoGrid___9dg84{max-width:unset}.-esm-patient-registration__relationships__labelText___hTuhj{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-registration__relationships__bodyShort02___hfBao{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-patient-registration__relationships__searchBox___xY0Yt{margin-bottom:1rem}.-esm-patient-registration__relationships__relationshipHeader___2w\\+Ew{display:flex;align-items:center}.-esm-patient-registration__relationships__productiveHeading___IiVgd{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252}.-esm-patient-registration__relationships__trashCan___nBYrg{color:#da1e28 !important}.omrs-breakpoint-lt-desktop .-esm-patient-registration__relationships__relationshipHeader___2w\\+Ew{justify-content:space-between}",""]),i.locals={title:"-esm-patient-registration__relationships__title___zOYZm",submit:"-esm-patient-registration__relationships__submit___kNlmu",cancelButton:"-esm-patient-registration__relationships__cancelButton___cFt6p",submitButton:"-esm-patient-registration__relationships__submitButton___CW8X+",infoGrid:"-esm-patient-registration__relationships__infoGrid___9dg84",label01:"-esm-patient-registration__relationships__label01___TYH+i",productiveHeading02:"-esm-patient-registration__relationships__productiveHeading02___PuSkg",space05:"-esm-patient-registration__relationships__space05___gWnMG",formContainer:"-esm-patient-registration__relationships__formContainer___U91DX",stickyColumn:"-esm-patient-registration__relationships__stickyColumn___2cbAk",touchTarget:"-esm-patient-registration__relationships__touchTarget___chVrk",linkName:"-esm-patient-registration__relationships__linkName___M6KoQ",main:"-esm-patient-registration__relationships__main___G8ux-",labelText:"-esm-patient-registration__relationships__labelText___hTuhj",bodyShort02:"-esm-patient-registration__relationships__bodyShort02___hfBao",searchBox:"-esm-patient-registration__relationships__searchBox___xY0Yt",relationshipHeader:"-esm-patient-registration__relationships__relationshipHeader___2w+Ew",productiveHeading:"-esm-patient-registration__relationships__productiveHeading___IiVgd",trashCan:"-esm-patient-registration__relationships__trashCan___nBYrg"};const a=i},2936:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(2609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__section__title___WE522{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__section__submit___ZCyMT{width:250px}.-esm-patient-registration__section__submit___ZCyMT:hover{cursor:pointer}.-esm-patient-registration__section__cancelButton___BtWcr{width:11.688rem}.-esm-patient-registration__section__submitButton___SX3tz{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__section__infoGrid___m6EFv{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__section__label01___SB4dO{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__section__productiveHeading02___0Qr6X{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__section__space05___\\+I97l{margin:1rem 0 1rem 0}.-esm-patient-registration__section__formContainer___bUz8M{display:flex;width:100%}.-esm-patient-registration__section__stickyColumn___e3QEm{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__section__touchTarget___ubpCE a:active{color:#161616}.-esm-patient-registration__section__linkName___NOqjy{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__section__linkName___NOqjy:active{text-decoration:none;color:#161616}.-esm-patient-registration__section__linkName___NOqjy:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__section__main___3eHUo{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__section__infoGrid___m6EFv{max-width:unset}",""]),i.locals={title:"-esm-patient-registration__section__title___WE522",submit:"-esm-patient-registration__section__submit___ZCyMT",cancelButton:"-esm-patient-registration__section__cancelButton___BtWcr",submitButton:"-esm-patient-registration__section__submitButton___SX3tz",infoGrid:"-esm-patient-registration__section__infoGrid___m6EFv",label01:"-esm-patient-registration__section__label01___SB4dO",productiveHeading02:"-esm-patient-registration__section__productiveHeading02___0Qr6X",space05:"-esm-patient-registration__section__space05___+I97l",formContainer:"-esm-patient-registration__section__formContainer___bUz8M",stickyColumn:"-esm-patient-registration__section__stickyColumn___e3QEm",touchTarget:"-esm-patient-registration__section__touchTarget___ubpCE",linkName:"-esm-patient-registration__section__linkName___NOqjy",main:"-esm-patient-registration__section__main___3eHUo"};const a=i},7857:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(2609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__overlay__title___ovEFv{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__overlay__submit___MEU04{width:250px}.-esm-patient-registration__overlay__submit___MEU04:hover{cursor:pointer}.-esm-patient-registration__overlay__cancelButton___Kuq8k{width:11.688rem}.-esm-patient-registration__overlay__submitButton___koip2{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__overlay__infoGrid___IR-lJ{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__overlay__label01___UFjWe{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__overlay__productiveHeading02___0-7g8{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__overlay__space05___3-aCf{margin:1rem 0 1rem 0}.-esm-patient-registration__overlay__formContainer___0etfN{display:flex;width:100%}.-esm-patient-registration__overlay__stickyColumn___ZAq3J{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__overlay__touchTarget___eSQ3o a:active{color:#161616}.-esm-patient-registration__overlay__linkName___Kol4j{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__overlay__linkName___Kol4j:active{text-decoration:none;color:#161616}.-esm-patient-registration__overlay__linkName___Kol4j:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__overlay__main___pCgsu{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__overlay__infoGrid___IR-lJ{max-width:unset}.-esm-patient-registration__overlay__desktopOverlay___pTy0O{position:fixed;top:3rem;right:0;height:calc(100vh - 3rem);min-width:27rem;background-color:#fff;border-left:1px solid #a8a8a8;overflow:hidden;display:grid;grid-template-rows:auto 1fr auto;z-index:999}.-esm-patient-registration__overlay__tabletOverlay___\\+CQze{position:fixed;top:0;bottom:0;left:0;right:0;z-index:9999;background-color:#fff;overflow:hidden;padding-top:3rem;display:grid;grid-template-rows:1fr auto}.-esm-patient-registration__overlay__tabletOverlayHeader___omtl4 button{background-color:#005d5d !important}.-esm-patient-registration__overlay__tabletOverlayHeader___omtl4 .-esm-patient-registration__overlay__headerContent___S7vPL{color:#fff}.-esm-patient-registration__overlay__desktopHeader___X3NCa{display:flex;justify-content:space-between;align-items:center;background-color:#e0e0e0;border-bottom:1px solid #a8a8a8}.-esm-patient-registration__overlay__headerContent___S7vPL{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);padding:0 1rem;color:#161616}.-esm-patient-registration__overlay__closeButton___8Pcw1{background-color:#fff}.-esm-patient-registration__overlay__overlayContent___9V2UN{padding:1rem;overflow-y:auto}",""]),i.locals={title:"-esm-patient-registration__overlay__title___ovEFv",submit:"-esm-patient-registration__overlay__submit___MEU04",cancelButton:"-esm-patient-registration__overlay__cancelButton___Kuq8k",submitButton:"-esm-patient-registration__overlay__submitButton___koip2",infoGrid:"-esm-patient-registration__overlay__infoGrid___IR-lJ",label01:"-esm-patient-registration__overlay__label01___UFjWe",productiveHeading02:"-esm-patient-registration__overlay__productiveHeading02___0-7g8",space05:"-esm-patient-registration__overlay__space05___3-aCf",formContainer:"-esm-patient-registration__overlay__formContainer___0etfN",stickyColumn:"-esm-patient-registration__overlay__stickyColumn___ZAq3J",touchTarget:"-esm-patient-registration__overlay__touchTarget___eSQ3o",linkName:"-esm-patient-registration__overlay__linkName___Kol4j",main:"-esm-patient-registration__overlay__main___pCgsu",desktopOverlay:"-esm-patient-registration__overlay__desktopOverlay___pTy0O",tabletOverlay:"-esm-patient-registration__overlay__tabletOverlay___+CQze",tabletOverlayHeader:"-esm-patient-registration__overlay__tabletOverlayHeader___omtl4",headerContent:"-esm-patient-registration__overlay__headerContent___S7vPL",desktopHeader:"-esm-patient-registration__overlay__desktopHeader___X3NCa",closeButton:"-esm-patient-registration__overlay__closeButton___8Pcw1",overlayContent:"-esm-patient-registration__overlay__overlayContent___9V2UN"};const a=i},4954:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(2609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".-esm-patient-registration__root__root___msybz{background-color:#fff}.-esm-patient-registration__root__grid___p9P\\+g{grid-template-columns:repeat(1, minmax(0, 1fr))}",""]),i.locals={root:"-esm-patient-registration__root__root___msybz",grid:"-esm-patient-registration__root__grid___p9P+g"};const a=i},7658:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Sn});var r=n(268),i=n.n(r),a=n(7228),o=n(2767),l=n(906),s=n(6279),c=n(5047),u=n.n(c),_=n(781),d=n(4924),m=n(7065),p=n(6794),f=n(4519),g=n.n(f),h=p.Ry({givenName:p.Z_().required("givenNameRequired"),familyName:p.Z_().required("familyNameRequired"),additionalGivenName:p.Z_().when("addNameInLocalLanguage",{is:!0,then:p.Z_().required("givenNameRequired"),otherwise:p.Z_().notRequired()}),additionalFamilyName:p.Z_().when("addNameInLocalLanguage",{is:!0,then:p.Z_().required("familyNameRequired"),otherwise:p.Z_().notRequired()}),gender:p.Z_().oneOf(["Male","Female","Other","Unknown"],"genderUnspecified").required("genderRequired"),birthdate:p.hT().when("birthdateEstimated",{is:!1,then:p.hT().required("birthdayRequired").max(Date(),"birthdayNotInTheFuture").nullable(),otherwise:p.hT().nullable()}),yearsEstimated:p.Rx().when("birthdateEstimated",{is:!0,then:p.Rx().required("yearsEstimateRequired").min(0,"negativeYears"),otherwise:p.Rx().nullable()}),monthsEstimated:p.Rx().min(0,"negativeMonths"),deathDate:p.hT().max(Date(),"deathdayNotInTheFuture").nullable(),email:p.Z_().optional().email("invalidEmail"),identifiers:p.Vo((function(e){return p.Ry(g()(e,(function(){return p.Ry({required:p.Xg(),identifierValue:p.Z_().when("required",{is:!0,then:p.Z_().required("identifierValueRequired"),otherwise:p.Z_().notRequired()})})})))}))}),v=(0,r.createContext)(void 0),b=n(3076),y=n(7117),w=n(9571),E=n(6062),x=n.n(E),k=n(4036),T=n.n(k),S=n(6793),O=n.n(S),N=n(7892),I=n.n(N),C=n(1173),j=n.n(C),P=n(2464),A=n.n(P),D=n(4939),F={};F.styleTagTransform=A(),F.setAttributes=I(),F.insert=O().bind(null,"head"),F.domAPI=T(),F.insertStyleElement=j(),x()(D.Z,F);const B=D.Z&&D.Z.locals?D.Z.locals:void 0;var L={patientUuid:(0,w.Z)(),givenName:"John",middleName:"",familyName:"Smith",unidentifiedPatient:!1,additionalGivenName:"Joey",additionalMiddleName:"",additionalFamilyName:"Smitty",addNameInLocalLanguage:!0,gender:"Male",birthdate:new Date(2020,1,1),yearsEstimated:1,monthsEstimated:2,birthdateEstimated:!0,telephoneNumber:"0800001066",isDead:!1,deathDate:"",deathCause:"",relationships:[],address:{address1:"Bom Jesus Street",address2:"",cityVillage:"Recife",stateProvince:"Pernambuco",country:"Brazil",postalCode:"50030-310"},identifiers:{}},U=function(e){var t=e.setValues;return i().createElement("main",null,i().createElement("button",{onClick:function(){return t(L)},className:"omrs-btn omrs-filled-neutral ".concat(B.dummyData),type:"button","aria-label":"Dummy Data Input"},"Input Dummy Data"))},z=n(2777),V=n(1525);function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){R(e,t,n[t])}))}return e}function q(e,t,n){var r,i,a;return null!==(a=null===(i=null===(r=n.querySelector(t))||void 0===r?void 0:r.querySelector("[name=".concat(e,"]")))||void 0===i?void 0:i.getAttribute("value"))&&void 0!==a?a:null}function M(){(0,l.navigate)({to:"".concat(window.spaBase,"/home")})}function G(e){var t,n={},r=null===(t=e.address)||void 0===t?void 0:t[0];if(r){var i=!0,a=!1,o=void 0;try{for(var l,s=Object.keys(r)[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;switch(c){case"city":n.cityVillage=r[c];break;case"state":n.stateProvince=r[c];break;case"district":n.countyDistrict=r[c];break;case"extension":r[c].forEach((function(e){e.extension.forEach((function(e){n[e.url.split("#")[1]]=e.valueString}))}));break;default:"country"!==c&&"postalCode"!==c||(n[c]=r[c])}}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}return n}function W(e){var t,n=e.name[0],r=e.name[1],i=null===(t=e.address)||void 0===t?void 0:t[0];return H({preferredNameUuid:null==n?void 0:n.id,additionalNameUuid:null==r?void 0:r.id,preferredAddressUuid:null==i?void 0:i.id},e.identifier.map((function(e){return R({},(0,z.Z)(e.system||e.type.text),{uuid:e.id,value:e.value})})))}function Y(e){var t={};return e.telecom&&(t.phone=e.telecom[0].value),t}var Q=n(9857),K=n(8179);function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){X(a,r,i,o,l,"next",e)}function l(e){X(a,r,i,o,l,"throw",e)}o(void 0)}))}}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ee(e,t,n[t])}))}return e}function ne(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e){return ae.apply(this,arguments)}function ae(){return(ae=J(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.getSynchronizationItems)(K.Kt);case 2:return n=e.sent,e.abrupt("return",n.find((function(e){return e._patientRegistrationData.formValues.patientUuid===t})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=n(225),le=n(1093),se={};se.styleTagTransform=A(),se.setAttributes=I(),se.insert=O().bind(null,"head"),se.domAPI=T(),se.insertStyleElement=j(),x()(le.Z,se);const ce=le.Z&&le.Z.locals?le.Z.locals:void 0;function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _e(){return _e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}var de=function(e){var t,n,a=e.checkWarning,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["checkWarning"]),s=(t=(0,m.U$)(l.name),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1],_=(0,d.useTranslation)().t,p=c.value||"",f=u.error&&_(u.error),g=(0,r.useMemo)((function(){if(!f&&"function"==typeof a){var e=a(p);return e&&_(e)}}),[a,f,p,_]),h=l.required?l.labelText:"".concat(l.labelText," (").concat(_("optional","optional"),")");return i().createElement("div",{style:{marginBottom:"1rem"}},i().createElement(o.mh4,null,i().createElement(o.oil,_e({},l,c,{labelText:h,invalid:!(!u.touched||!u.error),invalidText:f,warn:!!g,warnText:g,value:p}))))},me=function(){var e=(0,d.useTranslation)().t;return i().createElement("div",null,i().createElement(de,{id:"phone",name:"attributes.14d4f066-15f5-102d-96e4-000c29c2a5d7",labelText:e("phoneNumberInputLabelText","Phone number"),light:!0}))},pe=n(1098),fe={};fe.styleTagTransform=A(),fe.setAttributes=I(),fe.insert=O().bind(null,"head"),fe.domAPI=T(),fe.insertStyleElement=j(),x()(pe.Z,fe);const ge=pe.Z&&pe.Z.locals?pe.Z.locals:void 0;var he=function(){var e=(0,d.useTranslation)().t;return i().createElement("div",null,i().createElement("h4",{className:ge.productiveHeading02Light},e("phoneEmailLabelText","Phone, Email")),i().createElement("div",{className:ge.grid},i().createElement(me,null),i().createElement(de,{id:"email",name:"attributes.ac7d7773-fe9f-11ec-8b9b-0242ac1b0002",labelText:e("emailLabelText","Email")})))};function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var be=/^([^0-9]*)$/;function ye(e){if(!be.test(e))return"numberInNameDubious"}var we=function(){var e,t,n=(0,d.useTranslation)().t,a=(0,r.useContext)(v),s=a.setCapturePhotoProps,c=a.currentPhoto,u=a.setFieldValue,_=(0,l.useConfig)().fieldConfigurations,p=null==_?void 0:_.name,f=!(e=(0,m.U$)("unidentifiedPatient"),t=1,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].value,g=(0,r.useCallback)((function(e,t){s&&s({imageData:e,dateTime:t})}),[s]);return i().createElement("div",null,i().createElement("h4",{className:ge.productiveHeading02Light},n("fullNameLabelText","Full Name")),i().createElement("div",{className:ge.grid},i().createElement(l.ExtensionSlot,{className:ge.photoExtension,extensionSlotName:"capture-patient-photo-slot",state:{onCapturePhoto:g,initialState:c}}),i().createElement("div",{className:ge.nameField},i().createElement("div",{className:ge.dobContentSwitcherLabel},i().createElement("span",{className:ge.label01},n("patientNameKnown","Patient's Name is Known?"))),i().createElement(o.GHR,{className:ge.contentSwitcher,onChange:function(e){"known"===e.name?(u("givenName",""),u("familyName",""),u("unidentifiedPatient",!1)):(u("givenName",p.defaultUnknownGivenName),u("familyName",p.defaultUnknownFamilyName),u("unidentifiedPatient",!0))}},i().createElement(o.rsf,{name:"known",text:n("yes","Yes")}),i().createElement(o.rsf,{name:"unknown",text:n("no","No")})),f&&i().createElement(i().Fragment,null,i().createElement(de,{id:"givenName",name:"givenName",labelText:n("givenNameLabelText","First Name"),checkWarning:ye,required:!0}),p.displayMiddleName&&i().createElement(de,{id:"middleName",name:"middleName",labelText:n("middleNameLabelText","Middle Name"),light:!0,checkWarning:ye}),i().createElement(de,{id:"familyName",name:"familyName",labelText:n("familyNameLabelText","Family Name"),checkWarning:ye,required:!0})))))};function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xe=function(){var e,t,n=(0,l.useConfig)().fieldConfigurations,a=(0,d.useTranslation)().t,s=(e=(0,m.U$)("gender"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1],_=(0,r.useContext)(v).setFieldValue,p=null==n?void 0:n.gender;return i().createElement("div",{className:ge.halfWidthInDesktopView},i().createElement("h4",{className:ge.productiveHeading02Light},a("sexFieldLabelText","Sex")),i().createElement("div",{className:ge.sexField},i().createElement("p",{className:"cds--label"},a("genderLabelText","Sex")),i().createElement(o.SYO,{name:"gender",orientation:"vertical",onChange:function(e){_("gender",e)},valueSelected:c.value},p.map((function(e){return i().createElement(o.EUY,{key:e.label,id:e.id,value:e.value,labelText:a("".concat(e.label),"".concat(e.label))})}))),u.touched&&u.error&&i().createElement("div",{className:ge.radioFieldError},a(u.error,"Gender is required"))))},ke=n(6759),Te=n(2074),Se=n(7857),Oe={};Oe.styleTagTransform=A(),Oe.setAttributes=I(),Oe.insert=O().bind(null,"head"),Oe.domAPI=T(),Oe.insertStyleElement=j(),x()(Se.Z,Oe);const Ne=Se.Z&&Se.Z.locals?Se.Z.locals:void 0;function Ie(){return Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(this,arguments)}const Ce=function(e){var t=e.close,n=e.children,r=e.header,a=e.buttonsGroup,s=(0,d.useTranslation)().t,c=(0,l.useLayoutType)();return i().createElement("div",{className:(0,l.isDesktop)(c)?Ne.desktopOverlay:Ne.tabletOverlay},(0,l.isDesktop)(c)?i().createElement("div",{className:Ne.desktopHeader},i().createElement("div",{className:Ne.headerContent},r),i().createElement(o.zxk,{className:Ne.closeButton,iconDescription:s("closeOverlay","Close overlay"),onClick:t,kind:"ghost",hasIconOnly:!0,renderIcon:function(e){return i().createElement(Te.x8,Ie({size:16},e))}})):i().createElement(o.h4i,{className:Ne.tabletOverlayHeader},i().createElement(o.zxk,{kind:"ghost",onClick:t,hasIconOnly:!0,iconDescription:s("closeOverlay","Close overlay"),renderIcon:function(e){return i().createElement(ke.Xd,Ie({size:16,onClick:t},e))}}),i().createElement("div",{className:Ne.headerContent},r)),i().createElement("div",{className:Ne.overlayContent},n),i().createElement("div",null,a))};function je(e){return Pe(e)&&!e.identifierSources.some((function(e){var t,n;return!(null===(t=e.autoGenerationOption)||void 0===t?void 0:t.manualEntryEnabled)&&(null===(n=e.autoGenerationOption)||void 0===n?void 0:n.automaticGenerationEnabled)}))}function Pe(e){return"UNIQUE"===e.uniquenessBehavior||"LOCATION"===e.uniquenessBehavior}var Ae=n(3433),De={};De.styleTagTransform=A(),De.setAttributes=I(),De.insert=O().bind(null,"head"),De.domAPI=T(),De.insertStyleElement=j(),x()(Ae.Z,De);const Fe=Ae.Z&&Ae.Z.locals?Ae.Z.locals:void 0;function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Le(e,t,n[t])}))}return e}function ze(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Ze=function(e){var t,n=e.closeOverlay,a=e.setFieldValue,c=(0,l.useLayoutType)(),u=(0,r.useContext)(s.Cg).identifierTypes,_=(0,r.useContext)(v),m=_.isOffline,p=_.values,f=_.initialFormValues,g=Ve((0,r.useState)(p.identifiers),2),h=g[0],b=g[1],y=Ve((0,r.useState)(""),2),w=y[0],E=y[1],x=(0,d.useTranslation)().t,k=(0,l.useConfig)().defaultPatientIdentifierTypes,T=(0,r.useMemo)((function(){var e={};return null==k||k.forEach((function(t){e[t]=!0})),e}),[k]);(0,r.useEffect)((function(){b(p.identifiers)}),[p.identifiers]);var S=(0,r.useCallback)((function(e){var n;return E(null!==(t=null==e||null===(n=e.target)||void 0===n?void 0:n.value)&&void 0!==t?t:"")}),[]),O=(0,r.useMemo)((function(){return null==u?void 0:u.filter((function(e){var t;return null==e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(w.toLowerCase())}))}),[h,w]),N=function(e,t){return b((function(n){var r,i;return t?ze(Ue({},n),Le({},e.fieldName,nt(e,null!==(i=null!==(r=p.identifiers[e.fieldName])&&void 0!==r?r:f.identifiers[e.fieldName])&&void 0!==i?i:{}))):n[e.fieldName]?Object.fromEntries(Object.entries(n).filter((function(t){return Ve(t,1)[0]!==e.fieldName}))):n}))},I=(0,r.useMemo)((function(){return O.map((function(e){var t,n,r=h[e.fieldName],a=e.isPrimary||e.required||T[e.uuid]||p.identifiers[e.fieldName],l=m&&je(e);return i().createElement("div",{key:e.uuid,className:Fe.space05},i().createElement(o.XZJ,{id:e.uuid,value:e.uuid,labelText:e.name,onChange:function(t){return N(e,t)},checked:!!r,disabled:a||m&&l}),r&&(null==e||null===(t=e.identifierSources)||void 0===t?void 0:t.length)>0&&(!r.initialValue||(null==r?void 0:r.selectedSource))&&i().createElement("div",{className:Fe.radioGroup},i().createElement(o.SYO,{legendText:x("source","Source"),name:"".concat(null==e?void 0:e.fieldName,"-identifier-sources"),defaultSelected:null==r||null===(n=r.selectedSource)||void 0===n?void 0:n.uuid,onChange:function(t){return function(e,t){return b((function(n){return ze(Ue({},n),Le({},e.fieldName,Ue({},n[e.fieldName],tt(e.identifierSources.find((function(e){return e.uuid===t})),n[e.fieldName].identifierValue,n[e.fieldName].initialValue))))}))}(e,t)},orientation:"vertical"},null==e?void 0:e.identifierSources.map((function(t){var n;return i().createElement(o.EUY,{key:t.uuid,labelText:t.name,name:t.uuid,value:t.uuid,className:Fe.radioButton,disabled:m&&Pe(e)&&(null===(n=t.autoGenerationOption)||void 0===n?void 0:n.manualEntryEnabled)})})))))}))}),[O,h,T,p.identifiers,m,N]),C=(0,r.useCallback)((function(){a("identifiers",h),n()}),[h,a]);return i().createElement(Ce,{close:n,header:x("configureIdentifiers","Configure identifiers"),buttonsGroup:i().createElement(o.uVA,{className:(0,l.isDesktop)(c)?Fe.desktop:Fe.tablet},i().createElement(o.zxk,{className:Fe.button,kind:"secondary",onClick:n},x("cancel","Cancel")),i().createElement(o.zxk,{className:Fe.button,kind:"primary",onClick:C},x("configureIdentifiers","Configure identifiers")))},i().createElement("div",null,i().createElement("p",{className:Fe.bodyLong02},x("IDInstructions","Select the identifiers you'd like to add for this patient:")),u.length>7&&i().createElement("div",{className:Fe.space05},i().createElement(o.olm,{labelText:x("searchIdentifierPlaceholder","Search identifier"),placeholder:x("searchIdentifierPlaceholder","Search identifier"),onChange:S,value:w})),i().createElement("fieldset",null,I)))};var Re=n(7631),He=n(3469),qe=n(6039);function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(){return We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(this,arguments)}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ge(e,t,n[t])}))}return e}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ke=function(e){var t=e.patientIdentifier,n=e.fieldName,a=(0,d.useTranslation)().t,c=(0,l.useConfig)().defaultPatientIdentifierTypes,u=(0,r.useContext)(s.Cg).identifierTypes,_=(0,r.useContext)(v),p=_.isOffline,f=_.values,g=_.setFieldValue,h=(0,r.useMemo)((function(){return u.find((function(e){return e.uuid===t.identifierTypeUuid}))}),[t,u]),b=t.autoGeneration,y=t.initialValue,w=t.identifierValue,E=t.identifierName,x=t.required,k=Qe((0,r.useState)(b||y===w),2),T=k[0],S=k[1],O="identifiers.".concat(n,".identifierValue"),N=Qe((0,m.U$)(O),2),I=N[0],C=N[1],j=p&&je(h),P=(0,r.useMemo)((function(){var e={};return null==c||c.forEach((function(t){e[t]=!0})),e}),[c]),A=(0,r.useCallback)((function(){var e,r;S(!0),g("identifiers.".concat(n),(e=Ye({},t),r=null!=(r={identifierValue:y,selectedSource:null,autoGeneration:!1})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})),e))}),[y,S]);return i().createElement("div",{className:B.IDInput},b||T?i().createElement("div",{className:B.textID},i().createElement("p",{className:B.label},E),i().createElement("p",{className:B.bodyShort02},b?a("autoGeneratedPlaceholderText","Auto-generated"):w),i().createElement("input",We({type:"hidden"},I,{disabled:!0})),!(!C.touched||!C.error)&&i().createElement("span",{className:B.dangerLabel01},C.error&&a(C.error))):i().createElement(de,We({id:O,labelText:E,name:O,disabled:j,required:x,invalid:!(!C.touched||!C.error),invalidText:C.error&&a(C.error)},I)),i().createElement("div",null,!t.required&&t.initialValue&&T&&i().createElement(o.zxk,{kind:"ghost",onClick:function(){var e;S(!1),g("identifiers.".concat(n),Ye({},t,tt(null==h||null===(e=h.identifierSources)||void 0===e?void 0:e[0],y,y)))},iconDescription:a("editIdentifierTooltip","Edit"),disabled:j,hasIconOnly:!0},i().createElement(Re.I8,{size:16})),y&&y!==w&&i().createElement(o.zxk,{kind:"ghost",onClick:A,iconDescription:a("resetIdentifierTooltip","Reset"),disabled:j,hasIconOnly:!0},i().createElement(He.AG,{size:16})),!t.required&&!P[t.identifierTypeUuid]&&i().createElement(l.UserHasAccess,{privilege:"coreapps.systemAdministration"},i().createElement(o.zxk,{kind:"danger--ghost",onClick:function(){if(y)var e=(0,l.showModal)("delete-identifier-confirmation-modal",{deleteIdentifier:function(t){t&&g("identifiers",rt(f.identifiers,n)),e()},identifierName:E,initialValue:y});else g("identifiers",rt(f.identifiers,n))},iconDescription:a("deleteIdentifierTooltip","Delete"),disabled:j,hasIconOnly:!0},i().createElement(qe.ZN,{size:16})))))};function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Xe(e,t,n[t])}))}return e}function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t,n){var r,i=null==e||null===(r=e.autoGenerationOption)||void 0===r?void 0:r.automaticGenerationEnabled;return{selectedSource:e,autoGeneration:i,identifierValue:i?"auto-generated":"auto-generated"!==t?t:n}}function nt(e,t){var n,r,i;return Je({identifierTypeUuid:e.uuid,identifierName:e.name,preferred:e.isPrimary,initialValue:"",required:e.isPrimary||e.required},t,tt(null!==(r=null==t?void 0:t.selectedSource)&&void 0!==r?r:null===(n=e.identifierSources)||void 0===n?void 0:n[0],null==t?void 0:t.identifierValue,null!==(i=null==t?void 0:t.initialValue)&&void 0!==i?i:""))}function rt(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){return et(e,1)[0]!==t})))}var it=function(){var e=(0,r.useContext)(s.Cg).identifierTypes,t=!e,n=(0,r.useContext)(v),a=n.values,c=n.setFieldValue,u=n.initialFormValues,_=(0,d.useTranslation)().t,m=(0,l.useLayoutType)(),p=et((0,r.useState)(!1),2),f=p[0],g=p[1],h=(0,l.useConfig)().defaultPatientIdentifierTypes;return(0,r.useEffect)((function(){if(e){var t={};e.filter((function(e){return e.isPrimary||e.required||!!(null==h?void 0:h.find((function(t){return t===e.uuid})))})).filter((function(e){return!a.identifiers[e.fieldName]})).forEach((function(e){var n,r;t[e.fieldName]=nt(e,null!==(r=null!==(n=a.identifiers[e.uuid])&&void 0!==n?n:u.identifiers[e.uuid])&&void 0!==r?r:{})})),Object.keys(t).length&&c("identifiers",Je({},a.identifiers,t))}}),[e,c,nt,h,a.identifiers]),t?i().createElement("div",{className:ge.halfWidthInDesktopView},i().createElement("div",{className:ge.identifierLabelText},i().createElement("h4",{className:ge.productiveHeading02Light},_("idFieldLabelText","Identifiers"))),i().createElement(o.N2B,null)):i().createElement("div",{className:ge.halfWidthInDesktopView},i().createElement(l.UserHasAccess,{privilege:"coreapps.systemAdministration"},i().createElement("div",{className:ge.identifierLabelText},i().createElement("h4",{className:ge.productiveHeading02Light},_("idFieldLabelText","Identifiers")),i().createElement(o.zxk,{kind:"ghost",className:ge.setIDNumberButton,onClick:function(){return g(!0)},size:(0,l.isDesktop)(m)?"sm":"md"},_("configure","Configure")," ",i().createElement(ke.ol,{size:16})))),i().createElement("div",null,Object.entries(a.identifiers).map((function(e){var t=et(e,2),n=t[0],r=t[1];return i().createElement(Ke,{key:n,fieldName:n,patientIdentifier:r})})),f&&i().createElement(Ze,{setFieldValue:c,closeOverlay:function(){return g(!1)}})))};function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ot(){return ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ot.apply(this,arguments)}function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var st=function(e,t){var n=new Date,r=new Date(n.getFullYear()-e,n.getMonth()-t,1),i=new Date(r.getFullYear(),r.getMonth()+1,0).getDate();return new Date(r.getFullYear(),r.getMonth(),Math.min(n.getDate(),i))},ct=function(){var e,t,n=(0,d.useTranslation)().t,a=!lt((0,m.U$)("birthdateEstimated"),1)[0].value,l=lt((0,m.U$)("birthdate"),2),s=l[0],c=l[1],u=lt((0,m.U$)("yearsEstimated"),2),_=u[0],p=u[1],f=lt((0,m.U$)("monthsEstimated"),2),g=f[0],h=f[1],b=(0,r.useContext)(v).setFieldValue,y=(t="/",{parse:function(n){var r=n.split(t),i=new Date(null);return e.forEach((function(e,t){switch(e){case"d":i.setDate(parseInt(r[t]));break;case"m":i.setMonth(parseInt(r[t])-1);break;case"Y":i.setFullYear(parseInt(r[t]))}})),i},format:function(n){if(null===n)return"";if(i=n,null!=(a=Date)&&"undefined"!=typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](i):i instanceof a){var r=[];return e.forEach((function(e,t){switch(e){case"d":r[t]=n.getDate();break;case"m":r[t]=n.getMonth()+1;break;case"Y":r[t]=n.getFullYear()}})),r.join(t)}return n;var i,a},placeHolder:(e=["d","m","Y"]).map((function(e){return"Y"===e?"YYYY":e+e})).join(t),dateFormat:e.join(t)}),w=y.format,E=y.placeHolder,x=y.dateFormat,k=new Date;return i().createElement("div",{className:ge.halfWidthInDesktopView},i().createElement("h4",{className:ge.productiveHeading02Light},n("birthFieldLabelText","Birth")),i().createElement("div",{className:ge.dobField},i().createElement("div",{className:ge.dobContentSwitcherLabel},i().createElement("span",{className:ge.label01},n("dobToggleLabelText","Date of Birth Known?"))),i().createElement(o.GHR,{onChange:function(e){b("birthdateEstimated","unknown"===e.name),b("birthdate",""),b("yearsEstimated",""),b("monthsEstimated","")}},i().createElement(o.rsf,{name:"known",text:n("yes","Yes")}),i().createElement(o.rsf,{name:"unknown",text:n("no","No")}))),a?i().createElement("div",{className:ge.dobField},i().createElement(o.Mtg,{dateFormat:x,datePickerType:"single",onChange:function(e){var t=lt(e,1)[0];b("birthdate",t)},maxDate:w(k)},i().createElement(o.aj6,ot({id:"birthdate"},s,{placeholder:E,labelText:n("dateOfBirthLabelText","Date of Birth"),invalid:!(!c.touched||!c.error),invalidText:c.error&&n(c.error),value:w(s.value)})))):i().createElement("div",{className:ge.grid},i().createElement(o.oil,{id:"yearsEstimated",type:"number",name:_.name,light:!0,onChange:function(e){var t=+e.target.value;!isNaN(t)&&t<140&&t>=0&&(b("yearsEstimated",t),b("birthdate",st(t,h.value)))},labelText:n("estimatedYearsLabelText","Estimated Years"),invalid:!(!p.touched||!p.error),invalidText:p.error&&n(p.error),value:_.value,min:0,required:!0}),i().createElement(o.oil,{id:"monthsEstimated",type:"number",name:g.name,light:!0,onChange:function(e){var t=+e.target.value;!isNaN(t)&&t<=11&&t>=0&&(b("monthsEstimated",t),b("birthdate",st(p.value,t)))},labelText:n("estimatedMonthsLabelText","Estimated Months"),invalid:!(!h.touched||!h.error),invalidText:h.error&&n(h.error),value:g.value,min:0})))};function ut(){return ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(this,arguments)}var _t=function(e){var t=e.fieldDefinition,n=(0,d.useTranslation)().t;return i().createElement("div",{className:"".concat(ge.customField," ").concat(ge.halfWidthInDesktopView)},i().createElement(m.gN,{name:t.id},(function(e){var r=e.field,a=e.form;return a.touched,a.errors,e.meta,i().createElement(de,ut({id:t.id,labelText:n("".concat(t.label),"".concat(t.label))},r))})))},dt=n(2303);function mt(e){var t,n="string"==typeof e&&""!==e,r=(0,dt.Z)(n?"/ws/rest/v1/concept/".concat(e):null,l.openmrsFetch),i=r.data,a=r.error;return a&&(0,l.showToast)({title:a.name,description:a.message,kind:"error"}),{data:null==i||null===(t=i.data)||void 0===t?void 0:t.answers,isLoading:!i&&!a}}function pt(){return pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pt.apply(this,arguments)}function ft(e){var t=e.fieldDefinition,n=function(e){var t="string"==typeof e&&""!==e,n=(0,dt.Z)(t?"/ws/rest/v1/concept/".concat(e):null,l.openmrsFetch),r=n.data,i=n.error;return i&&(0,l.showToast)({title:i.name,description:i.message,kind:"error"}),{data:null==r?void 0:r.data,isLoading:!r&&!i}}(t.uuid),r=n.data,a=n.isLoading;if(!(0,l.useConfig)().registrationObs.encounterTypeUuid)return console.error("The registration form has been configured to have obs fields, but no registration encounter type has been configured. Obs fields will not be displayed."),null;if(a)return null;switch(r.datatype.display){case"Text":return i().createElement(gt,{concept:r,validationRegex:t.validation.matches,label:t.label});case"Numeric":return i().createElement(ht,{concept:r,label:t.label});case"Coded":return i().createElement(vt,{concept:r,answerConceptSetUuid:t.answerConceptSetUuid,label:t.label});default:return i().createElement(o.K0D,{kind:"error",title:"Error"},'Concept has unknown datatype "',r.datatype.display,'"')}}function gt(e){var t=e.concept,n=e.validationRegex,r=e.label,a=(0,d.useTranslation)().t,o="obs.".concat(t.uuid);return i().createElement("div",{className:"".concat(ge.customField," ").concat(ge.halfWidthInDesktopView)},i().createElement(m.gN,{name:o,validate:function(e){if(e&&n&&""!==n&&"string"==typeof n&&""!==e)return new RegExp(n).test(e)?void 0:a("invalidInput","Invalid Input")}},(function(e){var n=e.field,a=e.form,l=a.touched,s=a.errors;return e.meta,i().createElement(de,pt({id:o,labelText:null!=r?r:t.display,invalid:s[o]&&l[o]},n))})))}function ht(e){var t=e.concept,n=e.label,r=((0,d.useTranslation)().t,"obs.".concat(t.uuid));return i().createElement("div",{className:"".concat(ge.customField," ").concat(ge.halfWidthInDesktopView)},i().createElement(m.gN,{name:r},(function(e){var a=e.field,o=e.form,l=o.touched,s=o.errors;return e.meta,i().createElement(de,pt({id:r,labelText:null!=n?n:t.display,invalid:s[r]&&l[r],type:"number"},a))})))}function vt(e){var t,n=e.concept,r=e.answerConceptSetUuid,a=e.label,s=(0,l.useConfig)(),c=mt(null!=r?r:n.uuid),u=c.data,_=c.isLoading,d="obs.".concat(n.uuid),p=null==s||null===(t=s.fieldDefinitions)||void 0===t?void 0:t.filter((function(e){return"obs"===e.type&&e.uuid===n.uuid}))[0];return i().createElement("div",{className:"".concat(ge.customField," ").concat(ge.halfWidthInDesktopView)},_?null:i().createElement(m.gN,{name:d},(function(e){var t,r=e.field,l=e.form,s=l.touched,c=l.errors;return e.meta,(null==p||null===(t=p.customConceptAnswers)||void 0===t?void 0:t.length)?i().createElement(o.PhF,pt({id:d,name:d,labelText:null!=a?a:null==n?void 0:n.display,light:!0,invalid:c[d]&&s[d]},r),i().createElement(o.QlF,{key:"no-answer-select-item-".concat(d),value:"",text:""}),null==p?void 0:p.customConceptAnswers.map((function(e){return i().createElement(o.QlF,{key:e.uuid,value:e.uuid,text:e.label})}))):i().createElement(o.mh4,null,i().createElement(o.PhF,pt({id:d,name:d,labelText:null!=a?a:null==n?void 0:n.display,invalid:c[d]&&s[d]},r),i().createElement(o.QlF,{key:"no-answer-select-item-".concat(d),value:"",text:""}),u.map((function(e){return i().createElement(o.QlF,{key:e.uuid,value:e.uuid,text:e.display})}))))})))}function bt(e){var t=e.personAttributeType,n=e.answerConceptSetUuid,r=e.label,a=mt(n),l=a.data,s=a.isLoading;return i().createElement("div",{className:"".concat(ge.customField," ").concat(ge.halfWidthInDesktopView)},!s&&(null==l?void 0:l.length)?i().createElement(o.mh4,null,i().createElement(o.PhF,{id:"person-attribute-".concat(t.uuid),name:"attributes.".concat(t.uuid),labelText:null!=r?r:null==t?void 0:t.display},i().createElement(o.QlF,{value:"",text:""}),l.map((function(e){return i().createElement(o.QlF,{key:e.uuid,value:e.uuid,text:e.display})})))):i().createElement(de,{id:"person-attribute-".concat(t.uuid),labelText:null!=r?r:null==t?void 0:t.display,name:"attributes.".concat(t.uuid)}))}function yt(){return yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yt.apply(this,arguments)}function wt(e){var t=e.personAttributeType,n=e.validationRegex,r=e.label,a=(0,d.useTranslation)().t,o="attributes.".concat(t.uuid);return i().createElement("div",{className:"".concat(ge.customField," ").concat(ge.halfWidthInDesktopView)},i().createElement(m.gN,{name:o,validate:function(e){if(e&&n&&""!==n&&"string"==typeof n&&""!==e)return new RegExp(n).test(e)?void 0:a("invalidInput","Invalid Input")}},(function(e){var n=e.field,a=e.form,l=a.touched,s=a.errors;return e.meta,i().createElement(de,yt({id:"person-attribute-".concat(t.uuid),labelText:null!=r?r:null==t?void 0:t.display,invalid:s[o]&&l[o]},n))})))}function Et(e){var t=e.fieldDefinition,n=function(e){var t=(0,dt.Z)("/ws/rest/v1/personattributetype/".concat(e),l.openmrsFetch),n=t.data,r=t.error;return r&&(0,l.showToast)({title:r.name,description:r.message,kind:"error"}),{data:null==n?void 0:n.data,isLoading:!n&&!r}}(t.uuid),r=n.data;if(n.isLoading)return null;switch(r.format){case"java.lang.String":return i().createElement(wt,{personAttributeType:r,validationRegex:t.validation.matches,label:t.label});case"org.openmrs.Concept":return i().createElement(bt,{personAttributeType:r,answerConceptSetUuid:t.answerConceptSetUuid,label:t.label});default:return i().createElement(o.K0D,{kind:"error",title:"Error"},'Patient attribute type has unknown format "',r.format,'"')}}function xt(e){var t=e.name,n=(0,l.useConfig)().fieldDefinitions.filter((function(e){return e.id==t}))[0];return"person attribute"===n.type?i().createElement(Et,{fieldDefinition:n}):"obs"===n.type?i().createElement(ft,{fieldDefinition:n}):"address"===n.type?i().createElement(_t,{fieldDefinition:n}):i().createElement("div",null,"Error: Unknown field type ",n.type)}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tt(){return Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tt.apply(this,arguments)}function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ot=function(e){var t,n=e.name,a=e.labelText,s=e.placeholder,c=e.setSelectedValue,u=e.selected,_=e.textFieldName,p=(0,d.useTranslation)().t,f=St((0,m.U$)(n),3),g=f[0],h=(f[1],f[2]),v=St((0,r.useState)([]),2),b=v[0],y=v[1],w=St((0,r.useState)(),2),E=w[0],x=w[1],k=h.setValue;return E?i().createElement("span",null,p("".concat(E.message))):i().createElement("div",{style:{marginBottom:"1rem"}},i().createElement(o.mh4,null,i().createElement(o.CtY,Tt({id:n,onInputChange:function(e){var t,n,r,i;""==(t=e)||(n=_.replace(" ",""),r=u,i=t,(0,l.openmrsFetch)("".concat("/module/addresshierarchy/ajax/getPossibleAddressHierarchyEntriesWithParents.form","?addressField=").concat(n,"&limit=20&searchString=").concat(i,"&parentUuid=").concat(r),{method:"GET"})).then((function(e){y(e.data.map((function(e){return{id:e.uuid,text:e.name}})))})).catch((function(e){x(e)})),k(e)},items:b,itemToString:function(e){return null!==(t=null==e?void 0:e.text)&&void 0!==t?t:""}},g,{onChange:function(e){Boolean(e.selectedItem)?(c(e.selectedItem.id),k(e.selectedItem.text)):(c(void 0),k(void 0))},placeholder:s,titleText:a,light:!0}))))},Nt=n(5671),It={};It.styleTagTransform=A(),It.setAttributes=I(),It.insert=O().bind(null,"head"),It.domAPI=T(),It.insertStyleElement=j(),x()(Nt.Z,It);const Ct=Nt.Z&&Nt.Z.locals?Nt.Z.locals:void 0;function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Pt=function(e){var t,n,a=e.addressLayout,l=(0,d.useTranslation)().t,s=(0,r.useRef)(null),c=(0,r.useRef)(null),u=(t=(0,r.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=u[0],p=u[1],f=(0,y.f$)(_),g=f.addresses,h=f.isLoading,v=f.error,b=(0,m.u6)().setFieldValue,w=function(e){c.current&&!c.current.contains(e.target)&&p("")};return(0,r.useEffect)((function(){return document.addEventListener("mousedown",w),function(){document.removeEventListener("mousedown",w)}}),[c]),i().createElement("div",{className:Ct.autocomplete,ref:c,style:{marginBottom:"1rem"}},i().createElement(o.olm,{onChange:function(e){p(e.target.value)},labelText:l("searchAddress","Search address"),placeholder:l("searchAddress","Search address"),ref:s,helperText:_?h?l("loadingResults","Loading results"):v?v.message:0===(null==g?void 0:g.length)?l("noResultsFound","No results found"):null:null,value:_}),g.length>0&&i().createElement("ul",{className:Ct.suggestions},g.map((function(e,t){return i().createElement("li",{key:t,onClick:function(t){return function(e){if(e){var t=e.split(", ");a.map((function(e,n){b("address.".concat(e.name),t[n])})),p("")}}(e)}},e)}))))};function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e){return(new DOMParser).parseFromString(e,"text/xml")}function Bt(e,t){var n=t.getElementsByTagName(e)[0];return Ft(n?n.outerHTML:"")}var Lt=function(){var e=Dt((0,r.useState)(""),2),t=e[0],n=e[1],a=Dt((0,r.useState)([]),2),c=a[0],u=a[1],_=(0,d.useTranslation)().t,m=(0,r.useContext)(s.Cg).addressTemplate,p=null==m?void 0:m.results[0].value,f=function(e){n(e)},g=(0,l.useConfig)().fieldConfigurations.address.useAddressHierarchy,h=g.enabled,v=g.useQuickSearch,b=g.searchAddressByLevel;return(0,l.useLayoutType)(),(0,r.useEffect)((function(){var e=Ft(p),t=Bt("elementdefaults",e),n=Bt("nameMappings",e),r=Array.from(n.getElementsByTagName("property")).length>0?n.getElementsByTagName("property"):n.getElementsByTagName("entry"),i=Array.prototype.map.call(r,(function(e){var n,r,i=null!==(n=e.getAttribute("name"))&&void 0!==n?n:e.getElementsByTagName("string")[0].innerHTML,a=(null!==(r=e.getAttribute("value"))&&void 0!==r||e.getElementsByTagName("string")[1].innerHTML,function(e,t){var n=t.getElementsByName(e)[0];return n?n.getAttribute("value"):null}(i,t));return{id:i,name:i,value:a}}));u(i)}),[_,p]),m?i().createElement("div",null,i().createElement("h4",{className:ge.productiveHeading02Light},_("addressHeader","Address")),i().createElement("div",{style:{paddingBottom:"5%"}},h?i().createElement(i().Fragment,null,v&&i().createElement(Pt,{addressLayout:c}),c.map((function(e,n){return b?i().createElement(Ot,{key:"combo_input_".concat(n),textFieldName:e.name,name:"address.".concat(e.name),labelText:_(e.name),id:e.name,setSelectedValue:f,selected:t}):i().createElement(de,{key:"combo_input_".concat(n),name:"address.".concat(e.name),labelText:_(e.name),id:e.name,setSelectedValue:f,selected:t})}))):c.map((function(e,n){return i().createElement(de,{key:"combo_input_".concat(n),name:"address.".concat(e.name),labelText:_(e.name),id:e.name,setSelectedValue:f,selected:t})})))):i().createElement("div",null,i().createElement("h4",{className:ge.productiveHeading02Light},_("addressHeader","Address")),i().createElement(o.N2B,null))};function Ut(e){var t=e.name,n=(0,l.useConfig)();if(!oe.X8.includes(t)&&!n.fieldDefinitions.some((function(e){return e.id==t})))return(0,l.reportError)("Invalid field name '".concat(t,"'. Valid options are '").concat(n.fieldDefinitions.map((function(e){return e.id})).concat(oe.X8).join("', '"),"'.")),null;switch(t){case"name":return i().createElement(we,null);case"gender":return i().createElement(xe,null);case"dob":return i().createElement(ct,null);case"address":return i().createElement(Lt,null);case"id":return i().createElement(it,null);case"phone & email":return i().createElement(he,null);default:return i().createElement(xt,{name:t})}}var zt=function(e){var t=e.sectionDefinition;return i().createElement("section",{"aria-label":"".concat(t.name," Section")},t.fields.map((function(e){return i().createElement(Ut,{key:"".concat(t.name,"-").concat(e),name:e})})))};function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zt(){return Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zt.apply(this,arguments)}function Rt(e,t){if(e){if("string"==typeof e)return Vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vt(e,t):void 0}}var Ht=function(e){var t,n,r=e.name,a=e.options,l=e.label,s=e.required,c=(t=(0,m.U$)(r),n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,n)||Rt(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],u=(0,d.useTranslation)().t,_=[i().createElement(o.QlF,{disabled:!0,hidden:!0,text:"Select ".concat(l),key:"",value:""})].concat(function(e){return function(e){if(Array.isArray(e))return Vt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a.map((function(e,t){return i().createElement(o.QlF,{text:e,value:e,key:t})})))),p=s?l:"".concat(l," (").concat(u("optional","optional"),")");return i().createElement("div",{style:{marginBottom:"1rem"}},i().createElement(o.mh4,null,i().createElement(o.PhF,Zt({id:"identifier"},c,{labelText:p}),_)))},qt=n(2936),Mt={};Mt.styleTagTransform=A(),Mt.setAttributes=I(),Mt.insert=O().bind(null,"head"),Mt.domAPI=T(),Mt.insertStyleElement=j(),x()(qt.Z,Mt);const Gt=qt.Z&&qt.Z.locals?qt.Z.locals:void 0;var Wt=function(){var e=i().useContext(v).values,t=(0,d.useTranslation)().t;return i().createElement("section",{className:Gt.formSection,"aria-label":"Death Info Section"},i().createElement("h5",{className:"omrs-type-title-5 ".concat(Gt.formSectionTitle)},"Death Info"),i().createElement("section",{className:Gt.fieldGroup},i().createElement(de,{labelText:t("isDeadInputLabel","Is Dead"),name:"isDead",id:"isDead"}),e.isDead&&i().createElement(i().Fragment,null,i().createElement(de,{labelText:t("deathDateInputLabel","Date of Death"),name:"deathDate",id:"deathDate"}),i().createElement(Ht,{options:[t("unknown","Unknown"),t("stroke","Stroke")],label:t("causeOfDeathInputLabel","Cause of Death"),name:"deathCause"}))))};function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qt=function(e){var t,n,a=e.fields,o=(t=(0,m.U$)("addNameInLocalLanguage"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],s=o[1],c=(0,r.useContext)(v).setFieldValue;return(0,r.useEffect)((function(){!l.value&&s.touched&&(c("additionalGivenName",""),c("additionalMiddleName",""),c("additionalFamilyName",""))}),[l.value,s.touched]),i().createElement("section",{className:Gt.formSection,"aria-label":"Demographics Section"},a.map((function(e){return i().createElement(Ut,{key:"demographics-".concat(e),name:e})})))},Kt=n(1662),$t={};$t.styleTagTransform=A(),$t.setAttributes=I(),$t.insert=O().bind(null,"head"),$t.domAPI=T(),$t.insertStyleElement=j(),x()(Kt.Z,$t);const Xt=Kt.Z&&Kt.Z.locals?Kt.Z.locals:void 0;function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function en(){return en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},en.apply(this,arguments)}var tn=function(e){var t,n,a=e.getDisplayValue,l=e.getFieldValue,s=e.getSearchResults,c=e.onSuggestionSelected,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["getDisplayValue","getFieldValue","getSearchResults","onSuggestionSelected"]),_=(t=(0,r.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=_[0],p=_[1],f=(0,r.useRef)(null),g=(0,r.useRef)(null),h=((0,d.useTranslation)().t,u.name),v=u.labelText;(0,r.useEffect)((function(){return document.addEventListener("mousedown",b),function(){document.removeEventListener("mousedown",b)}}),[g]);var b=function(e){g.current&&!g.current.contains(e.target)&&p([])};return i().createElement("div",{className:Xt.autocomplete,ref:g},i().createElement("label",{className:"cds--label"},v),i().createElement(o.mh4,null,i().createElement(o.olm,en({id:"autosuggest",onChange:function(e){var t=e.target.value;t?s(t).then((function(e){p(e)})):p([])},ref:f,className:Xt.autocompleteSearch},u))),m.length>0&&i().createElement("ul",{className:Xt.suggestions},m.map((function(e,t){return i().createElement("li",{key:t,onClick:function(e){return function(e){var t=a(m[e]),n=l(m[e]);f.current.value=t,c(h,n),p([])}(t)}},a(e))}))))},nn=n(138),rn={};rn.styleTagTransform=A(),rn.setAttributes=I(),rn.insert=O().bind(null,"head"),rn.domAPI=T(),rn.insertStyleElement=j(),x()(nn.Z,rn);const an=nn.Z&&nn.Z.locals?nn.Z.locals:void 0;function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ln(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cn=function(){var e,t,n=(0,r.useContext)(s.Cg).relationshipTypes,a=(e=(0,r.useState)([]),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return on(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],c=a[1],u=(0,d.useTranslation)().t;return(0,r.useEffect)((function(){if(n){var e=[];n.results.forEach((function(t){var n={display:t.aIsToB,uuid:t.uuid,direction:"aIsToB"},r={display:t.bIsToA,uuid:t.uuid,direction:"bIsToA"};n.display===r.display?e.push(n):e.push(n,r)})),c(e)}}),[n]),n?i().createElement("section",{"aria-label":"Relationships Section"},i().createElement(m.F2,{name:"relationships"},(function(e){var t=e.push,n=e.remove,r=e.form.values.relationships;return i().createElement("div",null,r&&r.length>0?r.map((function(e,t){return i().createElement("div",{key:t,className:Gt.formSection},i().createElement(un,{relationship:e,index:t,displayRelationshipTypes:l,key:t,remove:n}))})):null,i().createElement("div",{className:an.actions},i().createElement(o.zxk,{kind:"ghost",onClick:function(){return t({relatedPersonUuid:"",action:"ADD"})}},u("addRelationshipButtonText","Add Relationship"))))}))):i().createElement("section",{"aria-label":"Relationships Section"},i().createElement(o.N2B,null))},un=function(e){var t,n,a,l,s=e.relationship,c=e.index,_=e.displayRelationshipTypes,m=e.remove,p=(0,d.useTranslation)().t,f=i().useContext(v).setFieldValue,g=!s.uuid,h=(0,r.useCallback)((function(e){var t=e.target,n=t.name,r=t.options[t.selectedIndex].value;f(n,r),(null==s?void 0:s.action)||f("relationships[".concat(c,"].action"),"UPDATE")}),[]),b=(0,r.useCallback)((function(e,t){f(e,t)}),[]),w=(t=u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new AbortController,e.next=3,(0,y.M8)(t,n);case 3:return r=e.sent,e.abrupt("return",r.data.results);case 5:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(e){ln(a,r,i,o,l,"next",e)}function l(e){ln(a,r,i,o,l,"throw",e)}o(void 0)}))},function(e){return n.apply(this,arguments)}),E=(0,r.useCallback)((function(){"ADD"===s.action?m(c):f("relationships[".concat(c,"].action"),"DELETE")}),[s,c]),x=(0,r.useCallback)((function(){var e,t;f("relationships[".concat(c,"]"),(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){sn(e,t,n[t])}))}return e}({},s),t=null!=(t={action:void 0,relationshipType:s.initialrelationshipTypeValue})?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e))}),[c]);return"DELETE"!==s.action?i().createElement("div",{className:an.relationship},i().createElement("div",{className:an.searchBox},i().createElement("div",{className:an.relationshipHeader},i().createElement("h4",{className:an.productiveHeading},null!==(a=null==s?void 0:s.relation)&&void 0!==a?a:p("relationshipPlaceholder","Relationship")),i().createElement(o.zxk,{kind:"ghost",iconDescription:p("deleteRelationshipTooltipText","Delete"),hasIconOnly:!0,onClick:E},i().createElement(qe.ZN,{size:16,className:an.trashCan}))),i().createElement("div",null,g?i().createElement(tn,{name:"relationships[".concat(c,"].relatedPersonUuid"),labelText:p("relativeFullNameLabelText","Full name"),placeholder:p("relativeNamePlaceholder","Firstname Familyname"),defaultValue:s.relatedPersonName,onSuggestionSelected:b,getSearchResults:w,getDisplayValue:function(e){return e.display},getFieldValue:function(e){return e.uuid},required:!0}):i().createElement(i().Fragment,null,i().createElement("span",{className:an.labelText},p("relativeFullNameLabelText","Full name")),i().createElement("p",{className:an.bodyShort02},s.relatedPersonName)))),i().createElement("div",{className:"".concat(an.selectRelationshipType),style:{marginBottom:"1rem"}},i().createElement(o.mh4,null,i().createElement(o.PhF,{id:"select",labelText:p("relationship","Relationship"),onChange:h,name:"relationships[".concat(c,"].relationshipType"),defaultValue:null!==(l=null==s?void 0:s.relationshipType)&&void 0!==l?l:"placeholder-item"},i().createElement(o.QlF,{disabled:!0,hidden:!0,value:"placeholder-item",text:p("relationshipToPatient","Relationship to patient")}),_.map((function(e){return i().createElement(o.QlF,{text:e.display,value:"".concat(e.uuid,"/").concat(e.direction),key:e.display})})))))):i().createElement(o.K0D,{kind:"info",title:p("relationshipRemovedText","Relationship removed"),actions:i().createElement(o.xho,{onClick:x},p("restoreRelationshipActionButton","Undo"))})};function _n(e){var t=e.sectionDefinition;switch(t.id){case"demographics":return i().createElement(Qt,{fields:t.fields});case"death":return i().createElement(Wt,null);case"relationships":return i().createElement(cn,null);default:return i().createElement(zt,{sectionDefinition:t})}}var dn=function(e){var t=e.sectionDefinition,n=e.index,r=(0,d.useTranslation)().t;return i().createElement("div",{id:t.id},i().createElement("h3",{className:ce.productiveHeading02,style:{color:"#161616"}},n+1,". ",t.name),i().createElement("span",{className:ce.label01},r("allFieldsRequiredText","All fields are required unless marked optional")),i().createElement("div",{style:{margin:"1rem 0 1rem"}},i().createElement(o.n9L,null,i().createElement(_n,{sectionDefinition:t}))))};function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pn(e){var t;return null===(t=e.split(window.getOpenmrsSpaBase()))||void 0===t?void 0:t[1]}const fn=function(e){var t,n,i=e.when,a=e.redirect,o=(0,d.useTranslation)().t,s=(0,r.useRef)(!1),c=(t=(0,r.useState)(),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mn(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],_=c[1],m=u||a,p=(0,r.useCallback)((function(e){var t=o("discardModalBody","The changes you made to this patient's details have not been saved. Discard changes?");return e.preventDefault(),e.returnValue=t,t}),[o]),f=(0,r.useCallback)((function(e){if(!e.detail.navigationIsCanceled&&!s.current){s.current=!0,e.detail.cancelNavigation();var t=(0,l.showModal)("cancel-patient-edit-modal",{onConfirm:function(){_(e.detail.newUrl),t()}},(function(){s.current=!1}))}}),[]);return(0,r.useEffect)((function(){if(i&&void 0===m)return window.addEventListener("single-spa:before-routing-event",f),window.addEventListener("beforeunload",p),function(){window.removeEventListener("beforeunload",p),window.removeEventListener("single-spa:before-routing-event",f)}}),[m,i,p,f]),(0,r.useEffect)((function(){"string"==typeof m&&(0,l.navigate)({to:"${openmrsSpaBase}/".concat(pn(m))})}),[m]),null};function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hn(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){vn(e,t,n[t])}))}return e}function yn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var En=function(e){var t,n,c=e.savePatientForm,f=e.isOffline,g=(0,r.useContext)(s.Cg),E=g.currentSession,x=g.addressTemplate,k=g.identifierTypes,T=(0,a.useLocation)().search,S=(0,l.useConfig)(),O=wn((0,r.useState)(),2),N=O[0],I=O[1],C=wn((0,r.useState)(h),2),j=C[0],P=C[1],A=(0,a.useParams)().patientUuid,D=(0,l.usePatient)(A),F=D.isLoading,B=D.patient,L=(0,d.useTranslation)().t,$=wn((0,r.useState)(null),2),X=$[0],ee=$[1],ae=wn(function(e){var t=(0,l.usePatient)(e),n=t.isLoading,i=t.patient,a=function(e){var t=!!e,n=(0,Q.ZP)(t?"/ws/rest/v1/person/".concat(e,"/attribute"):null,l.openmrsFetch),i=n.data,a=n.error,o=(0,r.useMemo)((function(){var e;return{data:null==i||null===(e=i.data)||void 0===e?void 0:e.results,isLoading:!i&&!a}}),[i,a]);return o}(e),o=a.data,s=a.isLoading,c=function(e){var t=!!e,n=(0,Q.ZP)(t?"/ws/rest/v1/patient/".concat(e,"/identifier?v=custom:(uuid,identifier,identifierType:(uuid,required,name),preferred)"):null,l.openmrsFetch),i=n.data,a=n.error,o=(0,r.useMemo)((function(){var e,t,n={};return null==i||null===(e=i.data)||void 0===e||null===(t=e.results)||void 0===t||t.forEach((function(e){n[(0,z.Z)(e.identifierType.name)]={identifierUuid:e.uuid,preferred:e.preferred,initialValue:e.identifier,identifierValue:e.identifier,identifierTypeUuid:e.identifierType.uuid,identifierName:e.identifierType.name,required:e.identifierType.required,selectedSource:null,autoGeneration:!1}})),{data:n,isLoading:!i&&!a}}),[i,a]);return o}(e),_=c.data,d=c.isLoading,m=function(e){var t=!!e,n=(0,Q.ZP)(t?"/ws/rest/v1/relationship?v=".concat(K.UO,"&person=").concat(e):null,l.openmrsFetch),i=n.data,a=n.error,o=(0,r.useMemo)((function(){var t;return{data:null==i||null===(t=i.data)||void 0===t?void 0:t.results.map((function(t){return t.personA.uuid===e?{relatedPersonName:t.personB.display,relatedPersonUuid:t.personB.uuid,relation:t.relationshipType.bIsToA,relationshipType:"".concat(t.relationshipType.uuid,"/bIsToA"),initialrelationshipTypeValue:"".concat(t.relationshipType.uuid,"/bIsToA"),uuid:t.uuid}:{relatedPersonName:t.personA.display,relatedPersonUuid:t.personA.uuid,relation:t.relationshipType.aIsToB,relationshipType:"".concat(t.relationshipType.uuid,"/aIsToB"),initialrelationshipTypeValue:"".concat(t.relationshipType.uuid,"/aIsToB"),uuid:t.uuid}})),error:a,isLoading:!i&&!a}}),[e,i,a]);return o}(e),p=m.data,f=m.isLoading,g=re((0,r.useState)({patientUuid:(0,w.Z)(),givenName:"",middleName:"",familyName:"",unidentifiedPatient:!1,additionalGivenName:"",additionalMiddleName:"",additionalFamilyName:"",addNameInLocalLanguage:!1,gender:"",birthdate:null,yearsEstimated:null,monthsEstimated:0,birthdateEstimated:!1,telephoneNumber:"",isDead:!1,deathDate:"",deathCause:"",relationships:[],identifiers:{},address:{}}),2),h=g[0],v=g[1];return(0,r.useEffect)((function(){J(u().mark((function t(){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=4;break}v(te(ne(te({},h,(o=void 0,o={},l=(a=i).name[0],s=a.name[1],o.patientUuid=a.id,o.givenName=null==l?void 0:l.given[0],o.middleName=null==l?void 0:l.given[1],o.familyName=null==l?void 0:l.family,o.unidentifiedPatient="UNKNOWN"===l.given[0]&&"unknown"===l.family||void 0,o.addNameInLocalLanguage=!!s||void 0,o.additionalGivenName=null==s?void 0:s.given[0],o.additionalMiddleName=null==s?void 0:s.given[1],o.additionalFamilyName=null==s?void 0:s.family,o.gender=(0,V.Z)(a.gender),o.birthdate=a.birthDate?new Date(a.birthDate):void 0,o.telephoneNumber=a.telecom?a.telecom[0].value:"",(a.deceasedBoolean||a.deceasedDateTime)&&(o.isDead=!0,o.deathDate=a.deceasedDateTime?a.deceasedDateTime.split("T")[0]:""),H({},o,a.identifier.map((function(e){return R({},(0,z.Z)(e.system||e.type.text),e.value)}))))),{address:G(i)}),Y(i))),t.next=12;break;case 4:if(n||!e){t.next=12;break}return t.next=7,ie(e);case 7:if((r=t.sent)._patientRegistrationData.formValues){t.next=11;break}return console.error("Found a queued offline patient registration for patient ".concat(e,", but without form values. Not using these values.")),t.abrupt("return");case 11:v(r._patientRegistrationData.formValues);case 12:case"end":return t.stop()}var a,o,l,s}),t)})))()}),[n,i,e]),(0,r.useEffect)((function(){!f&&p&&v((function(e){return ne(te({},e),{relationships:p})}))}),[f,p,v]),(0,r.useEffect)((function(){!d&&_&&v((function(e){return ne(te({},e),{identifiers:_})}))}),[d,_,v]),(0,r.useEffect)((function(){if(!s&&o){var e={};o.forEach((function(t){e[t.attributeType.uuid]=t.value})),v((function(t){return ne(te({},t),{attributes:e})}))}}),[o,v,s]),[h,v]}(A),2),le=ae[0],se=ae[1],ue=wn(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,l.usePatient)(e),i=n.isLoading,a=n.patient,o=re((0,r.useState)(t),2),s=o[0],c=o[1];return(0,r.useEffect)((function(){J(u().mark((function n(){var r,o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=4;break}c(te({},s,G(a))),n.next=10;break;case 4:if(i||!e){n.next=10;break}return n.next=7,ie(e);case 7:r=n.sent,c(null!==(o=null==r?void 0:r._patientRegistrationData.initialAddressFieldValues)&&void 0!==o?o:t);case 10:case"end":return n.stop()}}),n)})))()}),[i,a,e]),[s,c]}(A),1),_e=ue[0],de=wn(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,l.usePatient)(e),i=n.isLoading,a=n.patient,o=re((0,r.useState)(t),2),s=o[0],c=o[1];return(0,r.useEffect)((function(){if(a)c(te({},s,W(a)));else if(!i&&e){var n;ie(e).then((function(e){return c(null!==(n=null==e?void 0:e._patientRegistrationData.initialAddressFieldValues)&&void 0!==n?n:t)}))}}),[i,a,e]),[s,c]}(A),1),me=de[0],pe=null==E||null===(t=E.sessionLocation)||void 0===t?void 0:t.uuid,fe=F?void 0:!(!A||!B),ge=(0,r.useMemo)((function(){return"true"===localStorage.getItem("openmrs:devtools")&&!fe}),[fe]),he=(0,y.Uu)(null==B?void 0:B.id).data,ve=(0,r.useRef)(new b.I),be=null==S||null===(n=S.fieldDefinitions)||void 0===n?void 0:n.filter((function(e){return"address"===e.type}));(0,r.useEffect)((function(){}),[le]);var ye=(0,r.useMemo)((function(){var e;return S.sections.map((function(t){return null!==(e=S.sectionDefinitions.filter((function(e){return e.id==t}))[0])&&void 0!==e?e:oe.bs.filter((function(e){return e.id==t}))[0]})).filter((function(e){return e}))}),[S.sections,S.sectionDefinitions]);(0,r.useEffect)((function(){if(x){var e=null==x?void 0:x.results[0].value;if(!e)return;var t=function(e){var t=(new DOMParser).parseFromString(e,"text/xml"),n=t.querySelector("nameMappings").getElementsByTagName("entry"),r=Array.prototype.map.call(n,(function(e){var n=e.getElementsByTagName("string")[0].innerHTML;return{name:n,label:e.getElementsByTagName("string")[1].innerHTML,regex:q(n,"elementRegex",t)||".*",regexFormat:q(n,"elementRegexFormats",t)||""}})),i=p.Ry(r.reduce((function(e,t){return e[t.name]=p.Z_().matches(t.regex,t.regexFormat),e}),{}));return{addressFieldValues:Array.prototype.map.call(n,(function(e){return{name:e.getElementsByTagName("string")[0].innerHTML,defaultValue:""}})),addressValidationSchema:i}}(e),n=t.addressFieldValues,r=t.addressValidationSchema;if(P((function(e){return e.concat(r)})),!1===fe){var i=!0,a=!1,o=void 0;try{for(var l,s=n[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value,u=c.name,_=c.defaultValue;_e[u]||(_e[u]=_)}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}null==be||be.map((function(e){return _e[e.id]=""})),se(bn({},le,_e))}}}),[fe,x,_e]);var we,Ee,xe=(we=u().mark((function e(t,n){var r,i,a,o,s,_,d,m;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new AbortController,n.setSubmitting(!0),i=yn(bn({},t),{identifiers:(u=t.identifiers,Object.fromEntries(Object.entries(u).filter((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return r[0],void 0!==r[1].identifierValue}))))}),e.prev=3,e.next=6,c(!fe,i,me,_e,X,pe,le.identifiers,E,S,ve.current,r);case 6:(0,l.showToast)({description:fe?L("updationSuccessToastDescription","The patient's information has been successfully updated"):L("registrationSuccessToastDescription","The patient can now be found by searching for them using their name or ID number"),title:fe?L("updationSuccessToastTitle","Patient Details Updated"):L("registrationSuccessToastTitle","New Patient Created"),kind:"success"}),a=new URLSearchParams(T).get("afterUrl"),o=(0,l.interpolateUrl)(a||S.links.submitButton,{patientUuid:t.patientUuid}),I(o),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),(null===(s=e.t0.responseBody)||void 0===s||null===(_=s.error)||void 0===_?void 0:_.globalErrors)?e.t0.responseBody.error.globalErrors.forEach((function(e){(0,l.showToast)({description:e.message})})):(null===(d=e.t0.responseBody)||void 0===d||null===(m=d.error)||void 0===m?void 0:m.message)?(0,l.showToast)({description:e.t0.responseBody.error.message}):(0,l.createErrorHandler)()(e.t0),n.setSubmitting(!1);case 17:case"end":return e.stop()}var u}),e,null,[[3,12]])})),Ee=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=we.apply(e,t);function a(e){hn(i,n,r,a,o,"next",e)}function o(e){hn(i,n,r,a,o,"throw",e)}a(void 0)}))},function(e,t){return Ee.apply(this,arguments)}),ke=function(e){return i().createElement("div",null,i().createElement("p",null,L("fieldErrorTitleMessage","The following fields have errors:")),i().createElement("ul",{style:{listStyle:"inside"}},Object.keys(e).map((function(e,t){return i().createElement("li",{key:t},L("".concat(e,"LabelText"),e))}))))};return i().createElement(m.J9,{enableReinitialize:!0,initialValues:le,validationSchema:j,onSubmit:xe},(function(e){return i().createElement(m.l0,{className:ce.form},i().createElement(fn,{when:e.dirty,redirect:N}),i().createElement("div",{className:ce.formContainer},i().createElement("div",null,i().createElement("div",{className:ce.stickyColumn},i().createElement("h4",null,fe?L("edit","Edit"):L("createNew","Create New")," ",L("patient","Patient")),ge&&i().createElement(U,{setValues:e.setValues}),i().createElement("p",{className:ce.label01},L("jumpTo","Jump to")),ye.map((function(e){return i().createElement("div",{className:"".concat(ce.space05," ").concat(ce.touchTarget),key:e.name},i().createElement(o.rUS,{className:ce.linkName,onClick:function(){return t=e.id,void document.getElementById(t).scrollIntoView({behavior:"smooth",block:"center",inline:"center"});var t}},i().createElement(_.Kc,{size:16})," ",e.name))})),i().createElement(o.zxk,{className:ce.submitButton,type:"submit",onClick:function(){return e.validateForm().then((function(e){return function(e){e&&"object"==typeof e&&Object.keys(e).length&&(0,l.showToast)({description:ke(e),title:L("incompleteForm","Incomplete form"),kind:"warning"})}(e)}))},disabled:!E||!k},fe?L("updatePatient","Update Patient"):L("registerPatient","Register Patient")),i().createElement(o.zxk,{className:ce.cancelButton,kind:"tertiary",onClick:M},L("cancel","Cancel")))),i().createElement("div",{className:ce.infoGrid},i().createElement(v.Provider,{value:{identifierTypes:k,validationSchema:j,setValidationSchema:P,values:e.values,inEditMode:fe,setFieldValue:e.setFieldValue,setCapturePhotoProps:ee,currentPhoto:null==he?void 0:he.imageSrc,isOffline:f,initialFormValues:e.initialValues}},ye.map((function(e,t){return i().createElement(dn,{key:"registration-section-".concat(e.id),sectionDefinition:e,index:t})}))))))}))},xn=n(4954),kn={};kn.styleTagTransform=A(),kn.setAttributes=I(),kn.insert=O().bind(null,"head"),kn.domAPI=T(),kn.insertStyleElement=j(),x()(xn.Z,kn);const Tn=xn.Z&&xn.Z.locals?xn.Z.locals:void 0;function Sn(e){var t=e.savePatientForm,n=e.isOffline,r=(0,l.useSession)(),c=(0,Q.ZP)("patientRegistrationAddressTemplate",s.Te).data,u=(0,Q.ZP)("patientRegistrationRelationshipTypes",s.mt).data,_=(0,Q.ZP)("patientRegistrationPatientIdentifiers",s.St).data;return i().createElement("main",{className:"omrs-main-content ".concat(Tn.root)},i().createElement(o.rjZ,{className:Tn.grid},i().createElement(o.X2j,null,i().createElement(l.ExtensionSlot,{extensionSlotName:"breadcrumbs-slot"})),i().createElement(s.Cg.Provider,{value:{addressTemplate:c,relationshipTypes:u,identifierTypes:_,currentSession:r}},i().createElement(a.BrowserRouter,{basename:"".concat(window.getOpenmrsSpaBase(),"patient-registration")},i().createElement(a.Routes,null,i().createElement(a.Route,{path:"",element:i().createElement(En,{savePatientForm:t,isOffline:n})}),i().createElement(a.Route,{path:"/patient/:patientUuid/edit",element:i().createElement(En,{savePatientForm:t,isOffline:n})}))))))}}}]);