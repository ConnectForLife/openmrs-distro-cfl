"use strict";(self.webpackChunk_openmrs_esm_active_visits_app=self.webpackChunk_openmrs_esm_active_visits_app||[]).push([[184],{3002:(e,t,i)=>{i.d(t,{Z:()=>a});var r=i(2609),n=i.n(r)()((function(e){return e[1]}));n.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-active-visits__visit-detail-overview__productiveHeading01___7mAw1{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-active-visits__visit-detail-overview__productiveHeading02___5-t\\+w{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0)}.-esm-active-visits__visit-detail-overview__bodyLong01___3DCLv{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-active-visits__visit-detail-overview__caption01___yCfJc{font-size:var(--cds-legal-01-font-size, 0.75rem);font-weight:var(--cds-legal-01-font-weight, 400);line-height:var(--cds-legal-01-line-height, 1.33333);letter-spacing:var(--cds-legal-01-letter-spacing, 0.32px)}.-esm-active-visits__visit-detail-overview__bodyShort02___fuXhU{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-active-visits__visit-detail-overview__text02___hhPqo{color:#525252}.-esm-active-visits__visit-detail-overview__text01___8ug6t{color:#161616}.-esm-active-visits__visit-detail-overview__container___mkGcD{display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.-esm-active-visits__visit-detail-overview__encounterHeading___2xolA{text-align:left;width:100%;margin:0 1rem 1.3125rem;color:#161616}.-esm-active-visits__visit-detail-overview__visitsDetailWidgetContainer___ZvlEp{background-color:#fff;width:100%;border:1px solid #e0e0e0}.-esm-active-visits__visit-detail-overview__visitsDetailHeaderContainer___fRjET{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0 .75rem 1rem;background-color:#fff}.-esm-active-visits__visit-detail-overview__visitsDetailHeaderContainer___fRjET>h4:after{content:"";display:block;width:2rem;padding-top:.188rem;border-bottom:.375rem solid #007d79}.-esm-active-visits__visit-detail-overview__contentSwitcher___tCYpp .cds--content-switcher-btn{width:10rem}.-esm-active-visits__visit-detail-overview__customTable___8OnwU tr[data-parent-row]:nth-child(odd) td{background-color:#fff}.-esm-active-visits__visit-detail-overview__customTable___8OnwU tbody tr[data-parent-row]:nth-child(even) td{background-color:#f4f4f4}.-esm-active-visits__visit-detail-overview__encounterEmptyState___QNHmv{text-align:center;margin:0 1rem 1rem 1rem}.-esm-active-visits__visit-detail-overview__expandedRow___o7vyJ>td{padding:inherit !important}.-esm-active-visits__visit-detail-overview__expandedRow___o7vyJ>td>div{max-height:max-content !important}.-esm-active-visits__visit-detail-overview__observation___Eku\\+V{display:grid;grid-template-columns:max-content auto;grid-gap:.5rem;margin:.5rem 0}.-esm-active-visits__visit-detail-overview__observation___Eku\\+V>span{align-self:center}.-esm-active-visits__visit-detail-overview__summaryContainer___6ueAF{background-color:#fff;display:grid;grid-template-columns:max-content auto;padding:1rem 0rem;margin:0 1rem}.-esm-active-visits__visit-detail-overview__summaryContainer___6ueAF .cds--tabs{max-height:fit-content}.-esm-active-visits__visit-detail-overview__flexSections___K3zUQ{display:flex}.-esm-active-visits__visit-detail-overview__verticalTabs___8bwHK{margin:1rem 0;scroll-behavior:smooth}.-esm-active-visits__visit-detail-overview__verticalTabs___8bwHK>ul{flex-direction:column !important}.-esm-active-visits__visit-detail-overview__verticalTabs___8bwHK .cds--tabs--scrollable .cds--tabs--scrollable__nav-item + .cds--tabs--scrollable__nav-item{margin-left:0rem}.-esm-active-visits__visit-detail-overview__verticalTabs___8bwHK .cds--tabs--scrollable .cds--tabs--scrollable__nav-link{border-bottom:0 !important;border-left:2px solid #c6c6c6}.-esm-active-visits__visit-detail-overview__tab___ZEwef{outline:0;outline-offset:0}.-esm-active-visits__visit-detail-overview__tab___ZEwef:active,.-esm-active-visits__visit-detail-overview__tab___ZEwef:focus{outline:2px solid var(--brand-03) !important}.-esm-active-visits__visit-detail-overview__tab___ZEwef[aria-selected=true]{border-left:3px solid var(--brand-03);border-bottom:none;font-weight:600;margin-left:0rem !important}.-esm-active-visits__visit-detail-overview__tab___ZEwef[aria-selected=false]{border-bottom:none;border-left:2px solid #e0e0e0;margin-left:0rem !important}.-esm-active-visits__visit-detail-overview__tablist___l7Wdv .cds--tab--list{flex-direction:column;max-height:fit-content;overflow-x:visible}.-esm-active-visits__visit-detail-overview__tablist___l7Wdv>button .cds--tabs .cds--tabs__nav-link{border-bottom:none}.-esm-active-visits__visit-detail-overview__medicationBlock___4eXwy{background-color:#f4f4f4;padding:.625rem 6.75rem .75rem 1.063rem;margin-top:1.5rem;width:100% !important}.-esm-active-visits__visit-detail-overview__medicationBlock___4eXwy:first-child{margin-top:0}.-esm-active-visits__visit-detail-overview__diagnosisLabel___wvbjE{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:5px}.-esm-active-visits__visit-detail-overview__diagnosesList___Q28KT{display:flex;flex-flow:row wrap;padding-bottom:.5rem;margin:0 1rem;border-bottom:1px solid #e0e0e0}.-esm-active-visits__visit-detail-overview__testSummaryExtension___y9BEk p{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px);color:#525252}',""]),n.locals={productiveHeading01:"-esm-active-visits__visit-detail-overview__productiveHeading01___7mAw1",productiveHeading02:"-esm-active-visits__visit-detail-overview__productiveHeading02___5-t+w",bodyLong01:"-esm-active-visits__visit-detail-overview__bodyLong01___3DCLv",caption01:"-esm-active-visits__visit-detail-overview__caption01___yCfJc",bodyShort02:"-esm-active-visits__visit-detail-overview__bodyShort02___fuXhU",text02:"-esm-active-visits__visit-detail-overview__text02___hhPqo",text01:"-esm-active-visits__visit-detail-overview__text01___8ug6t",container:"-esm-active-visits__visit-detail-overview__container___mkGcD",encounterHeading:"-esm-active-visits__visit-detail-overview__encounterHeading___2xolA",visitsDetailWidgetContainer:"-esm-active-visits__visit-detail-overview__visitsDetailWidgetContainer___ZvlEp",visitsDetailHeaderContainer:"-esm-active-visits__visit-detail-overview__visitsDetailHeaderContainer___fRjET",contentSwitcher:"-esm-active-visits__visit-detail-overview__contentSwitcher___tCYpp",customTable:"-esm-active-visits__visit-detail-overview__customTable___8OnwU",encounterEmptyState:"-esm-active-visits__visit-detail-overview__encounterEmptyState___QNHmv",expandedRow:"-esm-active-visits__visit-detail-overview__expandedRow___o7vyJ",observation:"-esm-active-visits__visit-detail-overview__observation___Eku+V",summaryContainer:"-esm-active-visits__visit-detail-overview__summaryContainer___6ueAF",flexSections:"-esm-active-visits__visit-detail-overview__flexSections___K3zUQ",verticalTabs:"-esm-active-visits__visit-detail-overview__verticalTabs___8bwHK",tab:"-esm-active-visits__visit-detail-overview__tab___ZEwef",tablist:"-esm-active-visits__visit-detail-overview__tablist___l7Wdv",medicationBlock:"-esm-active-visits__visit-detail-overview__medicationBlock___4eXwy",diagnosisLabel:"-esm-active-visits__visit-detail-overview__diagnosisLabel___wvbjE",diagnosesList:"-esm-active-visits__visit-detail-overview__diagnosesList___Q28KT",testSummaryExtension:"-esm-active-visits__visit-detail-overview__testSummaryExtension___y9BEk"};const a=n},215:(e,t,i)=>{i.r(t),i.d(t,{default:()=>me});var r=i(5206),n=i.n(r),a=i(4924),o=i(6124),s=i(906),l=i(9857),c=i(6062),d=i.n(c),v=i(4036),u=i.n(v),_=i(6793),m=i.n(_),f=i(7892),p=i.n(f),y=i(1173),g=i.n(y),b=i(2464),h=i.n(b),w=i(3002),E={};E.styleTagTransform=h(),E.setAttributes=p(),E.insert=m().bind(null,"head"),E.domAPI=u(),E.insertStyleElement=g(),d()(w.Z,E);const x=w.Z&&w.Z.locals?w.Z.locals:void 0;function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}const T=function(e){var t=e.observations,i=(0,a.useTranslation)().t,s=(0,r.useMemo)((function(){return t&&t.map((function(e){var t,i,r=(t=e.display.split(":"),i=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,a=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw n}}return a}}(t,i)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?S(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{question:r[0],answer:r[1]}}))}),[t]);return s?s.length>0?n().createElement("div",{className:x.observation},s.map((function(e,t){return n().createElement(n().Fragment,{key:t},n().createElement("span",{className:x.caption01},e.question,": "),n().createElement("span",{className:"".concat(x.bodyShort02," ").concat(x.text01)},e.answer))}))):n().createElement("p",{className:x.caption01},i("noObservationsFound","No observations found")):n().createElement(o.N2B,null)};function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},N.apply(this,arguments)}const j=function(e){var t,i,l=e.encounters,c=e.visitUuid,d=(0,a.useTranslation)().t,v=(0,s.useLayoutType)(),u=(t=(0,r.useState)(0),i=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,a=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw n}}return a}}(t,i)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?A(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=u[0],m=u[1],f=(0,r.useRef)(null),p=(0,r.useMemo)((function(){return[{id:1,header:d("time","Time"),key:"time"},{id:2,header:d("encounterType","Encounter Type"),key:"encounterType"},{id:3,header:d("provider","Provider"),key:"provider"}]}),[d]);return(0,r.useEffect)((function(){var e;m(null==f||null===(e=f.current)||void 0===e?void 0:e.clientWidth);var t=function(){var e;return m(null==f||null===(e=f.current)||void 0===e?void 0:e.clientWidth)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),0!==l.length?n().createElement(o.wQF,{rows:l,headers:p,size:(0,s.isDesktop)(v)?"sm":"md"},(function(e){var t=e.rows,i=e.headers,r=e.getHeaderProps,a=e.getRowProps,d=e.getTableProps;return n().createElement(o.xJi,null,n().createElement(o.iA_,N({className:x.customTable},d()),n().createElement(o.ssF,null,n().createElement(o.SCH,null,n().createElement(o.MOD,null),i.map((function(e,t){return 0===t?n().createElement(o.xDH,N({id:"header_".concat(c,"_").concat(t),ref:f},r({header:e})),e.header):n().createElement(o.xDH,N({id:"header_".concat(c,"_").concat(t)},r({header:e})),e.header)})))),n().createElement(o.RMI,null,t.map((function(e,t){return n().createElement(n().Fragment,{key:e.id},n().createElement(o.RcE,N({},a({row:e})),e.cells.map((function(e){return n().createElement(o.pj1,{key:e.id},e.value)}))),e.isExpanded&&n().createElement(o.WdL,{className:x.expandedRow,style:{paddingLeft:(0,s.isDesktop)(v)?"3rem":"4rem"},colSpan:i.length+2},n().createElement("div",{style:{marginLeft:_}},n().createElement(T,{observations:l[t].obs}))))})))))})):n().createElement("div",{className:x.encounterEmptyState},n().createElement("h4",{className:x.productiveHeading02},d("noEncountersFound","No encounters found")),n().createElement("p",{className:"".concat(x.bodyLong01," ").concat(x.text02)},d("thereIsNoInformationToDisplayHere","There is no information to display here")))},k=function(e){var t=e.notes,i=(0,a.useTranslation)().t;return n().createElement(n().Fragment,null,t.length>0?t.map((function(e,t){return n().createElement(n().Fragment,{key:t},n().createElement("p",{className:"".concat(x.medicationBlock," ").concat(x.bodyLong01)},e.note),n().createElement("p",{className:x.caption01,style:{color:"#525252"}},e.time," · ",e.provider.name," · ",e.provider.role))})):n().createElement("p",{className:"".concat(x.bodyLong01," ").concat(x.text02)},i("noNotesFound","No notes found")))},D="object"==typeof global&&global&&global.Object===Object&&global;var C="object"==typeof self&&self&&self.Object===Object&&self;const L=(D||C||Function("return this")()).Symbol,U=Array.isArray;var O=Object.prototype,H=O.hasOwnProperty,I=O.toString,P=L?L.toStringTag:void 0;var R=Object.prototype.toString;var z=L?L.toStringTag:void 0;const F=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":z&&z in Object(e)?function(e){var t=H.call(e,P),i=e[P];try{e[P]=void 0;var r=!0}catch(e){}var n=I.call(e);return r&&(t?e[P]=i:delete e[P]),n}(e):function(e){return R.call(e)}(e)};var M=L?L.prototype:void 0,Z=M?M.toString:void 0;const K=function e(t){if("string"==typeof t)return t;if(U(t))return function(e,t){for(var i=-1,r=null==e?0:e.length,n=Array(r);++i<r;)n[i]=t(e[i],i,e);return n}(t,e)+"";if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==F(e)}(t))return Z?Z.call(t):"";var i=t+"";return"0"==i&&1/t==-1/0?"-0":i},B=function(e){return null==e?"":K(e)},V=function(e,t,i){var r=e.length;return i=void 0===i?r:i,!t&&i>=r?e:function(e,t,i){var r=-1,n=e.length;t<0&&(t=-t>n?0:n+t),(i=i>n?n:i)<0&&(i+=n),n=t>i?0:i-t>>>0,t>>>=0;for(var a=Array(n);++r<n;)a[r]=e[r+t];return a}(e,t,i)};var W=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const Q=function(e){return W.test(e)};var q="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",J="\\ud83c[\\udffb-\\udfff]",X="[^\\ud800-\\udfff]",$="(?:\\ud83c[\\udde6-\\uddff]){2}",G="[\\ud800-\\udbff][\\udc00-\\udfff]",Y="(?:"+q+"|"+J+")?",ee="[\\ufe0e\\ufe0f]?",te=ee+Y+"(?:\\u200d(?:"+[X,$,G].join("|")+")"+ee+Y+")*",ie="(?:"+[X+q+"?",q,$,G,"[\\ud800-\\udfff]"].join("|")+")",re=RegExp(J+"(?="+J+")|"+ie+te,"g");const ne=function(e){return Q(e)?function(e){return e.match(re)||[]}(e):function(e){return e.split("")}(e)},ae=function(e){e=B(e);var t=Q(e)?ne(e):void 0,i=t?t[0]:e.charAt(0),r=t?V(t,1).join(""):e.slice(1);return i.toUpperCase()+r},oe=function(e){var t=e.medications,i=(0,a.useTranslation)().t;return n().createElement(n().Fragment,null,t.length>0?t.map((function(e,t){var r,a,o,l,c,d,v,u,_,m;return(null===(r=e.order)||void 0===r?void 0:r.dose)&&"Drug Order"===(null===(a=e.order)||void 0===a||null===(o=a.orderType)||void 0===o?void 0:o.display)&&n().createElement(n().Fragment,{key:t},n().createElement("p",{className:"".concat(x.bodyLong01," ").concat(x.medicationBlock)},n().createElement("strong",null,(m=null===(l=e.order.drug)||void 0===l?void 0:l.name,ae(B(m).toLowerCase())))," —"," ",null===(c=e.order.doseUnits)||void 0===c?void 0:c.display," — ",null===(d=e.order.route)||void 0===d?void 0:d.display,n().createElement("br",null),n().createElement("span",{className:x.label01},i("dose","Dose").toUpperCase())," ",n().createElement("strong",null,function(e,t){if(!e||!t)return"";var i=e.search(/\D/),r=parseInt(e.substring(0,i)),n=e.search(/\//),a=e.substring(i);if(n>=0){a=e.substring(i,n);var o=e.substring(n+1).search(/\D/),s=parseInt(e.substr(n+1,o)),l=e.substring(n+1+o);return"".concat(t," ").concat(a," (").concat(t/r*s," ").concat(l,")")}return"".concat(r*t," ").concat(a)}(null===(v=e.order.drug)||void 0===v?void 0:v.strength,e.order.dose).toLowerCase())," ","— ",null===(u=e.order.frequency)||void 0===u?void 0:u.display," —"," ",e.order.duration?i("orderDurationAndUnit","for {duration} {durationUnit}",{duration:e.order.duration,durationUnit:null===(_=e.order.durationUnits)||void 0===_?void 0:_.display}):i("orderIndefiniteDuration","Indefinite duration"),n().createElement("br",null),n().createElement("span",{className:x.label01},i("refills","Refills").toUpperCase())," ",e.order.numRefills),n().createElement("p",{className:x.caption01,style:{color:"#525252"}},(0,s.formatTime)((0,s.parseDate)(e.order.dateActivated))," ·"," ",e.provider&&e.provider.name," ·"," ",e.provider&&e.provider.role))})):n().createElement("p",{className:"".concat(x.bodyLong01," ").concat(x.text02)},i("noMedicationsFound","No medications found")))};function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}const le=function(e){var t=e.patientUuid,i=e.encounters,a=(0,r.useMemo)((function(){var e=i.map((function(e){return"Encounter/".concat(e.uuid)}));return function(t){var i,r,n=(i=t,r=1,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,a=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw n}}return a}}(i,r)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?se(e,t):void 0}}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return e.includes(n.encounter.reference)}}),[i]);return n().createElement("div",{className:"".concat(x.bodyLong01," ").concat(x.testSummaryExtension)},n().createElement(s.ExtensionSlot,{extensionSlotName:"test-results-filtered-overview",state:{filter:a,patientUuid:t}}))};function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,a=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw n}}return a}}(e,t)||ve(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){if(e){if("string"==typeof e)return ce(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ce(e,t):void 0}}const ue=function(e){var t=e.encounters,i=e.patientUuid,l=(0,a.useTranslation)().t,c=de((0,r.useState)(0),2),d=(c[0],c[1]),v=de((0,r.useMemo)((function(){var e=[],i=[],r=[];return t.forEach((function(t){var n,a;(n=e).push.apply(n,function(e){if(Array.isArray(e))return ce(e)}(a=t.orders.map((function(e){return{order:e,provider:{name:t.encounterProviders.length?t.encounterProviders[0].provider.person.display:"",role:t.encounterProviders.length?t.encounterProviders[0].encounterRole.display:""}}})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||ve(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),"Visit Note"===t.encounterType.display&&t.obs.forEach((function(e){"Visit Diagnoses"===e.concept.display?i.push({diagnosis:e.groupMembers.find((function(e){return"PROBLEM LIST"===e.concept.display})).value.display,order:e.groupMembers.find((function(e){return"Diagnosis order"===e.concept.display})).value.display}):"Text of encounter note"===e.concept.display&&r.push({note:e.value,provider:{name:t.encounterProviders.length?t.encounterProviders[0].provider.person.display:"",role:t.encounterProviders.length?t.encounterProviders[0].encounterRole.display:""},time:(0,s.formatTime)((0,s.parseDate)(e.obsDatetime))})}))})),[i,r,e]}),[t]),3),u=v[0],_=v[1],m=v[2];return n().createElement("div",{className:x.summaryContainer},n().createElement("p",{className:x.diagnosisLabel},l("diagnoses","Diagnoses")),n().createElement("div",{className:x.diagnosesList},u.length>0?u.map((function(e,t){return n().createElement(o.Vp9,{key:t,type:"Primary"===e.order?"blue":"red"},e.diagnosis)})):n().createElement("p",{className:"".concat(x.bodyLong01," ").concat(x.text02),style:{marginBottom:"0.5rem"}},l("noDiagnosesFound","No diagnoses found"))),n().createElement(o.mQc,{className:x.verticalTabs},n().createElement(o.tdY,{"aria-label":"Visit summary tabs",className:x.tablist},n().createElement(o.OK9,{className:"".concat(x.tab," ").concat(x.bodyLong01),onClick:function(){return d(0)},id:"notes-tab"},l("notes","Notes")),n().createElement(o.OK9,{className:x.tab,onClick:function(){return d(1)},id:"tests-tab"},l("tests","Tests")),n().createElement(o.OK9,{className:x.tab,onClick:function(){return d(2)},id:"tab-3"},l("medications","Medications"))),n().createElement(o.nPR,null,n().createElement(o.x45,null,n().createElement(k,{notes:_})),n().createElement(o.x45,null,n().createElement(le,{patientUuid:i,encounters:t})),n().createElement(o.x45,null,n().createElement(oe,{medications:m})))))};function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}const me=function(e){var t,i,c,d=e.visitUuid,v=e.patientUuid,u=(0,a.useTranslation)().t,_=(i=(0,r.useState)(0),c=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,a=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw n}}return a}}(i,c)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_e(e,t):void 0}}(i,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=_[0],f=_[1],p=function(e){var t=(0,l.ZP)("/ws/rest/v1/visit/".concat(e,"?v=").concat("custom:(uuid,encounters:(uuid,encounterDatetime,orders:(uuid,dateActivated,drug:(uuid,name,strength),doseUnits:(uuid,display),dose,route:(uuid,display),frequency:(uuid,display),duration,durationUnits:(uuid,display),numRefills,orderType:(uuid,display),orderer:(uuid,person:(uuid,display))),obs:(uuid,concept:(uuid,display,conceptClass:(uuid,display)),display,groupMembers:(uuid,concept:(uuid,display),value:(uuid,display)),value),encounterType:(uuid,display),encounterProviders:(uuid,display,encounterRole:(uuid,display),provider:(uuid,person:(uuid,display)))),visitType:(uuid,name,display),startDatetime"),s.openmrsFetch),i=t.data,r=t.error,n=t.isValidating;return{visit:i?i.data:null,isError:r,isLoading:!i&&!r,isValidating:n}}(d),y=p.visit,g=p.isLoading,b=(0,r.useMemo)((function(){var e;return y?null==y||null===(e=y.encounters)||void 0===e?void 0:e.map((function(e){return{id:e.uuid,time:(0,s.formatTime)((0,s.parseDate)(e.encounterDateTime)),encounterType:e.encounterType.display,provider:e.encounterProviders.length>0?e.encounterProviders[0].display:"",obs:e.obs}})):[]}),[y]);return g?n().createElement(o.gqd,{role:"progressbar"}):y?n().createElement("div",{className:x.visitsDetailWidgetContainer},n().createElement("div",{className:x.visitsDetailHeaderContainer},n().createElement("h4",{className:x.productiveHeading02},null==y||null===(t=y.visitType)||void 0===t?void 0:t.display,n().createElement("br",null),n().createElement("p",{className:"".concat(x.bodyLong01," ").concat(x.text02)},(0,s.formatDatetime)((0,s.parseDate)(null==y?void 0:y.startDatetime)))),n().createElement("div",{style:{margin:"0 1rem"}},n().createElement(o.GHR,{className:x.contentSwitcher,selectedIndex:m,onChange:function(e){var t=e.index;return f(t)}},n().createElement(o.rsf,{name:"allEncounters",text:u("allEncounters","All Encounters")}),n().createElement(o.rsf,{name:"visitSummary",text:u("visitSummary","Visit Summary")})))),0===m&&(null==y?void 0:y.encounters)&&n().createElement(j,{visitUuid:y.uuid,encounters:b}),1===m&&n().createElement(ue,{encounters:y.encounters,patientUuid:v})):null}}}]);