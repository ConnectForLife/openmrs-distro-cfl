"use strict";(self.webpackChunk_openmrs_esm_patient_conditions_app=self.webpackChunk_openmrs_esm_patient_conditions_app||[]).push([[532],{5404:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(9601),r=n.n(o),i=n(2609),a=n.n(i)()(r());a.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{padding:0;border:0;margin:0;font:inherit;font-size:100%;vertical-align:baseline}button,select,input,textarea{border-radius:0;font-family:inherit}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:\"\"}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}code{font-family:'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-patient-conditions__conditions-overview__skeleton___Di2_X{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{opacity:.3;transform:scaleX(0);transform-origin:left}}.-esm-patient-conditions__conditions-overview__widgetCard___LjFok{border:1px solid #e0e0e0}",""]),a.locals={widgetCard:"-esm-patient-conditions__conditions-overview__widgetCard___LjFok",skeleton:"-esm-patient-conditions__conditions-overview__skeleton___Di2_X"};const l=a},4532:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var o=n(9902),r=n.n(o),i=n(8580),a=n(182),l=n(7030),s=n(160),c=n(4152),d=n(364),u=n(7500),m=n(8804),f=n(1358),p=n(2427),g=n(3783),h=n(8011),b=n(321),v=n.n(b),y=n(1195),_=n.n(y),w=n(3275),k=n.n(w),O=n(7162),P=n.n(O),E=n(2094),j=n.n(E),C=n(757),D=n.n(C),S=n(5404),Z={};Z.styleTagTransform=D(),Z.setAttributes=P(),Z.insert=k().bind(null,"head"),Z.domAPI=_(),Z.insertStyleElement=j(),v()(S.Z,Z);const T=S.Z&&S.Z.locals?S.Z.locals:void 0;var z=n(3066),x=n(4924),q=n(4548),X=n(3771);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},A.apply(this,arguments)}const B=function(e){var t,n,o=e.patient,b=e.basePath,v=(0,x.useTranslation)().t,y=v("conditions","Conditions"),_=v("conditions","Conditions"),w=v("seeAll","See all"),k=window.spaBase+b+"/conditions",O=(0,q.l4)(o.id),P=O.data,E=O.isError,j=O.isLoading,C=O.isValidating,D=(0,z.usePagination)(null!=P?P:[],5),S=D.results,Z=D.goTo,B=D.currentPage,I=r().useCallback((function(){return(0,X.launchPatientWorkspace)("conditions-form-workspace")}),[]),M=[{key:"display",header:v("activeConditions","Active Conditions")},{key:"onsetDateTime",header:v("since","Since")}],F=r().useMemo((function(){return null==S?void 0:S.map((function(e){return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){L(e,t,n[t])}))}return e}({},e),n=null!=(n={onsetDateTime:(0,z.formatDate)((0,z.parseDate)(e.onsetDateTime),{time:!1,day:!1})})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n.push.apply(n,o)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t;var t,n}))}),[S]);return j?r().createElement(i.Z,{role:"progressbar"}):E?r().createElement(X.ErrorState,{error:E,headerTitle:_}):(null==P?void 0:P.length)?r().createElement("div",{className:T.widgetCard},r().createElement(X.CardHeader,{title:_},r().createElement("span",null,C?r().createElement(a.Z,null):null),r().createElement(l.Z,{kind:"ghost",renderIcon:h.Z,iconDescription:"Add conditions",onClick:I},v("add","Add"))),r().createElement(s.Z,null,r().createElement(c.ZP,{rows:F,headers:M,isSortable:!0,size:"short"},(function(e){var o=e.rows,i=e.headers,a=e.getHeaderProps,l=e.getTableProps;return r().createElement(d.Z,A({},l(),{useZebraStyles:!0}),r().createElement(u.Z,null,r().createElement(m.Z,null,i.map((function(e){var n;return r().createElement(f.Z,A({className:"".concat(T.productiveHeading01," ").concat(T.text02)},a({header:e,isSortable:e.isSortable})),null!==(t=null===(n=e.header)||void 0===n?void 0:n.content)&&void 0!==t?t:e.header)})))),r().createElement(p.Z,null,o.map((function(e){return r().createElement(m.Z,{key:e.id},e.cells.map((function(e){var t;return r().createElement(g.Z,{key:e.id},null!==(n=null===(t=e.value)||void 0===t?void 0:t.content)&&void 0!==n?n:e.value)})))}))))}))),r().createElement(X.PatientChartPagination,{currentItems:S.length,onPageNumberChange:function(e){var t=e.page;return Z(t)},pageNumber:B,pageSize:5,totalItems:P.length,dashboardLinkUrl:k,dashboardLinkLabel:w})):r().createElement(X.EmptyState,{displayText:y,headerTitle:_,launchForm:I})}},4548:(e,t,n)=>{n.d(t,{De:()=>l,l4:()=>a,qz:()=>c});var o=n(9857),r=n(2188),i=n(3066);function a(e){var t,n,r,a=(0,o.ZP)("".concat(i.fhirBaseUrl,"/Condition?patient=").concat(e),i.openmrsFetch),l=a.data,c=a.error,d=a.isValidating,u=(null==l||null===(t=l.data)||void 0===t?void 0:t.total)>0?null==l||null===(n=l.data)||void 0===n?void 0:n.entry.map((function(e){return null!==(r=e.resource)&&void 0!==r?r:[]})).map(s).sort((function(e,t){return t.onsetDateTime>e.onsetDateTime?1:-1})):null;return{data:l?u:null,isError:c,isLoading:!l&&!c,isValidating:d}}function l(e){return(0,i.openmrsObservableFetch)("/ws/rest/v1/conceptsearch?conceptClasses=".concat("8d4918b0-c2cc-11de-8d13-0010c6dffd0f","&q=").concat(e)).pipe((0,r.U)((function(e){return e.data.results})))}function s(e){var t,n,o,r,i,a;return{clinicalStatus:null===(n=null==e||null===(t=e.clinicalStatus)||void 0===t?void 0:t.coding[0])||void 0===n?void 0:n.code,conceptId:null===(r=null==e||null===(o=e.code)||void 0===o?void 0:o.coding[0])||void 0===r?void 0:r.code,display:null===(a=null==e||null===(i=e.code)||void 0===i?void 0:i.coding[0])||void 0===a?void 0:a.display,onsetDateTime:null==e?void 0:e.onsetDateTime,recordedDate:null==e?void 0:e.recordedDate,id:null==e?void 0:e.id}}function c(e,t){return(0,i.openmrsObservableFetch)("".concat(i.fhirBaseUrl,"/Condition"),{headers:{"Content-Type":"application/json"},method:"POST",body:e,signal:t})}}}]);