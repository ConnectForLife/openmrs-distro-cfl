"use strict";(globalThis.webpackChunk_openmrs_esm_patient_conditions_app=globalThis.webpackChunk_openmrs_esm_patient_conditions_app||[]).push([[452],{6402:(e,n,t)=>{t.d(n,{Z:()=>c});var o=t(272),i=t.n(o),r=t(2609),a=t.n(r)()(i());a.push([e.id,".-esm-patient-conditions__conditions-action-menu__layer___IrqhU{height:100%}.-esm-patient-conditions__conditions-action-menu__menuItem___nh9uE{max-width:none}","",{version:3,sources:["webpack://./src/conditions/conditions-action-menu.scss"],names:[],mappings:"AAAA,gEACE,WAAA,CAGF,mEACE,cAAA",sourceRoot:""}]),a.locals={layer:"-esm-patient-conditions__conditions-action-menu__layer___IrqhU",menuItem:"-esm-patient-conditions__conditions-action-menu__menuItem___nh9uE"};const c=a},2609:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",o=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),o&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),o&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,o,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(a[s]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);o&&a[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),t&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=t):u[2]=t),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),n.push(u))}},n}},272:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),r="/*# ".concat(i," */"),a=t.sources.map((function(e){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([r]).join("\n")}return[n].join("\n")}},1354:e=>{var n=[];function t(e){for(var t=-1,o=0;o<n.length;o++)if(n[o].identifier===e){t=o;break}return t}function o(e,o){for(var r={},a=[],c=0;c<e.length;c++){var s=e[c],l=o.base?s[0]+o.base:s[0],u=r[l]||0,d="".concat(l," ").concat(u);r[l]=u+1;var p=t(d),f={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)n[p].references++,n[p].updater(f);else{var m=i(f,o);o.byIndex=c,n.splice(c,0,{identifier:d,updater:m,references:1})}a.push(d)}return a}function i(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,i){var r=o(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<r.length;a++){var c=t(r[a]);n[c].references--}for(var s=o(e,i),l=0;l<r.length;l++){var u=t(r[l]);0===n[u].references&&(n[u].updater(),n.splice(u,1))}r=s}}},7378:e=>{var n={};e.exports=function(e,t){var o=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},4154:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},5993:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},1583:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,i&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var r=t.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleTagTransform(o,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},8141:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},4397:(e,n,t)=>{t.d(n,{b:()=>D});var o=t(268),i=t.n(o),r=t(4924),a=t(1872),c=t(4556),s=t(2870),l=t(1354),u=t.n(l),d=t(1583),p=t.n(d),f=t(7378),m=t.n(f),h=t(5993),v=t.n(h),y=t(4154),g=t.n(y),b=t(8141),C=t.n(b),_=t(6402),w={};w.styleTagTransform=C(),w.setAttributes=v(),w.insert=m().bind(null,"head"),w.domAPI=p(),w.insertStyleElement=g(),u()(_.Z,w);const T=_.Z&&_.Z.locals?_.Z.locals:void 0;var D=function(e){var n=e.condition,t=e.patientUuid,l=(0,r.useTranslation)().t,u="tablet"===(0,s.useLayoutType)(),d=(0,o.useCallback)((function(){return(0,c.launchPatientWorkspace)("conditions-form-workspace",{workspaceTitle:l("editCondition","Edit a Condition"),condition:n,formContext:"editing"})}),[n,l]);return i().createElement(a.mh4,{className:T.layer},i().createElement(a.PQB,{ariaLabel:"Edit or delete condition",size:u?"lg":"sm",flipped:!0},i().createElement(a.laM,{className:T.menuItem,id:"editCondition",onClick:d,itemText:l("edit","Edit")}),i().createElement(a.laM,{className:T.menuItem,id:"deleteCondition",itemText:l("delete","Delete"),onClick:function(){return e=n.id,void(o=(0,s.showModal)("condition-delete-confirmation-dialog",{closeDeleteModal:function(){return o()},conditionId:e,patientUuid:t}));var e,o},isDelete:!0,hasDivider:!0})))}},4548:(e,n,t)=>{t.d(n,{B6:()=>h,CL:()=>d,l4:()=>s,r4:()=>f,sA:()=>l});var o=t(3255),i=t(2870);function r(e,n,t,o,i,r,a){try{var c=e[r](a),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(o,i)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(o,i){var a=e.apply(n,t);function c(e){r(a,o,i,c,s,"next",e)}function s(e){r(a,o,i,c,s,"throw",e)}c(void 0)}))}}function c(e,n){var t,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(r){return function(c){return function(r){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=n.call(e,a)}catch(e){r=[6,e],o=0}finally{t=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}}function s(e){var n,t,r="".concat(i.fhirBaseUrl,"/Condition?patient=").concat(e,"&_count=100"),a=(0,o.ZP)(e?r:null,i.openmrsFetch),c=a.data,s=a.error,l=a.isLoading,d=a.isValidating,p=a.mutate,f=(null==c||null===(n=c.data)||void 0===n?void 0:n.total)>0?null==c||null===(t=c.data)||void 0===t?void 0:t.entry.map((function(e){var n;return null!==(n=e.resource)&&void 0!==n?n:[]})).map(u).sort((function(e,n){return n.onsetDateTime>e.onsetDateTime?1:-1})):null;return{conditions:c?f:null,isError:s,isLoading:l,isValidating:d,mutate:p}}function l(e){var n,t,r=(0,i.useConfig)(),a=null==r?void 0:r.conditionConceptClassUuid,c="/ws/rest/v1/conceptsearch?conceptClasses=".concat(a,"&q=").concat(e),s=(0,o.ZP)(e?c:null,i.openmrsFetch),l=s.data,u=s.error,d=s.isLoading;return{searchResults:null!==(t=null==l||null===(n=l.data)||void 0===n?void 0:n.results)&&void 0!==t?t:[],error:u,isSearching:d}}function u(e){var n,t,o,i,r,a,c=null==e||null===(t=e.clinicalStatus)||void 0===t||null===(n=t.coding[0])||void 0===n?void 0:n.code;return{clinicalStatus:c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",conceptId:null==e||null===(i=e.code)||void 0===i||null===(o=i.coding[0])||void 0===o?void 0:o.code,display:null==e||null===(a=e.code)||void 0===a||null===(r=a.coding[0])||void 0===r?void 0:r.display,onsetDateTime:null==e?void 0:e.onsetDateTime,recordedDate:null==e?void 0:e.recordedDate,id:null==e?void 0:e.id}}function d(e){return p.apply(this,arguments)}function p(){return(p=a((function(e){var n,t,o;return c(this,(function(r){switch(r.label){case 0:return n=new AbortController,t="".concat(i.fhirBaseUrl,"/Condition"),o={clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:e.clinicalStatus}]},code:{coding:[{code:e.conceptId,display:e.display}]},endDate:e.endDate,onsetDateTime:e.onsetDateTime,recorder:{reference:"Practitioner/".concat(e.userId)},recordedDate:(new Date).toISOString(),resourceType:"Condition",subject:{reference:"Patient/".concat(e.patientId)}},[4,(0,i.openmrsFetch)(t,{headers:{"Content-Type":"application/json"},method:"POST",body:o,signal:n.signal})];case 1:return[2,r.sent()]}}))}))).apply(this,arguments)}function f(e,n){return m.apply(this,arguments)}function m(){return(m=a((function(e,n){var t,o,r;return c(this,(function(a){switch(a.label){case 0:return t=new AbortController,o="".concat(i.fhirBaseUrl,"/Condition/").concat(e),r={clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:n.clinicalStatus}]},code:{coding:[{code:n.conceptId,display:n.display}]},endDate:n.endDate,id:e,onsetDateTime:n.onsetDateTime,recorder:{reference:"Practitioner/".concat(n.userId)},recordedDate:(new Date).toISOString(),resourceType:"Condition",subject:{reference:"Patient/".concat(n.patientId)}},[4,(0,i.openmrsFetch)(o,{headers:{"Content-Type":"application/json"},method:"PUT",body:r,signal:t.signal})];case 1:return[2,a.sent()]}}))}))).apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return(v=a((function(e){var n,t;return c(this,(function(o){switch(o.label){case 0:return n=new AbortController,t="".concat(i.fhirBaseUrl,"/Condition/").concat(e),[4,(0,i.openmrsFetch)(t,{method:"DELETE",signal:n.signal})];case 1:return[2,o.sent()]}}))}))).apply(this,arguments)}}}]);