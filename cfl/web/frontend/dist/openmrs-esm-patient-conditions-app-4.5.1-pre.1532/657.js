"use strict";(globalThis.webpackChunk_openmrs_esm_patient_conditions_app=globalThis.webpackChunk_openmrs_esm_patient_conditions_app||[]).push([[657],{8146:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(272),o=n.n(i),r=n(2609),a=n.n(r)()(o());a.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-conditions__conditions-detailed-summary__widgetCard___cVJ0B{border:1px solid #e0e0e0}.-esm-patient-conditions__conditions-detailed-summary__divider___APi0z{border-left:1px solid #e0e0e0;height:1rem;margin:0 .5rem}.-esm-patient-conditions__conditions-detailed-summary__rightMostFlexContainer___mRLqf{display:flex;justify-content:center;align-items:center}.-esm-patient-conditions__conditions-detailed-summary__filterContainer___FcuQG .cds--dropdown__wrapper--inline{gap:0}.-esm-patient-conditions__conditions-detailed-summary__filterContainer___FcuQG .cds--list-box__menu-icon{height:1rem}.-esm-patient-conditions__conditions-detailed-summary__filterContainer___FcuQG .cds--dropdown--inline .cds--list-box__menu{min-width:10rem}.-esm-patient-conditions__conditions-detailed-summary__content___SYwda{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-patient-conditions__conditions-detailed-summary__tileContainer___KVhzT{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-patient-conditions__conditions-detailed-summary__tile___pKYNO{margin:auto;width:fit-content}.-esm-patient-conditions__conditions-detailed-summary__tileContent___wBVBK{display:flex;flex-direction:column;align-items:center}.-esm-patient-conditions__conditions-detailed-summary__helper___U97md{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/conditions/conditions-detailed-summary.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,0EACE,wBAAA,CAGF,uEACE,6BAAA,CACA,WCqBW,CDpBX,cAAA,CAGF,sFACE,YAAA,CACA,sBAAA,CACA,kBAAA,CAIA,+GACE,KAAA,CAGF,yGACE,WAAA,CAGF,2HACE,eAAA,CAIJ,uEEwyBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFtyBF,aD/BQ,CCgCR,mBAAA,CAGF,6EACE,qBDxCM,CCyCN,4BAAA,CACA,cAAA,CAGF,oEACE,WAAA,CACA,iBAAA,CAGF,2EACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAGF,sEEixBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CF/wBF,aDtDQ",sourceRoot:""}]),a.locals={widgetCard:"-esm-patient-conditions__conditions-detailed-summary__widgetCard___cVJ0B",divider:"-esm-patient-conditions__conditions-detailed-summary__divider___APi0z",rightMostFlexContainer:"-esm-patient-conditions__conditions-detailed-summary__rightMostFlexContainer___mRLqf",filterContainer:"-esm-patient-conditions__conditions-detailed-summary__filterContainer___FcuQG",content:"-esm-patient-conditions__conditions-detailed-summary__content___SYwda",tileContainer:"-esm-patient-conditions__conditions-detailed-summary__tileContainer___KVhzT",tile:"-esm-patient-conditions__conditions-detailed-summary__tile___pKYNO",tileContent:"-esm-patient-conditions__conditions-detailed-summary__tileContent___wBVBK",helper:"-esm-patient-conditions__conditions-detailed-summary__helper___U97md"};const s=a},3657:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var i=n(268),o=n.n(i),r=n(4924),a=n(4179),s=n(6759),c=n(906),l=n(6217),d=n(3922),m=n(8755);function u(e,t){if(e===t||!e&&!t)return 0;if(e){if(t){var n=(0,c.parseDate)(e),i=(0,c.parseDate)(t);return n===i?0:n<i?-1:1}return 1}return-1}var _=n(1354),A=n.n(_),p=n(1583),y=n.n(p),C=n(7378),f=n.n(C),g=n(5993),h=n.n(g),b=n(4154),v=n.n(b),E=n(8141),w=n.n(E),D=n(8146),O={};O.styleTagTransform=w(),O.setAttributes=h(),O.insert=f().bind(null,"head"),O.domAPI=y(),O.insertStyleElement=v(),A()(D.Z,O);const S=D.Z&&D.Z.locals?D.Z.locals:void 0;function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},B.apply(this,arguments)}const x=function(e){var t,n,_,A,p=e.patient,y=(0,r.useTranslation)().t,C=y("conditions","Conditions"),f=y("conditions","Conditions"),g=(_=(0,i.useState)("Active"),A=2,function(e){if(Array.isArray(e))return e}(_)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}}(_,A)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(_,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=g[0],b=g[1],v=(0,c.useLayoutType)(),E="tablet"===v,w="small-desktop"===v||"large-desktop"===v,D=(0,d.l4)(p.id),O=D.conditions,x=D.isError,j=D.isLoading,T=D.isValidating,P=(0,i.useMemo)((function(){return h&&"All"!=h&&h?null==O?void 0:O.filter((function(e){return e.clinicalStatus===h})):O}),[h,O]),N=(0,i.useMemo)((function(){return[{key:"display",header:y("condition","Condition")},{key:"onsetDateTime",header:y("dateOfOnset","Date of onset")},{key:"clinicalStatus",header:y("status","Status")}]}),[y]),G=(0,i.useMemo)((function(){return null==P?void 0:P.map((function(e){var t,n,i;return n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){F(e,t,n[t])}))}return e}({},e),i=null!=(i={id:e.id,condition:e.display,onsetDateTime:{sortKey:null!==(t=e.onsetDateTime)&&void 0!==t?t:"",content:e.onsetDateTime?(0,c.formatDate)((0,c.parseDate)(e.onsetDateTime),{time:!1,day:!1}):"--"},status:e.clinicalStatus})?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})),n}))}),[P]),z=(0,i.useCallback)((function(){return(0,l.launchPatientWorkspace)("conditions-form-workspace",{workspaceTitle:"Record a Condition"})}),[]);return j?o().createElement(a.gqd,{role:"progressbar",compact:w,zebra:!0}):x?o().createElement(l.ErrorState,{error:x,headerTitle:f}):(null==O?void 0:O.length)?o().createElement("div",{className:S.widgetCard},o().createElement(l.CardHeader,{title:f},o().createElement("span",null,T?o().createElement(a.lSo,null):null),o().createElement("div",{className:S.rightMostFlexContainer},o().createElement("div",{className:S.filterContainer},o().createElement(a.Ltx,{id:"conditionStatusFilter",initialSelectedItem:"Active",label:"",titleText:y("show","Show")+":",type:"inline",items:["All","Active","Inactive"],onChange:function(e){var t=e.selectedItem;return b(t)},size:E?"lg":"sm"})),o().createElement("div",{className:S.divider}),o().createElement(a.zxk,{kind:"ghost",renderIcon:function(e){return o().createElement(s.mm,B({size:16},e))},iconDescription:"Add conditions",onClick:z},y("add","Add")))),o().createElement(a.wQF,{rows:G,sortRow:function(e,t,n){return n.sortDirection===n.sortStates.DESC?u(t.sortKey,e.sortKey):u(e.sortKey,t.sortKey)},headers:N,isSortable:!0,size:E?"lg":"sm",useZebraStyles:!0,overflowMenuOnHover:w},(function(e){var i=e.rows,r=e.headers,s=e.getHeaderProps,c=e.getTableProps,l=e.getRowProps;return o().createElement(o().Fragment,null,o().createElement(a.xJi,null,o().createElement(a.iA_,B({},c()),o().createElement(a.ssF,null,o().createElement(a.SCH,null,r.map((function(e){var n;return o().createElement(a.xDH,B({className:"".concat(S.productiveHeading01," ").concat(S.text02)},s({header:e,isSortable:e.isSortable})),null!==(t=null===(n=e.header)||void 0===n?void 0:n.content)&&void 0!==t?t:e.header)})),o().createElement(a.xDH,null))),o().createElement(a.RMI,null,i.map((function(e){return o().createElement(a.SCH,B({key:e.id},l({row:e})),e.cells.map((function(e){var t;return o().createElement(a.pj1,{key:e.id},null!==(n=null===(t=e.value)||void 0===t?void 0:t.content)&&void 0!==n?n:e.value)})),o().createElement(a.pj1,{className:"cds--table-column-menu"},o().createElement(m.b,{condition:e})))}))))),0===i.length?o().createElement("div",{className:S.tileContainer},o().createElement(a.n9L,{className:S.tile},o().createElement("div",{className:S.tileContent},o().createElement("p",{className:S.content},y("noConditionsToDisplay","No conditions to display")),o().createElement("p",{className:S.helper},y("checkFilters","Check the filters above"))))):null)}))):o().createElement(l.EmptyState,{displayText:C,headerTitle:f,launchForm:z})}}}]);