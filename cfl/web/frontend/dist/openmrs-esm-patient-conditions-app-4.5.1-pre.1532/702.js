"use strict";(globalThis.webpackChunk_openmrs_esm_patient_conditions_app=globalThis.webpackChunk_openmrs_esm_patient_conditions_app||[]).push([[702],{6402:(e,n,t)=>{t.d(n,{Z:()=>c});var o=t(272),r=t.n(o),i=t(2609),a=t.n(i)()(r());a.push([e.id,".-esm-patient-conditions__conditions-action-menu__layer___IrqhU{height:100%}.-esm-patient-conditions__conditions-action-menu__menuItem___nh9uE{max-width:none}","",{version:3,sources:["webpack://./src/conditions/conditions-action-menu.scss"],names:[],mappings:"AAAA,gEACE,WAAA,CAGF,mEACE,cAAA",sourceRoot:""}]),a.locals={layer:"-esm-patient-conditions__conditions-action-menu__layer___IrqhU",menuItem:"-esm-patient-conditions__conditions-action-menu__menuItem___nh9uE"};const c=a},2609:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",o=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),o&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),o&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,o,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(a[s]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);o&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),n.push(l))}},n}},272:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),i="/*# ".concat(r," */"),a=t.sources.map((function(e){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([i]).join("\n")}return[n].join("\n")}},1354:e=>{var n=[];function t(e){for(var t=-1,o=0;o<n.length;o++)if(n[o].identifier===e){t=o;break}return t}function o(e,o){for(var i={},a=[],c=0;c<e.length;c++){var s=e[c],u=o.base?s[0]+o.base:s[0],l=i[u]||0,d="".concat(u," ").concat(l);i[u]=l+1;var p=t(d),m={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)n[p].references++,n[p].updater(m);else{var f=r(m,o);o.byIndex=c,n.splice(c,0,{identifier:d,updater:f,references:1})}a.push(d)}return a}function r(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,r){var i=o(e=e||[],r=r||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var c=t(i[a]);n[c].references--}for(var s=o(e,r),u=0;u<i.length;u++){var l=t(i[u]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}i=s}}},7378:e=>{var n={};e.exports=function(e,t){var o=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},4154:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},5993:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},1583:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(o,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},8141:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},8755:(e,n,t)=>{t.d(n,{b:()=>D});var o=t(268),r=t.n(o),i=t(4924),a=t(4179),c=t(6217),s=t(906),u=t(1354),l=t.n(u),d=t(1583),p=t.n(d),m=t(7378),f=t.n(m),v=t(5993),h=t.n(v),y=t(4154),g=t.n(y),C=t(8141),_=t.n(C),b=t(6402),T={};T.styleTagTransform=_(),T.setAttributes=h(),T.insert=f().bind(null,"head"),T.domAPI=p(),T.insertStyleElement=g(),l()(b.Z,T);const w=b.Z&&b.Z.locals?b.Z.locals:void 0;var D=function(e){var n=e.condition,t=(0,i.useTranslation)().t,u="tablet"===(0,s.useLayoutType)(),l=(0,o.useCallback)((function(){return(0,c.launchPatientWorkspace)("conditions-form-workspace",{workspaceTitle:t("editCondition","Edit a Condition"),condition:n,formContext:"editing"})}),[n,t]);return r().createElement(a.mh4,{className:w.layer},r().createElement(a.PQB,{ariaLabel:"Edit or delete condition",size:u?"lg":"sm",flipped:!0},r().createElement(a.laM,{className:w.menuItem,id:"editCondition",onClick:l,itemText:t("edit","Edit")}),r().createElement(a.laM,{className:w.menuItem,id:"deleteCondition",itemText:t("delete","Delete"),onClick:function(){return e=n.id,void(t=(0,s.showModal)("condition-delete-confirmation-dialog",{closeDeleteModal:function(){return t()},conditionId:e}));var e,t},isDelete:!0,hasDivider:!0})))}},3922:(e,n,t)=>{t.d(n,{B6:()=>h,CL:()=>p,l4:()=>u,r4:()=>f,sA:()=>l});var o=t(5047),r=t.n(o),i=t(3255),a=t(906);function c(e,n,t,o,r,i,a){try{var c=e[i](a),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(o,r)}function s(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){c(i,o,r,a,s,"next",e)}function s(e){c(i,o,r,a,s,"throw",e)}a(void 0)}))}}function u(e){var n,t,o,r="".concat(a.fhirBaseUrl,"/Condition?patient=").concat(e,"&_count=100"),c=(0,i.ZP)(e?r:null,a.openmrsFetch),s=c.data,u=c.error,l=c.isLoading,p=c.isValidating,m=c.mutate,f=(null==s||null===(n=s.data)||void 0===n?void 0:n.total)>0?null==s||null===(t=s.data)||void 0===t?void 0:t.entry.map((function(e){return null!==(o=e.resource)&&void 0!==o?o:[]})).map(d).sort((function(e,n){return n.onsetDateTime>e.onsetDateTime?1:-1})):null;return{conditions:s?f:null,isError:u,isLoading:l,isValidating:p,mutate:m}}function l(e){var n,t,o=(0,a.useConfig)(),r=null==o?void 0:o.conditionConceptClassUuid,c="/ws/rest/v1/conceptsearch?conceptClasses=".concat(r,"&q=").concat(e),s=(0,i.ZP)(e?c:null,a.openmrsFetch),u=s.data,l=s.error,d=s.isLoading;return{searchResults:null!==(t=null==u||null===(n=u.data)||void 0===n?void 0:n.results)&&void 0!==t?t:[],error:l,isSearching:d}}function d(e){var n,t,o,r,i,a,c=null===(t=null==e||null===(n=e.clinicalStatus)||void 0===n?void 0:n.coding[0])||void 0===t?void 0:t.code;return{clinicalStatus:c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",conceptId:null===(r=null==e||null===(o=e.code)||void 0===o?void 0:o.coding[0])||void 0===r?void 0:r.code,display:null===(a=null==e||null===(i=e.code)||void 0===i?void 0:i.coding[0])||void 0===a?void 0:a.display,onsetDateTime:null==e?void 0:e.onsetDateTime,recordedDate:null==e?void 0:e.recordedDate,id:null==e?void 0:e.id}}function p(e){return m.apply(this,arguments)}function m(){return(m=s(r().mark((function e(n){var t,o,i,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,o="".concat(a.fhirBaseUrl,"/Condition"),i={clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:n.clinicalStatus}]},code:{coding:[{code:n.conceptId,display:n.display}]},endDate:n.endDate,onsetDateTime:n.onsetDateTime,recorder:{reference:"Practitioner/".concat(n.userId)},recordedDate:(new Date).toISOString(),resourceType:"Condition",subject:{reference:"Patient/".concat(n.patientId)}},e.next=5,(0,a.openmrsFetch)(o,{headers:{"Content-Type":"application/json"},method:"POST",body:i,signal:t.signal});case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,n){return v.apply(this,arguments)}function v(){return(v=s(r().mark((function e(n,t){var o,i,c,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new AbortController,i="".concat(a.fhirBaseUrl,"/Condition/").concat(n),c={clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:t.clinicalStatus}]},code:{coding:[{code:t.conceptId,display:t.display}]},endDate:t.endDate,id:n,onsetDateTime:t.onsetDateTime,recorder:{reference:"Practitioner/".concat(t.userId)},recordedDate:(new Date).toISOString(),resourceType:"Condition",subject:{reference:"Patient/".concat(t.patientId)}},e.next=5,(0,a.openmrsFetch)(i,{headers:{"Content-Type":"application/json"},method:"PUT",body:c,signal:o.signal});case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return y.apply(this,arguments)}function y(){return(y=s(r().mark((function e(n){var t,o,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,o="".concat(a.fhirBaseUrl,"/Condition/").concat(n),e.next=4,(0,a.openmrsFetch)(o,{method:"DELETE",signal:t.signal});case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);