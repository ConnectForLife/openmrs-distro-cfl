"use strict";(self.webpackChunk_openmrs_esm_patient_search_app=self.webpackChunk_openmrs_esm_patient_search_app||[]).push([[668,451],{9361:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(2609),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,".-esm-patient-search__patient-banner__container___DHYv2{border-bottom:.063rem solid #e0e0e0;background-color:#fff;display:grid;grid-template-columns:1fr auto}.-esm-patient-search__patient-banner__patientBanner___ZXsFF{text-decoration:none;display:grid;grid-template-columns:auto 1fr}.-esm-patient-search__patient-banner__patientName___35Lxu{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-right:.25rem;color:#161616}.-esm-patient-search__patient-banner__patientAvatar___zgBnr{width:5rem;height:5rem;margin:1rem;border-radius:1px}.-esm-patient-search__patient-banner__patientAvatarButton___hrkm3{cursor:pointer;border:none;padding:0px;background:none}.-esm-patient-search__patient-banner__patientInfo___APRfg{width:100%;padding-right:1rem}.-esm-patient-search__patient-banner__demographics___oNdDk{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0;color:#525252;margin-top:.375rem}.-esm-patient-search__patient-banner__row___9nYwd{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.-esm-patient-search__patient-banner__patientNameRow___LT6EX{margin-top:1rem}.-esm-patient-search__patient-banner__flexRow___5-i8j{display:flex;flex-flow:row wrap;align-items:center}.-esm-patient-search__patient-banner__identifiers___GCyBQ{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0;color:#8d8d8d;margin-top:.375rem}.-esm-patient-search__patient-banner__tooltipPadding___MUUnN{padding:.25rem}.-esm-patient-search__patient-banner__tooltipSmallText___I2nNT{font-size:80%}.-esm-patient-search__patient-banner__actionsButtonText___v7wWu{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px;color:#0f62fe}.bx--tooltip--definition .bx--tooltip__trigger{border-bottom:none}.-esm-patient-search__patient-banner__buttonCol___YIE1U{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-end}",""]),r.locals={container:"-esm-patient-search__patient-banner__container___DHYv2",patientBanner:"-esm-patient-search__patient-banner__patientBanner___ZXsFF",patientName:"-esm-patient-search__patient-banner__patientName___35Lxu",patientAvatar:"-esm-patient-search__patient-banner__patientAvatar___zgBnr",patientAvatarButton:"-esm-patient-search__patient-banner__patientAvatarButton___hrkm3",patientInfo:"-esm-patient-search__patient-banner__patientInfo___APRfg",demographics:"-esm-patient-search__patient-banner__demographics___oNdDk",row:"-esm-patient-search__patient-banner__row___9nYwd",patientNameRow:"-esm-patient-search__patient-banner__patientNameRow___LT6EX",flexRow:"-esm-patient-search__patient-banner__flexRow___5-i8j",identifiers:"-esm-patient-search__patient-banner__identifiers___GCyBQ",tooltipPadding:"-esm-patient-search__patient-banner__tooltipPadding___MUUnN",tooltipSmallText:"-esm-patient-search__patient-banner__tooltipSmallText___I2nNT",actionsButtonText:"-esm-patient-search__patient-banner__actionsButtonText___v7wWu",buttonCol:"-esm-patient-search__patient-banner__buttonCol___YIE1U"};const i=r},1105:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(2609),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;font:inherit;font-size:100%;vertical-align:baseline;border:0}button,select,input,textarea{font-family:inherit;border-radius:0}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:\"\"}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code{font-family:'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-patient-search__contact-details__skeleton___YZwS2{0%{transform:scaleX(0);transform-origin:left;opacity:.3}20%{transform:scaleX(1);transform-origin:left;opacity:1}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{transform:scaleX(0);transform-origin:left;opacity:.3}}.-esm-patient-search__contact-details__contactDetails___JhHPj{color:#525252;width:100%;border-top:1px solid #e0e0e0}.-esm-patient-search__contact-details__heading___UKhVR{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;color:#525252}.-esm-patient-search__contact-details__row___WqAlk{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px;display:flex}.-esm-patient-search__contact-details__row___WqAlk:first-child{border-bottom:1px solid #e0e0e0}.-esm-patient-search__contact-details__row___WqAlk>.-esm-patient-search__contact-details__col___uKOeM{flex:1;padding:1rem 1rem}.-esm-patient-search__contact-details__row___WqAlk>.-esm-patient-search__contact-details__col___uKOeM:nth-of-type(2n + 1){border-right:1px solid #e0e0e0}.-esm-patient-search__contact-details__row___WqAlk li{margin:.5rem 0}.-esm-patient-search__contact-details__relationship___41MOI{display:flex;flex-flow:row nowrap}.-esm-patient-search__contact-details__relationship___41MOI div{flex:1 1}",""]),r.locals={contactDetails:"-esm-patient-search__contact-details__contactDetails___JhHPj",heading:"-esm-patient-search__contact-details__heading___UKhVR",row:"-esm-patient-search__contact-details__row___WqAlk",col:"-esm-patient-search__contact-details__col___uKOeM",relationship:"-esm-patient-search__contact-details__relationship___41MOI",skeleton:"-esm-patient-search__contact-details__skeleton___YZwS2"};const i=r},8039:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(2609),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-search__patient-search-lg__productiveHeading01___Y\\+4CC{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}.-esm-patient-search__patient-search-lg__productiveHeading02___naRf0{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}.-esm-patient-search__patient-search-lg__bodyLong01___Gi7Xv{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.bx--side-nav{z-index:0}.-esm-patient-search__patient-search-lg__searchResults___fRFnR{width:100%}.-esm-patient-search__patient-search-lg__broadBottomMargin___JCaaL{margin-bottom:5rem}.-esm-patient-search__patient-search-lg__resultsHeader___vaj-c{display:flex;justify-content:space-between;margin:.5rem 0}.-esm-patient-search__patient-search-lg__leftPaddedResultHeader___ut54t{margin-left:1rem}.-esm-patient-search__patient-search-lg__productiveHeading02___naRf0{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;align-self:center}.-esm-patient-search__patient-search-lg__results___cK0vO{border:1px solid #e0e0e0}.-esm-patient-search__patient-search-lg__emptySearchResultsTile___bvXsn{text-align:center;margin:0;padding:3rem 0rem;background-color:#fff}.-esm-patient-search__patient-search-lg__paddedEmptySearchResultsTile___52Ik1{margin:0 1rem}.-esm-patient-search__patient-search-lg__emptyResultText___0UfCs{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;color:#525252;margin-top:1rem;margin-bottom:.313rem}.-esm-patient-search__patient-search-lg__actionText___l6ZtT{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px;color:#525252}.-esm-patient-search__patient-search-lg__pagination___s3UCO{padding:1rem 0;background:#f4f4f4}.-esm-patient-search__patient-search-lg__stickyPagination___yRO0u{position:fixed;bottom:0;left:0;right:0}.-esm-patient-search__patient-search-lg__errorMessage___hYdQo{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;color:#161616;margin-top:2.25rem;margin-bottom:.5rem}.-esm-patient-search__patient-search-lg__errorCopy___GpIzt{margin-bottom:.5rem;font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px;color:#525252}",""]),r.locals={productiveHeading01:"-esm-patient-search__patient-search-lg__productiveHeading01___Y+4CC",productiveHeading02:"-esm-patient-search__patient-search-lg__productiveHeading02___naRf0",bodyLong01:"-esm-patient-search__patient-search-lg__bodyLong01___Gi7Xv",searchResults:"-esm-patient-search__patient-search-lg__searchResults___fRFnR",broadBottomMargin:"-esm-patient-search__patient-search-lg__broadBottomMargin___JCaaL",resultsHeader:"-esm-patient-search__patient-search-lg__resultsHeader___vaj-c",leftPaddedResultHeader:"-esm-patient-search__patient-search-lg__leftPaddedResultHeader___ut54t",results:"-esm-patient-search__patient-search-lg__results___cK0vO",emptySearchResultsTile:"-esm-patient-search__patient-search-lg__emptySearchResultsTile___bvXsn",paddedEmptySearchResultsTile:"-esm-patient-search__patient-search-lg__paddedEmptySearchResultsTile___52Ik1",emptyResultText:"-esm-patient-search__patient-search-lg__emptyResultText___0UfCs",actionText:"-esm-patient-search__patient-search-lg__actionText___l6ZtT",pagination:"-esm-patient-search__patient-search-lg__pagination___s3UCO",stickyPagination:"-esm-patient-search__patient-search-lg__stickyPagination___yRO0u",errorMessage:"-esm-patient-search__patient-search-lg__errorMessage___hYdQo",errorCopy:"-esm-patient-search__patient-search-lg__errorCopy___GpIzt"};const i=r},6241:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(2609),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-search__pagination__productiveHeading01___XXNJk{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}.-esm-patient-search__pagination__productiveHeading02___4k2WO{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}.-esm-patient-search__pagination__bodyLong01___a0cMC{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.-esm-patient-search__pagination__paginationBar___suBHz{width:100%;display:flex;justify-content:center;align-items:center}.-esm-patient-search__pagination__pageNumbers___mSEfi{display:flex}.-esm-patient-search__pagination__paginationButton___pBYMZ{color:#161616;box-sizing:border-boxs}.-esm-patient-search__pagination__activeButton___niuDL{border-bottom:.25rem solid #005d5d}",""]),r.locals={productiveHeading01:"-esm-patient-search__pagination__productiveHeading01___XXNJk",productiveHeading02:"-esm-patient-search__pagination__productiveHeading02___4k2WO",bodyLong01:"-esm-patient-search__pagination__bodyLong01___a0cMC",paginationBar:"-esm-patient-search__pagination__paginationBar___suBHz",pageNumbers:"-esm-patient-search__pagination__pageNumbers___mSEfi",paginationButton:"-esm-patient-search__pagination__paginationButton___pBYMZ",activeButton:"-esm-patient-search__pagination__activeButton___niuDL"};const i=r},1668:(e,t,n)=>{n.d(t,{Z:()=>le});var a=n(9902),r=n.n(a),i=n(6062),l=n.n(i),o=n(4036),s=n.n(o),c=n(6793),u=n.n(c),_=n(7892),d=n.n(_),m=n(1173),p=n.n(m),h=n(2464),g=n.n(h),f=n(8039),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=u().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=p(),l()(f.Z,v);const b=f.Z&&f.Z.locals?f.Z.locals:void 0;var y=n(540),E=n(9095),w=n(9653),x=n(4924),N=n(6335),S=n(6072),C=n(4724),A=n(5787),T=n(3066),R=n(9857);var k=n(1105),I={};I.styleTagTransform=g(),I.setAttributes=d(),I.insert=u().bind(null,"head"),I.domAPI=s(),I.insertStyleElement=p(),l()(k.Z,I);const M=k.Z&&k.Z.locals?k.Z.locals:void 0;var Z=n(2303),P=function(e){var t=e.address,n=(0,x.useTranslation)().t;return r().createElement(r().Fragment,null,r().createElement("p",{className:M.heading},n("address","Address")),r().createElement("ul",null,t?r().createElement(r().Fragment,null,r().createElement("li",null,t.postalCode),r().createElement("li",null,t.address1),r().createElement("li",null,t.cityVillage),r().createElement("li",null,t.stateProvince),r().createElement("li",null,t.country)):"--"))},z=function(e){var t=e.patientUuid,n=(0,x.useTranslation)().t,a=function(e){var t=(0,T.useConfig)().contactAttributeType,n=function(e){var t,n=(0,Z.Z)("/ws/rest/v1/patient/".concat(e,"?v=").concat("custom:(uuid,display,identifiers:(identifier,uuid,preferred,location:(uuid,name),identifierType:(uuid,name,format,formatDescription,validator)),person:(uuid,display,gender,birthdate,dead,age,deathDate,birthdateEstimated,causeOfDeath,preferredName:(uuid,preferred,givenName,middleName,familyName),attributes,preferredAddress:(uuid,preferred,address1,address2,cityVillage,longitude,stateProvince,latitude,country,postalCode,countyDistrict,address3,address4,address5,address6,address7)))"),T.openmrsFetch),a=n.data,r=n.error;return{isLoading:!a&&!r,attributes:null!==(t=null==a?void 0:a.data.person.attributes)&&void 0!==t?t:[],error:r}}(e),a=n.attributes,r=n.isLoading,i=a.filter((function(e){var n=e.attributeType;return null==t?void 0:t.some((function(e){return n.uuid===e}))}));return{contactAttributes:null!=i?i:[],isLoading:r}}(t),i=a.isLoading,l=a.contactAttributes;return r().createElement(r().Fragment,null,r().createElement("p",{className:M.heading},n("contactDetails","Contact Details")),r().createElement("ul",null,i?r().createElement(A.Z,null):(null==l?void 0:l.length)?null==l?void 0:l.map((function(e){var t=e.attributeType,n=e.value,a=e.uuid;return r().createElement("li",{key:a},t.display," : ",n)})):"--"))},B=function(e){var t=e.patientId,n=(0,x.useTranslation)().t,a=function(e){var t,n,a=(0,R.ZP)("/ws/rest/v1/relationship?v=".concat("custom:(display,uuid,personA:(age,display,birthdate,uuid),personB:(age,display,birthdate,uuid),relationshipType:(uuid,display,description,aIsToB,bIsToA))","&person=").concat(e),T.openmrsFetch),r=a.data,i=a.error,l=a.isValidating,o=(null==r||null===(t=r.data)||void 0===t||null===(n=t.results)||void 0===n?void 0:n.length)?function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var l,o=t[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var s=l.value;e===s.personA.uuid?n.push({uuid:s.uuid,display:s.personB.display,relativeAge:s.personB.age,relativeUuid:s.personB.uuid,relationshipType:s.relationshipType.bIsToA}):n.push({uuid:s.uuid,display:s.personA.display,relativeAge:s.personA.age,relativeUuid:s.personA.uuid,relationshipType:s.relationshipType.aIsToB})}}catch(e){r=!0,i=e}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}(e,r.data.results):null;return{data:r?o:null,isError:i,isLoading:!r&&!i,isValidating:l}}(t),i=a.data,l=a.isLoading;return r().createElement(r().Fragment,null,r().createElement("p",{className:M.heading},n("relationships","Relationships")),r().createElement(r().Fragment,null,l?r().createElement(A.Z,null):(null==i?void 0:i.length)?r().createElement("ul",null,i.map((function(e){return r().createElement("li",{key:e.uuid,className:M.relationship},r().createElement("div",null,e.display),r().createElement("div",null,e.relationshipType),r().createElement("div",null,"".concat(e.relativeAge," ").concat(1===e.relativeAge?"yr":"yrs")))}))):"--"))};const H=function(e){var t=e.address,n=e.patientId,a=t?t.find((function(e){return e.preferred})):void 0;return r().createElement("div",{className:M.contactDetails},r().createElement("div",{className:M.row},r().createElement("div",{className:M.col},r().createElement(P,{address:a})),r().createElement("div",{className:M.col},r().createElement(z,{patientUuid:n}))),r().createElement("div",{className:M.row},r().createElement("div",{className:M.col},r().createElement(B,{patientId:n})),r().createElement("div",{className:M.col})))};var D=n(5273);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}const U=function(e){var t,n,i=e.dropDownMenu,l=e.menuTitle,o=e.children,s=(t=(0,a.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1],_=(0,a.useRef)(null);(0,a.useEffect)((function(){i||u((function(e){return e})),u((function(){return!1}))}),[i]);var d=(0,a.useCallback)((function(){return u((function(e){return!e}))}),[]);return(0,a.useEffect)((function(){var e=function(e){_.current&&!_.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[_]),r().createElement("div",{"data-overflow-menu":!0,className:"bx--overflow-menu",style:{width:"auto",height:"auto"},ref:_},r().createElement(D.Z,{kind:"ghost",className:"bx--overflow-menu__trigger ".concat(c&&"bx--overflow-menu--open"),"aria-haspopup":"true","aria-expanded":c,id:"custom-actions-overflow-menu-trigger","aria-controls":"custom-actions-overflow-menu",onClick:d,style:{width:"auto",height:"auto",padding:"1rem",color:"#0f62fe",outline:"2rem solid transparent",boxShadow:c?"0 2px 6px 0 rgb(0 0 0 / 30%)":"none"}},l),r().createElement("div",{className:"bx--overflow-menu-options bx--overflow-menu--flip",tabIndex:0,"data-floating-menu-direction":"bottom",role:"menu","aria-labelledby":"custom-actions-overflow-menu-trigger",id:"custom-actions-overflow-menu",style:{display:c?"block":"none",top:"3.125rem",minWidth:"initial",left:"auto",right:"0",backgroundColor:"#f4f4f4",marginRight:"0.2rem",boxShadow:"0 6px 6px rgb(0 0 0 / 30%)"}},r().createElement("ul",{className:"bx--overflow-menu-options__content"},o),r().createElement("span",null)))};var O=n(9361),F={};F.styleTagTransform=g(),F.setAttributes=d(),F.insert=u().bind(null,"head"),F.domAPI=s(),F.insertStyleElement=p(),l()(O.Z,F);const j=O.Z&&O.Z.locals?O.Z.locals:void 0;var q=n(5923),X=n(9740);function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=function(){return r().createElement("div",{className:j.container,role:"banner"},r().createElement("div",{className:j.patientBanner},r().createElement(q.Z,{className:j.patientAvatar}),r().createElement("div",{className:"".concat(j.patientNameRow," ").concat(j.patientInfo)},r().createElement("div",{className:j.flexRow},r().createElement(A.Z,null)),r().createElement("div",{className:j.demographics},r().createElement(q.Z,null),"路",r().createElement(q.Z,null),"路",r().createElement(q.Z,null)),r().createElement("div",{className:j.identifiers},r().createElement(A.Z,null)))),r().createElement("div",{className:j.buttonCol},r().createElement(X.Z,null),r().createElement(X.Z,null)))};const K=function(e){var t,n=e.patient,a=e.patientUuid,i=e.onTransition,l=e.hideActionsOverflow,o=e.onPatientSelect,s=(0,x.useTranslation)().t,c=r().useRef(null),u=r().useRef(null),_=(r().useRef(null),(0,T.useVisit)(a).currentVisit),d=Y(r().useState(!1),2),m=d[0],p=d[1],h=(0,T.useConfig)(),g=r().useMemo((function(){return{patientUuid:a,onPatientSelect:o,onTransition:i,launchPatientChart:!0}}),[a,o,i]),f=n.person.personName.display,v=r().useMemo((function(){return{patientUuid:a,patientName:f}}),[a,f]),b=Y(r().useState(!1),2),y=b[0],E=b[1],w=r().useCallback((function(e){e.stopPropagation(),E((function(e){return!e}))}),[]),A=r().createElement("div",{className:j.patientAvatar,role:"img"},r().createElement(T.ExtensionSlot,{extensionSlotName:"patient-photo-slot",state:v})),R=r().useCallback((function(e){e.stopPropagation(),p((function(e){return!e}))}),[]);return r().createElement(r().Fragment,null,r().createElement("div",{className:j.container,role:"banner"},r().createElement(T.ConfigurableLink,{to:(0,T.interpolateString)(h.search.patientResultUrl,{patientUuid:a}),onClick:function(e){return o(e,a)},className:"".concat(j.patientBanner," ").concat(o&&j.patientAvatarButton)},A,r().createElement("div",{className:"".concat(j.patientNameRow," ").concat(j.patientInfo)},r().createElement("div",{className:j.flexRow},r().createElement("span",{className:j.patientName},f),r().createElement(T.ExtensionSlot,{extensionSlotName:"patient-banner-tags-slot",state:{patientUuid:a,patient:n},className:j.flexRow})),r().createElement("div",{className:j.demographics},r().createElement("span",null,function(e){switch(e){case"M":return s("male","Male");case"F":return s("female","Female");case"O":return s("other","Other");case"U":return s("unknown","Unknown");default:return e}}(n.person.gender))," 路 ",r().createElement("span",null,(0,T.age)(n.person.birthdate))," ","路 ",r().createElement("span",null,(0,T.formatDate)((0,T.parseDate)(n.person.birthdate),{mode:"wide",time:!1}))),r().createElement("div",{className:j.identifiers},(null===(t=n.identifiers)||void 0===t?void 0:t.length)?n.identifiers.map((function(e){return e.identifier})).join(", "):"--"))),r().createElement("div",{className:j.buttonCol},!l&&r().createElement("div",{ref:c},r().createElement(U,{menuTitle:r().createElement(r().Fragment,null,r().createElement("span",{className:j.actionsButtonText},s("actions","Actions"))," ",r().createElement(C.Z,{style:{marginLeft:"0.5rem"}})),dropDownMenu:m},r().createElement(T.ExtensionSlot,{onClick:R,extensionSlotName:"patient-search-actions-slot",className:j.overflowMenuItemList,state:g}))),_?r().createElement(D.Z,{ref:u,kind:"ghost",renderIcon:y?S.Z:N.Z,iconDescription:"Toggle contact details",onClick:w,style:{marginTop:"-0.25rem"}},y?s("showLess","Show less"):s("showAllDetails","Show all details")):r().createElement(T.ExtensionSlot,{extensionSlotName:"start-visit-button-slot",state:{patientUuid:a}}))),y&&r().createElement(H,{address:n.person.addresses,patientId:n.uuid}))};var G=n(6241),J={};J.styleTagTransform=g(),J.setAttributes=d(),J.insert=u().bind(null,"head"),J.domAPI=s(),J.insertStyleElement=p(),l()(G.Z,J);const $=G.Z&&G.Z.locals?G.Z.locals:void 0;var Q=n(2104),ee=n(1098);function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}const ne=function(e){var t,n=e.totalPages,i=e.currentPage,l=e.setCurrentPage,o=e.hasMore,s=(0,a.useCallback)((function(){l(Math.max(0,i-1))}),[i,l]),c=(0,a.useCallback)((function(){l(Math.min(n,i+1))}),[i,l,n]);return n<=1?r().createElement(r().Fragment,null):r().createElement("div",{className:$.paginationBar},r().createElement(D.Z,{kind:"ghost",hasIconOnly:!0,iconDescription:"",renderIcon:Q.Z,onClick:s,disabled:1==i}),r().createElement("div",{className:$.pageNumbers},(t=Array(n).keys(),function(e){if(Array.isArray(e))return te(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return r().createElement(D.Z,{key:e,kind:"ghost",onClick:function(){return l(e+1)},className:"".concat($.paginationButton," ").concat(e+1===i&&$.activeButton)},e+1)}))),r().createElement(D.Z,{kind:"ghost",hasIconOnly:!0,iconDescription:"",renderIcon:ee.Z,onClick:c,disabled:!o&&i===n}))};var ae=n(634);function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const le=function(e){var t=e.query,n=e.stickyPagination,i=e.onPatientSelect,l=e.inTabletOrOverlay,o=(0,x.useTranslation)().t,s=(0,T.useConfig)(),c=ie((0,a.useState)(1),2),u=c[0],_=c[1],d=ie((0,a.useState)(1),2),m=d[0],p=d[1],h=l?15:5,g=(0,ae.C)(t,!!t,h,u),f=g.isLoading,v=g.data,N=g.fetchError,S=g.hasMore,C=g.totalResults;(0,a.useEffect)((function(){f||p(Math.ceil(C/h))}),[f,C,h]),(0,a.useEffect)((function(){_(1)}),[t]);var A=(0,a.useCallback)((function(e,t){e.preventDefault(),i?i(t):(0,T.navigate)({to:(0,T.interpolateString)(s.search.patientResultUrl,{patientUuid:t})})}),[s,i]);return t?f?r().createElement("div",{className:b.searchResultsContainer},r().createElement("div",{className:"".concat(b.searchResults," ").concat(n&&b.broadBottomMargin)},r().createElement("div",null,r().createElement("h2",{className:"".concat(b.resultsHeader," ").concat(b.paddedResultsHeader," ").concat(l&&b.leftPaddedResultHeader)},r().createElement("span",{className:b.productiveHeading02},C?"".concat(C," ").concat(o("seachResultsSmall","search results")):o("searchingText","Searching..."))),r().createElement("div",{className:b.results},r().createElement(W,null),r().createElement(W,null),r().createElement(W,null),r().createElement(W,null),r().createElement(W,null))),r().createElement("div",{className:"".concat(b.pagination," ").concat(n&&b.stickyPagination)},r().createElement(ne,{setCurrentPage:_,currentPage:u,hasMore:S,totalPages:m})))):N?r().createElement(E.n9,{className:"".concat(b.emptySearchResultsTile," ").concat(l&&b.paddedEmptySearchResultsTile)},r().createElement(w.Z,null),r().createElement("div",null,r().createElement("p",{className:b.errorMessage},o("error","Error")),r().createElement("p",{className:b.errorCopy},o("errorCopy","Sorry, there was an error. You can try to reload this page, or contact the site administrator and quote the error code above.")))):(0,y.Z)(v)?r().createElement(r().Fragment,null,r().createElement("h2",{className:"".concat(b.resultsHeader," ").concat(l&&b.leftPaddedResultHeader)},r().createElement("span",{className:b.productiveHeading02},"0 ",o("seachResultsSmall","search results"))),r().createElement(E.n9,{className:"".concat(b.emptySearchResultsTile," ").concat(l&&b.paddedEmptySearchResultsTile)},r().createElement(w.Z,null),r().createElement("p",{className:b.emptyResultText},o("noPatientChartsFoundMessage","Sorry, no patient charts have been found")),r().createElement("p",{className:b.actionText},r().createElement("span",null,o("trySearchWithPatientUniqueID","Try searching with the patient's unique ID number")),r().createElement("br",null),r().createElement("span",null,o("orPatientName","OR the patient's name(s)"))))):r().createElement("div",null,r().createElement("div",{className:"".concat(b.searchResults," ").concat(n&&b.broadBottomMargin)},r().createElement("h2",{className:"".concat(b.resultsHeader," ").concat(l&&b.leftPaddedResultHeader)},r().createElement("span",{className:b.productiveHeading02},C," ",o("seachResultsSmall","search results"))),r().createElement("div",{className:b.results},v.map((function(e){return r().createElement(K,{onPatientSelect:A,patientUuid:e.uuid,patient:e})})))),r().createElement("div",{className:"".concat(b.pagination," ").concat(n&&b.stickyPagination)},r().createElement(ne,{setCurrentPage:_,currentPage:u,hasMore:S,totalPages:m}))):r().createElement(r().Fragment,null,r().createElement("h2",{className:"".concat(b.resultsHeader," ").concat(l&&b.leftPaddedResultHeader)},r().createElement("span",{className:b.productiveHeading02},"0 ",o("seachResultsSmall","search results"))),r().createElement(E.n9,{className:"".concat(b.emptySearchResultsTile," ").concat(l&&b.paddedEmptySearchResultsTile)},r().createElement(w.Z,null),r().createElement("p",{className:b.emptyResultText},o("noPatientChartsFoundMessage","Sorry, no patient charts have been found")),r().createElement("p",{className:b.actionText},r().createElement("span",null,o("trySearchWithPatientUniqueID","Try searching with the patient's unique ID number")),r().createElement("br",null),r().createElement("span",null,o("orPatientName","OR the patient's name(s)")))))}},634:(e,t,n)=>{n.d(t,{C:()=>u,q:()=>_});var a=n(9902),r=n(3066),i=n(9857),l=n(6635);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function s(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c="custom:(patientId,uuid,identifiers,display,patientIdentifier:(uuid,identifier),person:(gender,age,birthdate,birthdateEstimated,personName,addresses,display,dead,deathDate),attributes:(value,attributeType:(name)))";function u(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:c,s=(0,r.useConfig)(),u="/ws/rest/v1/patient?q=".concat(e,"&v=").concat(o,"&limit=").concat(n,"&totalCount=true");s.includeDead&&(u+="&includeDead=".concat(null==s?void 0:s.includeDead)),l>1&&(u+="&startIndex=".concat((l-1)*n));var _=(0,i.ZP)(t?u:null,r.openmrsFetch),d=_.data,m=_.isValidating,p=_.error,h=(0,a.useMemo)((function(){var e,t,n,a;return{data:null==d||null===(e=d.data)||void 0===e?void 0:e.results,isLoading:!(null==d?void 0:d.data)&&!p,fetchError:p,hasMore:null==d||null===(t=d.data)||void 0===t||null===(n=t.links)||void 0===n?void 0:n.some((function(e){return"next"===e.rel})),loadingNewData:m,totalResults:null==d||null===(a=d.data)||void 0===a?void 0:a.totalCount}}),[d,m,p]);return h}function _(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:c,u=(0,a.useCallback)((function(n,a){var r;if(a&&!(null==a||null===(r=a.data)||void 0===r?void 0:r.links.some((function(e){return"next"===e.rel}))))return null;var l="/ws/rest/v1/patient?q=".concat(e,"&v=").concat(o,"&includeDead=").concat(t,"&limit=").concat(i,"&totalCount=true");return n&&(l+="&startIndex=".concat(n*i)),l}),[e,o,t,i]),_=(0,l.ZP)(n?u:null,r.openmrsFetch),d=_.data,m=_.isValidating,p=_.setSize,h=_.error,g=_.size,f=(0,a.useMemo)((function(){var e,t,n,a,r;return{data:d?(e=[]).concat.apply(e,s(null==d?void 0:d.map((function(e){var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.results})))):null,isLoading:!d&&!h,fetchError:h,hasMore:!!(null==d?void 0:d.length)&&!!(null===(t=d[d.length-1].data)||void 0===t||null===(n=t.links)||void 0===n?void 0:n.some((function(e){return"next"===e.rel}))),loadingNewData:m,setPage:p,currentPage:g,totalResults:null==d||null===(a=d[0])||void 0===a||null===(r=a.data)||void 0===r?void 0:r.totalCount}}),[d,m,h,p,g]);return f}},9653:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(9902);const r=function(e){var t=e.width,n=void 0===t?"61":t,r=e.height,i=void 0===r?"59":r;return a.createElement("svg",{width:n,height:i,viewBox:"0 0 61 59"},a.createElement("title",null,"Empty data illustration"),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M38.133 13.186H21.947c-.768.001-1.39.623-1.39 1.391V50.55l-.186.057-3.97 1.216a.743.743 0 01-.927-.493L3.664 12.751a.742.742 0 01.492-.926l6.118-1.874 17.738-5.43 6.119-1.873a.741.741 0 01.926.492L38.076 13l.057.186z",fill:"#E0E0E0"}),a.createElement("path",{d:"M41.664 13L38.026 1.117A1.576 1.576 0 0036.056.07l-8.601 2.633-17.737 5.43-8.603 2.634a1.578 1.578 0 00-1.046 1.97l12.436 40.616a1.58 1.58 0 001.969 1.046l5.897-1.805.185-.057v-.194l-.185.057-5.952 1.822a1.393 1.393 0 01-1.737-.923L.247 12.682a1.39 1.39 0 01.923-1.738L9.772 8.31 27.51 2.881 36.112.247a1.393 1.393 0 011.737.923L41.47 13l.057.186h.193l-.057-.185z",fill:"#8D8D8D"}),a.createElement("path",{d:"M11.378 11.855a.836.836 0 01-.798-.59L9.385 7.361a.835.835 0 01.554-1.042l16.318-4.996a.836.836 0 011.042.554l1.195 3.902a.836.836 0 01-.554 1.043l-16.318 4.995a.831.831 0 01-.244.037z",fill:"#C6C6C6"}),a.createElement("circle",{fill:"#C6C6C6",cx:17.636,cy:2.314,r:1.855}),a.createElement("circle",{fill:"#FFF",fillRule:"nonzero",cx:17.636,cy:2.314,r:1.175}),a.createElement("path",{d:"M55.893 53.995H24.544a.79.79 0 01-.788-.789V15.644a.79.79 0 01.788-.788h31.349a.79.79 0 01.788.788v37.562a.79.79 0 01-.788.789z",fill:"#E0E0E0"}),a.createElement("path",{d:"M41.47 13H21.948a1.579 1.579 0 00-1.576 1.577V52.4l.185-.057V14.577c.001-.768.623-1.39 1.391-1.39h19.581L41.471 13zm17.02 0H21.947a1.579 1.579 0 00-1.576 1.577v42.478c0 .87.706 1.576 1.576 1.577H58.49a1.579 1.579 0 001.576-1.577V14.577a1.579 1.579 0 00-1.576-1.576zm1.39 44.055c0 .768-.622 1.39-1.39 1.392H21.947c-.768-.001-1.39-.624-1.39-1.392V14.577c0-.768.622-1.39 1.39-1.39H58.49c.768 0 1.39.622 1.39 1.39v42.478z",fill:"#8D8D8D"}),a.createElement("path",{d:"M48.751 17.082H31.686a.836.836 0 01-.835-.835v-4.081c0-.46.374-.834.835-.835H48.75c.461 0 .834.374.835.835v4.08c0 .462-.374.835-.835.836z",fill:"#C6C6C6"}),a.createElement("circle",{fill:"#C6C6C6",cx:40.218,cy:9.755,r:1.855}),a.createElement("circle",{fill:"#FFF",fillRule:"nonzero",cx:40.218,cy:9.755,r:1.13})))}}}]);