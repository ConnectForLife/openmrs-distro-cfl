"use strict";(self.webpackChunk_openmrs_esm_patient_search_app=self.webpackChunk_openmrs_esm_patient_search_app||[]).push([[380],{5380:(e,a,n)=>{n.d(a,{Z:()=>P});var t,l=n(145),o=n(5882),r=n(4245),c=n(1905),s=n(8775),i=n(8358),u=n(5495),d=n(9902),p=n.n(d),h=["children"],f=p().forwardRef((function(e,a){var n=e.children,l=(0,u._)(e,h);return p().createElement(u.I,(0,u.a)({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",ref:a},l),t||(t=p().createElement("path",{d:"M15,14.3L10.7,10c1.9-2.3,1.6-5.8-0.7-7.7S4.2,0.7,2.3,3S0.7,8.8,3,10.7c2,1.7,5,1.7,7,0l4.3,4.3L15,14.3z M2,6.5\tC2,4,4,2,6.5,2S11,4,11,6.5S9,11,6.5,11S2,9,2,6.5z"})),n)})),m=n(2779),g=n.n(m),b=n(3980),v=n.n(b),Z=n(4509),y=n(4817),C=n(7304),T=n(330),x=n(3597),E=n(3834),w=["autoComplete","className","closeButtonLabelText","defaultValue","disabled","id","labelText","light","onChange","onClear","onKeyDown","placeHolderText","placeholder","renderIcon","role","size","type","value"];function N(e){var a,n,t=e.autoComplete,l=void 0===t?"off":t,u=e.className,h=e.closeButtonLabelText,f=void 0===h?"Clear search input":h,m=e.defaultValue,b=e.disabled,v=e.id,x=e.labelText,N=e.light,S=e.onChange,I=void 0===S?function(){}:S,O=e.onClear,D=void 0===O?function(){}:O,L=e.onKeyDown,V=e.placeHolderText,z=e.placeholder,B=void 0===z?"":z,K=e.renderIcon,R=e.role,P=void 0===R?"searchbox":R,k=e.size,H=void 0===k?"md":k,M=e.type,j=void 0===M?"text":M,A=e.value,F=(0,s.Z)(e,w),q=(0,T.A)(),Q=(0,d.useRef)(null),G=(0,d.useRef)(null),J=(0,C.M)("search-input"),U=v||J,W="".concat(U,"-search"),X=(0,d.useState)(A||m||!1),Y=(0,c.Z)(X,2),$=Y[0],ee=Y[1],ae=(0,d.useState)(A),ne=(0,c.Z)(ae,2),te=ne[0],le=ne[1],oe=g()((a={},(0,r.Z)(a,"".concat(q,"--search"),!0),(0,r.Z)(a,"".concat(q,"--search--sm"),"sm"===H),(0,r.Z)(a,"".concat(q,"--search--md"),"md"===H),(0,r.Z)(a,"".concat(q,"--search--lg"),"lg"===H),(0,r.Z)(a,"".concat(q,"--search--light"),N),(0,r.Z)(a,"".concat(q,"--search--disabled"),b),(0,r.Z)(a,u,u),a)),re=g()((n={},(0,r.Z)(n,"".concat(q,"--search-close"),!0),(0,r.Z)(n,"".concat(q,"--search-close--hidden"),!$),n));function ce(e){if(A){var a=Object.assign({},e.target,{target:{value:""}});I(a)}else Q.current.value="",I(e);var n,t;D(),ee(!1),(t=(n=Q).current||n)&&t.focus&&document.activeElement!==t&&t.focus()}return A!==te&&(ee(!!A),le(A)),p().createElement("div",{role:"search","aria-labelledby":W,className:oe},p().createElement("div",{className:"".concat(q,"--search-magnifier"),ref:G},p().createElement(_,{icon:K})),p().createElement("label",{id:W,htmlFor:U,className:"".concat(q,"--label")},x),p().createElement("input",(0,o.Z)({},F,{autoComplete:l,className:"".concat(q,"--search-input"),defaultValue:m,disabled:b,role:P,ref:Q,id:U,onChange:(0,E.M)([I,function(e){ee(""!==e.target.value)}]),onKeyDown:(0,E.M)([L,function(e){(0,Z.EQ)(e,y.L1)&&(e.stopPropagation(),ce(e))}]),placeholder:V||B,type:j,value:A})),p().createElement("button",{"aria-label":f,className:re,disabled:b,onClick:ce,type:"button"},p().createElement(i.PcV,null)))}function _(e){var a=e.icon,n=(0,T.A)();return a?p().cloneElement(a,{className:"".concat(n,"--search-magnifier-icon")}):p().createElement(f,{className:"".concat(n,"--search-magnifier-icon")})}N.propTypes={autoComplete:v().string,className:v().string,closeButtonLabelText:v().string,defaultValue:v().oneOfType([v().string,v().number]),disabled:v().bool,id:v().string,labelText:v().node.isRequired,light:v().bool,onChange:v().func,onClear:v().func,onKeyDown:v().func,placeHolderText:(0,x.Z)(v().string,"\nThe prop `placeHolderText` for Search has been deprecated in favor of `placeholder`. Please use `placeholder` instead."),placeholder:v().string,renderIcon:v().oneOfType([v().func,v().object]),role:v().string,size:v().oneOf(["sm","md","lg"]),type:v().string,value:v().oneOfType([v().string,v().number])},_.propTypes={icon:v().oneOfType([v().func,v().object])};const S=N;var I=n(7055),O=n(220),D=n(8127),L=n(927),V=n(780),z=n(5806),B=n(309),K=["className","type","id","placeHolderText","placeholder","labelText","closeButtonLabelText","small","size","light","disabled","onChange","onKeyDown","renderIcon","onClear"];var R=function(e){(0,L.Z)(l,e);var a,n,t=(a=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,z.Z)(a);if(n){var l=(0,z.Z)(this).constructor;e=Reflect.construct(t,arguments,l)}else e=t.apply(this,arguments);return(0,V.Z)(this,e)});function l(){var e;(0,I.Z)(this,l);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),(0,r.Z)((0,D.Z)(e),"state",{hasContent:e.props.value||e.props.defaultValue||!1,prevValue:e.props.value}),(0,r.Z)((0,D.Z)(e),"clearInput",(function(a){if(e.props.value){var n=Object.assign({},a.target,{target:{value:""}});e.props.onChange(n)}else e.input.value="",e.props.onChange(a);e.props.onClear(),e.setState({hasContent:!1},(function(){return e.input.focus()}))})),(0,r.Z)((0,D.Z)(e),"handleChange",(function(a){e.setState({hasContent:""!==a.target.value})})),(0,r.Z)((0,D.Z)(e),"handleKeyDown",(function(a){(0,Z.EQ)(a,y.L1)&&e.clearInput(a)})),e}return(0,O.Z)(l,[{key:"render",value:function(){var e,a=this,n=this.props,t=n.className,l=n.type,c=n.id,u=void 0===c?this._inputId=this._inputId||"search__input__id_".concat(Math.random().toString(36).substr(2)):c,d=n.placeHolderText,h=n.placeholder,m=n.labelText,b=n.closeButtonLabelText,v=n.small,Z=n.size,y=void 0===Z?v?"sm":"xl":Z,C=n.light,x=n.disabled,w=n.onChange,N=n.onKeyDown,_=n.renderIcon,S=(n.onClear,(0,s.Z)(n,K)),I=this.state.hasContent,O=this.context;return O.enabled&&(e=O.enabled("enable-v11-release")),p().createElement(T.T.Consumer,null,(function(n){var c,s,v,Z=g()((c={},(0,r.Z)(c,"".concat(n,"--search"),!0),(0,r.Z)(c,"".concat(n,"--search--sm"),"sm"===y),(0,r.Z)(c,"".concat(n,"--search--lg"),e?"md"===y:"lg"===y),(0,r.Z)(c,"".concat(n,"--search--xl"),e?"lg"===y:"xl"===y),(0,r.Z)(c,"".concat(n,"--search--light"),C),(0,r.Z)(c,"".concat(n,"--search--disabled"),x),(0,r.Z)(c,t,t),c)),T=g()((s={},(0,r.Z)(s,"".concat(n,"--search-close"),!0),(0,r.Z)(s,"".concat(n,"--search-close--hidden"),!I),s));_&&(v=p().cloneElement(_,{className:"".concat(n,"--search-magnifier-icon")}));var O="".concat(u,"-search"),D=_?v:p().createElement(f,{className:"".concat(n,"--search-magnifier-icon")});return p().createElement("div",{role:"search","aria-labelledby":O,className:Z},p().createElement("div",{className:"".concat(n,"--search-magnifier"),ref:function(e){a.magnifier=e}},D),p().createElement("label",{id:O,htmlFor:u,className:"".concat(n,"--label")},m),p().createElement("input",(0,o.Z)({role:"searchbox",autoComplete:"off"},S,{type:l,disabled:x,className:"".concat(n,"--search-input"),id:u,placeholder:d||h,onChange:(0,E.M)([w,a.handleChange]),onKeyDown:(0,E.M)([N,a.handleKeyDown]),ref:function(e){a.input=e}})),p().createElement("button",{className:T,disabled:x,onClick:a.clearInput,type:"button","aria-label":b},p().createElement(i.PcV,null)))}))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var n=e.value;return a.prevValue===n?null:{hasContent:!!n,prevValue:n}}}]),l}(d.Component);(0,r.Z)(R,"propTypes",{className:v().string,closeButtonLabelText:v().string,defaultValue:v().oneOfType([v().string,v().number]),disabled:v().bool,id:v().string,labelText:v().node.isRequired,light:v().bool,onChange:v().func,onClear:v().func,onKeyDown:v().func,placeHolderText:(0,x.Z)(v().string,"\nThe prop `placeHolderText` for Search has been deprecated in favor of `placeholder`. Please use `placeholder` instead."),placeholder:v().string,renderIcon:v().oneOfType([v().func,v().object]),size:v().oneOf(["sm","md","lg","xl"]),small:(0,x.Z)(v().bool,'\nThe prop `small` for Search has been deprecated in favor of `size`. Please use `size="sm"` instead.'),type:v().string,value:v().oneOfType([v().string,v().number])}),(0,r.Z)(R,"contextType",B.pG),(0,r.Z)(R,"defaultProps",{type:"text",placeholder:"",closeButtonLabelText:"Clear search input",onChange:function(){},onClear:function(){}});const P=l.am("enable-v11-release")?S:R}}]);