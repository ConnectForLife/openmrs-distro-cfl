"use strict";(self.webpackChunk_openmrs_esm_active_visits_app=self.webpackChunk_openmrs_esm_active_visits_app||[]).push([[788],{3002:(e,t,i)=>{i.d(t,{Z:()=>o});var r=i(2609),n=i.n(r)()((function(e){return e[1]}));n.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;font:inherit;font-size:100%;vertical-align:baseline;border:0}button,select,input,textarea{font-family:inherit;border-radius:0}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:\"\"}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code{font-family:'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-active-visits__visit-detail-overview__skeleton___vjxGq{0%{transform:scaleX(0);transform-origin:left;opacity:.3}20%{transform:scaleX(1);transform-origin:left;opacity:1}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{transform:scaleX(0);transform-origin:left;opacity:.3}}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-active-visits__visit-detail-overview__productiveHeading01___7mAw1{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}.-esm-active-visits__visit-detail-overview__productiveHeading02___5-t\\+w{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}.-esm-active-visits__visit-detail-overview__bodyLong01___3DCLv{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.-esm-active-visits__visit-detail-overview__caption01___yCfJc{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.-esm-active-visits__visit-detail-overview__bodyShort02___fuXhU{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.-esm-active-visits__visit-detail-overview__text02___hhPqo{color:#525252}.-esm-active-visits__visit-detail-overview__text01___8ug6t{color:#161616}.-esm-active-visits__visit-detail-overview__container___mkGcD{display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.-esm-active-visits__visit-detail-overview__encounterHeading___2xolA{text-align:left;width:100%;margin:0 1rem 1.3125rem 1rem;color:#161616}.-esm-active-visits__visit-detail-overview__visitsDetailWidgetContainer___ZvlEp{background-color:#fff;width:100%;border:1px solid #e0e0e0}.-esm-active-visits__visit-detail-overview__visitsDetailHeaderContainer___fRjET{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0 .75rem 1rem;background-color:#fff}.-esm-active-visits__visit-detail-overview__visitsDetailHeaderContainer___fRjET>h4:after{content:\"\";display:block;width:2rem;padding-top:.188rem;border-bottom:.375rem solid #007d79}.-esm-active-visits__visit-detail-overview__toggleButtons___6i420{margin:0 1rem;height:2.5rem}.-esm-active-visits__visit-detail-overview__toggle___1CMPj{border:1px solid #a6c8ff}.-esm-active-visits__visit-detail-overview__toggle___1CMPj:hover{background-color:#edf5ff}.-esm-active-visits__visit-detail-overview__toggle___1CMPj:active,.-esm-active-visits__visit-detail-overview__toggle___1CMPj:focus{box-shadow:none;background-color:#edf5ff}.-esm-active-visits__visit-detail-overview__toggleActive___Z\\+gk6{background-color:#edf5ff;border:1px solid #0f62fe}.-esm-active-visits__visit-detail-overview__toggleActive___Z\\+gk6:active,.-esm-active-visits__visit-detail-overview__toggleActive___Z\\+gk6:focus{box-shadow:none;border:1px solid #0f62fe;background-color:#edf5ff}.-esm-active-visits__visit-detail-overview__toggle___1CMPj:first-of-type{border-radius:.25rem 0 0 .25rem}.-esm-active-visits__visit-detail-overview__toggle___1CMPj:last-of-type{border-radius:0 .25rem .25rem 0}.-esm-active-visits__visit-detail-overview__customTable___8OnwU tr[data-parent-row]:nth-child(odd) td{background-color:#fff}.-esm-active-visits__visit-detail-overview__customTable___8OnwU tbody tr[data-parent-row]:nth-child(even) td{background-color:#f4f4f4}.-esm-active-visits__visit-detail-overview__encounterEmptyState___QNHmv{text-align:center;margin:0 1rem 1rem 1rem}.-esm-active-visits__visit-detail-overview__expandedRow___o7vyJ>td{padding:inherit !important}.-esm-active-visits__visit-detail-overview__expandedRow___o7vyJ>td>div{max-height:max-content !important}.-esm-active-visits__visit-detail-overview__observation___Eku\\+V{display:grid;grid-template-columns:max-content auto;grid-gap:.5rem;margin:.5rem 0}.-esm-active-visits__visit-detail-overview__observation___Eku\\+V>span{align-self:center}.-esm-active-visits__visit-detail-overview__summaryContainer___6ueAF{margin-left:1rem;display:grid;grid-template-columns:max-content auto}.-esm-active-visits__visit-detail-overview__flexSections___K3zUQ{display:flex}.-esm-active-visits__visit-detail-overview__verticalTabs___8bwHK{margin:1rem 0}.-esm-active-visits__visit-detail-overview__verticalTabs___8bwHK>ul{flex-direction:column !important}.-esm-active-visits__visit-detail-overview__tab___ZEwef{margin-left:0 !important}.-esm-active-visits__visit-detail-overview__tab___ZEwef>button{border-bottom:0 !important;border-left:3px solid #e0e0e0 !important}.-esm-active-visits__visit-detail-overview__tab___ZEwef>button,.-esm-active-visits__visit-detail-overview__tab___ZEwef>button:focus,.-esm-active-visits__visit-detail-overview__tab___ZEwef>button:active{outline:0 !important;outline-offset:0 !important}.-esm-active-visits__visit-detail-overview__selectedTab___RoUbN>button{border-left:3px solid #007d79 !important;border-bottom:0 !important;font-weight:600 !important}.-esm-active-visits__visit-detail-overview__tabContent___U1Tpl{border-top:1px solid #e0e0e0;padding:1rem 0;width:70%}.-esm-active-visits__visit-detail-overview__medicationBlock___4eXwy{background-color:#f4f4f4;padding:.625rem 6.75rem .75rem 1.063rem;margin-top:1.5rem;width:100% !important}.-esm-active-visits__visit-detail-overview__medicationBlock___4eXwy:first-child{margin-top:0}.-esm-active-visits__visit-detail-overview__diagnosesList___Q28KT{display:flex;padding-bottom:.5rem;margin:0 1rem;border-bottom:1px solid #e0e0e0}.-esm-active-visits__visit-detail-overview__diagnosis___Mlep4{border-radius:12px;height:1.5rem;display:flex;align-items:center;padding:0 .5rem;margin:0 .5rem .5rem 0}.-esm-active-visits__visit-detail-overview__primaryDiagnose___lmzUT{background-color:#d0e2ff;color:#0043ce}.-esm-active-visits__visit-detail-overview__secondaryDiagnose___a7ihp{background-color:#ffd7d9;color:#a2191f}.-esm-active-visits__visit-detail-overview__testSummaryExtension___y9BEk p{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px;color:#525252}",""]),n.locals={productiveHeading01:"-esm-active-visits__visit-detail-overview__productiveHeading01___7mAw1",productiveHeading02:"-esm-active-visits__visit-detail-overview__productiveHeading02___5-t+w",bodyLong01:"-esm-active-visits__visit-detail-overview__bodyLong01___3DCLv",caption01:"-esm-active-visits__visit-detail-overview__caption01___yCfJc",bodyShort02:"-esm-active-visits__visit-detail-overview__bodyShort02___fuXhU",text02:"-esm-active-visits__visit-detail-overview__text02___hhPqo",text01:"-esm-active-visits__visit-detail-overview__text01___8ug6t",container:"-esm-active-visits__visit-detail-overview__container___mkGcD",encounterHeading:"-esm-active-visits__visit-detail-overview__encounterHeading___2xolA",visitsDetailWidgetContainer:"-esm-active-visits__visit-detail-overview__visitsDetailWidgetContainer___ZvlEp",visitsDetailHeaderContainer:"-esm-active-visits__visit-detail-overview__visitsDetailHeaderContainer___fRjET",toggleButtons:"-esm-active-visits__visit-detail-overview__toggleButtons___6i420",toggle:"-esm-active-visits__visit-detail-overview__toggle___1CMPj",toggleActive:"-esm-active-visits__visit-detail-overview__toggleActive___Z+gk6",customTable:"-esm-active-visits__visit-detail-overview__customTable___8OnwU",encounterEmptyState:"-esm-active-visits__visit-detail-overview__encounterEmptyState___QNHmv",expandedRow:"-esm-active-visits__visit-detail-overview__expandedRow___o7vyJ",observation:"-esm-active-visits__visit-detail-overview__observation___Eku+V",summaryContainer:"-esm-active-visits__visit-detail-overview__summaryContainer___6ueAF",flexSections:"-esm-active-visits__visit-detail-overview__flexSections___K3zUQ",verticalTabs:"-esm-active-visits__visit-detail-overview__verticalTabs___8bwHK",tab:"-esm-active-visits__visit-detail-overview__tab___ZEwef",selectedTab:"-esm-active-visits__visit-detail-overview__selectedTab___RoUbN",tabContent:"-esm-active-visits__visit-detail-overview__tabContent___U1Tpl",medicationBlock:"-esm-active-visits__visit-detail-overview__medicationBlock___4eXwy",diagnosesList:"-esm-active-visits__visit-detail-overview__diagnosesList___Q28KT",diagnosis:"-esm-active-visits__visit-detail-overview__diagnosis___Mlep4",primaryDiagnose:"-esm-active-visits__visit-detail-overview__primaryDiagnose___lmzUT",secondaryDiagnose:"-esm-active-visits__visit-detail-overview__secondaryDiagnose___a7ihp",testSummaryExtension:"-esm-active-visits__visit-detail-overview__testSummaryExtension___y9BEk",skeleton:"-esm-active-visits__visit-detail-overview__skeleton___vjxGq"};const o=n},3788:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ee});var r=i(9902),n=i.n(r),o=i(8580),a=i(7030),s=i(4924),l=i(3066),c=i(9857),v=i(6062),d=i.n(v),_=i(4036),u=i.n(_),m=i(6793),f=i.n(m),p=i(7892),g=i.n(p),y=i(1173),b=i.n(y),h=i(2464),w=i.n(h),E=i(3002),x={};x.styleTagTransform=w(),x.setAttributes=g(),x.insert=f().bind(null,"head"),x.domAPI=u(),x.insertStyleElement=b(),d()(E.Z,x);const k=E.Z&&E.Z.locals?E.Z.locals:void 0;var T=i(6069),S=i(160),A=i(364),N=i(7500),C=i(8804),D=i(8117),Z=i(1358),U=i(2427),j=i(318),P=i(3783),M=i(1683),L=i(5787);function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}const I=function(e){var t=e.observations,i=(0,s.useTranslation)().t,o=(0,r.useMemo)((function(){return t&&t.map((function(e){var t,i,r=(t=e.display.split(":"),i=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw n}}return o}}(t,i)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?z(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{question:r[0],answer:r[1]}}))}),[t]);return o?o.length>0?n().createElement("div",{className:k.observation},o.map((function(e,t){return n().createElement(n().Fragment,{key:t},n().createElement("span",{className:k.caption01},e.question,": "),n().createElement("span",{className:"".concat(k.bodyShort02," ").concat(k.text01)},e.answer))}))):n().createElement("p",{className:k.caption01},i("noObservationsFound","No observations found")):n().createElement(L.Z,null)};function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},O.apply(this,arguments)}const R=function(e){var t,i,o=e.encounters,a=e.visitUuid,c=(0,s.useTranslation)().t,v="desktop"===(0,l.useLayoutType)(),d=(t=(0,r.useState)(0),i=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw n}}return o}}(t,i)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?H(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=d[0],u=d[1],m=(0,r.useRef)(null),f=(0,r.useMemo)((function(){return[{id:1,header:c("time","Time"),key:"time"},{id:2,header:c("encounterType","Encounter Type"),key:"encounterType"},{id:3,header:c("provider","Provider"),key:"provider"}]}),[c]);return(0,r.useEffect)((function(){var e;u(null==m||null===(e=m.current)||void 0===e?void 0:e.clientWidth);var t=function(){var e;return u(null==m||null===(e=m.current)||void 0===e?void 0:e.clientWidth)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),0!==o.length?n().createElement(T.ZP,{rows:o,headers:f},(function(e){var t=e.rows,i=e.headers,r=e.getHeaderProps,s=e.getRowProps,l=e.getTableProps;return n().createElement(S.Z,null,n().createElement(A.Z,O({className:k.customTable},l(),{size:v?"short":"normal"}),n().createElement(N.Z,null,n().createElement(C.Z,null,n().createElement(D.Z,null),i.map((function(e,t){return 0===t?n().createElement(Z.Z,O({id:"header_".concat(a,"_").concat(t),ref:m},r({header:e})),e.header):n().createElement(Z.Z,O({id:"header_".concat(a,"_").concat(t)},r({header:e})),e.header)})))),n().createElement(U.Z,null,t.map((function(e,t){return n().createElement(n().Fragment,{key:e.id},n().createElement(j.Z,O({},s({row:e})),e.cells.map((function(e){return n().createElement(P.Z,{key:e.id},e.value)}))),e.isExpanded&&n().createElement(M.Z,{className:k.expandedRow,style:{paddingLeft:v?"3rem":"4rem"},colSpan:i.length+2},n().createElement("div",{style:{marginLeft:_}},n().createElement(I,{observations:o[t].obs}))))})))))})):n().createElement("div",{className:k.encounterEmptyState},n().createElement("h4",{className:k.productiveHeading02},c("noEncountersFound","No encounters found")),n().createElement("p",{className:"".concat(k.bodyLong01," ").concat(k.text02)},c("thereIsNoInformationToDisplayHere","There is no information to display here")))};var B=i(3950),q=i(7513),F=i(8260);const X=function(e){var t=e.medications,i=(0,s.useTranslation)().t;return n().createElement(n().Fragment,null,t.length>0?t.map((function(e,t){var r,o,a,s,c,v,d,_,u;return(null===(r=e.order)||void 0===r?void 0:r.dose)&&"Drug Order"===(null===(o=e.order)||void 0===o||null===(a=o.orderType)||void 0===a?void 0:a.display)&&n().createElement(n().Fragment,{key:t},n().createElement("p",{className:"".concat(k.bodyLong01," ").concat(k.medicationBlock)},n().createElement("strong",null,(0,F.Z)(null===(s=e.order.drug)||void 0===s?void 0:s.name))," —"," ",null===(c=e.order.doseUnits)||void 0===c?void 0:c.display," — ",null===(v=e.order.route)||void 0===v?void 0:v.display,n().createElement("br",null),n().createElement("span",{className:k.label01},i("dose","Dose").toUpperCase())," ",n().createElement("strong",null,function(e,t){if(!e||!t)return"";var i=e.search(/\D/),r=parseInt(e.substring(0,i)),n=e.search(/\//),o=e.substring(i);if(n>=0){o=e.substring(i,n);var a=e.substring(n+1).search(/\D/),s=parseInt(e.substr(n+1,a)),l=e.substring(n+1+a);return"".concat(t," ").concat(o," (").concat(t/r*s," ").concat(l,")")}return"".concat(r*t," ").concat(o)}(null===(d=e.order.drug)||void 0===d?void 0:d.strength,e.order.dose).toLowerCase())," ","— ",null===(_=e.order.frequency)||void 0===_?void 0:_.display," —"," ",e.order.duration?i("orderDurationAndUnit","for {duration} {durationUnit}",{duration:e.order.duration,durationUnit:null===(u=e.order.durationUnits)||void 0===u?void 0:u.display}):i("orderIndefiniteDuration","Indefinite duration"),n().createElement("br",null),n().createElement("span",{className:k.label01},i("refills","Refills").toUpperCase())," ",e.order.numRefills),n().createElement("p",{className:k.caption01,style:{color:"#525252"}},(0,l.formatTime)((0,l.parseDate)(e.order.dateActivated))," ·"," ",e.provider&&e.provider.name," ·"," ",e.provider&&e.provider.role))})):n().createElement("p",{className:"".concat(k.bodyLong01," ").concat(k.text02)},i("noMedicationsFound","No medications found")))},V=function(e){var t=e.notes,i=(0,s.useTranslation)().t;return n().createElement(n().Fragment,null,t.length>0?t.map((function(e,t){return n().createElement(n().Fragment,{key:t},n().createElement("p",{className:"".concat(k.medicationBlock," ").concat(k.bodyLong01)},e.note),n().createElement("p",{className:k.caption01,style:{color:"#525252"}},e.time," · ",e.provider.name," · ",e.provider.role))})):n().createElement("p",{className:"".concat(k.bodyLong01," ").concat(k.text02)},i("noNotesFound","No notes found")))};function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}const Q=function(e){var t=e.patientUuid,i=e.encounters,o=(0,r.useMemo)((function(){var e=i.map((function(e){return"Encounter/".concat(e.uuid)}));return function(t){var i,r,n=(i=t,r=1,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw n}}return o}}(i,r)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?K(e,t):void 0}}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return e.includes(n.encounter.reference)}}),[i]);return n().createElement("div",{className:"".concat(k.bodyLong01," ").concat(k.testSummaryExtension)},n().createElement(l.ExtensionSlot,{extensionSlotName:"test-results-filtered-overview",state:{filter:o,patientUuid:t}}))};function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw n}}return o}}(e,t)||$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){if(e){if("string"==typeof e)return W(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?W(e,t):void 0}}const G=function(e){var t=e.encounters,i=e.patientUuid,o=(0,s.useTranslation)().t,a=J((0,r.useState)(0),2),c=a[0],v=a[1],d=J((0,r.useMemo)((function(){var e=[],i=[],r=[];return t.forEach((function(t){var n,o;(n=e).push.apply(n,function(e){if(Array.isArray(e))return W(e)}(o=t.orders.map((function(e){return{order:e,provider:{name:t.encounterProviders.length?t.encounterProviders[0].provider.person.display:"",role:t.encounterProviders.length?t.encounterProviders[0].encounterRole.display:""}}})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||$(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),"Visit Note"===t.encounterType.display&&t.obs.forEach((function(e){"Visit Diagnoses"===e.concept.display?i.push({diagnosis:e.groupMembers.find((function(e){return"PROBLEM LIST"===e.concept.display})).value.display,order:e.groupMembers.find((function(e){return"Diagnosis order"===e.concept.display})).value.display}):"Text of encounter note"===e.concept.display&&r.push({note:e.value,provider:{name:t.encounterProviders.length?t.encounterProviders[0].provider.person.display:"",role:t.encounterProviders.length?t.encounterProviders[0].encounterRole.display:""},time:(0,l.formatTime)((0,l.parseDate)(e.obsDatetime))})}))})),[i,r,e]}),[t]),3),_=d[0],u=d[1],m=d[2];return n().createElement("div",{className:k.summaryContainer},n().createElement("p",{className:k.productiveHeading01},o("diagnoses","Diagnoses")),n().createElement("div",{className:"".concat(k.caption01," ").concat(k.diagnosesList)},_.length>0?_.map((function(e,t){return n().createElement("span",{key:t,className:"".concat(k.diagnosis," ").concat("Primary"===e.order?k.primaryDiagnose:k.secondaryDiagnose)},e.diagnosis)})):n().createElement("span",{className:"".concat(k.bodyLong01," ").concat(k.text02),style:{marginBottom:"0.5rem"}},o("noDiagnosesFound","No diagnoses found"))),n().createElement(B.ZP,{className:k.verticalTabs},n().createElement(q.Z,{className:"".concat(k.tab," ").concat(k.bodyLong01," ").concat(0===c&&k.selectedTab),onClick:function(){return v(0)},id:"notes-tab",label:o("notes","Notes")},n().createElement(V,{notes:u})),n().createElement(q.Z,{className:"".concat(k.tab," ").concat(1===c&&k.selectedTab),onClick:function(){return v(1)},id:"tests-tab",label:o("tests","Tests")},n().createElement(Q,{patientUuid:i,encounters:t})),n().createElement(q.Z,{className:"".concat(k.tab," ").concat(2===c&&k.selectedTab),onClick:function(){return v(2)},id:"tab-3",label:o("medications","Medications")},n().createElement(X,{medications:m}))))};function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}const ee=function(e){var t,i,v,d=e.visitUuid,_=e.patientUuid,u=(0,s.useTranslation)().t,m=(i=(0,r.useState)(!0),v=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw n}}return o}}(i,v)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Y(e,t):void 0}}(i,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=m[0],p=m[1],g=function(e){var t=(0,c.ZP)("/ws/rest/v1/visit/".concat(e,"?v=").concat("custom:(uuid,encounters:(uuid,encounterDatetime,orders:(uuid,dateActivated,drug:(uuid,name,strength),doseUnits:(uuid,display),dose,route:(uuid,display),frequency:(uuid,display),duration,durationUnits:(uuid,display),numRefills,orderType:(uuid,display),orderer:(uuid,person:(uuid,display))),obs:(uuid,concept:(uuid,display,conceptClass:(uuid,display)),display,groupMembers:(uuid,concept:(uuid,display),value:(uuid,display)),value),encounterType:(uuid,display),encounterProviders:(uuid,display,encounterRole:(uuid,display),provider:(uuid,person:(uuid,display)))),visitType:(uuid,name,display),startDatetime"),l.openmrsFetch),i=t.data,r=t.error,n=t.isValidating;return{visit:i?i.data:null,isError:r,isLoading:!i&&!r,isValidating:n}}(d),y=g.visit,b=(g.isError,g.isLoading),h=(g.isValidating,(0,r.useMemo)((function(){var e;return y?null==y||null===(e=y.encounters)||void 0===e?void 0:e.map((function(e){return{id:e.uuid,time:(0,l.formatTime)((0,l.parseDate)(e.encounterDateTime)),encounterType:e.encounterType.display,provider:e.encounterProviders.length>0?e.encounterProviders[0].display:"",obs:e.obs}})):[]}),[y]));return b?n().createElement(o.Z,{role:"progressbar"}):y?n().createElement("div",{className:k.visitsDetailWidgetContainer},n().createElement("div",{className:k.visitsDetailHeaderContainer},n().createElement("h4",{className:k.productiveHeading02},null==y||null===(t=y.visitType)||void 0===t?void 0:t.display,n().createElement("br",null),n().createElement("p",{className:"".concat(k.bodyLong01," ").concat(k.text02)},(0,l.formatDatetime)((0,l.parseDate)(null==y?void 0:y.startDatetime)))),n().createElement("div",{className:k.toggleButtons},n().createElement(a.Z,{className:"".concat(k.toggle," ").concat(f?k.toggleActive:""),size:"small",kind:"ghost",onClick:function(){return p(!0)}},u("allEncounters","All Encounters")),n().createElement(a.Z,{className:"".concat(k.toggle," ").concat(f?"":k.toggleActive),size:"small",kind:"ghost",onClick:function(){return p(!1)}},u("visitSummary","Visit Summary")))),f&&(null==y?void 0:y.encounters)&&n().createElement(R,{visitUuid:y.uuid,encounters:h}),!f&&n().createElement(G,{encounters:y.encounters,patientUuid:_})):null}}}]);