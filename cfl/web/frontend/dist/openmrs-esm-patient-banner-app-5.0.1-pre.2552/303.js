/*! For license information please see 303.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_openmrs_esm_patient_banner_app=globalThis.webpackChunk_openmrs_esm_patient_banner_app||[]).push([[303],{452:(e,t,n)=>{var r=n(268),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,s=r.useEffect,a=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,l=r[1];return a((function(){o.value=n,o.getSnapshot=t,c(o)&&l({inst:o})}),[e,n,t]),s((function(){return c(o)&&l({inst:o}),e((function(){c(o)&&l({inst:o})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},3100:(e,t,n)=>{e.exports=n(452)},4729:(e,t,n)=>{n.d(t,{$l:()=>s,BN:()=>P,DY:()=>g,J$:()=>U,JN:()=>w,LI:()=>L,PM:()=>c,W6:()=>S,i_:()=>i,ko:()=>z,kw:()=>V,mf:()=>u,o8:()=>a,qC:()=>D,s6:()=>H,sj:()=>A,u3:()=>I,u_:()=>F,w6:()=>O,xD:()=>G});var r=n(268);const o=()=>{},i=o(),s=Object,a=e=>e===i,u=e=>"function"==typeof e,c=(e,t)=>({...e,...t}),l=new WeakMap;let d=0;const f=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let o,i;if(s(e)!==e||r||n==RegExp)o=r?e.toJSON():"symbol"==t?e.toString():"string"==t?JSON.stringify(e):""+e;else{if(o=l.get(e),o)return o;if(o=++d+"~",l.set(e,o),n==Array){for(o="@",i=0;i<e.length;i++)o+=f(e[i])+",";l.set(e,o)}if(n==s){o="#";const t=s.keys(e).sort();for(;!a(i=t.pop());)a(e[i])||(o+=i+":"+f(e[i])+",");l.set(e,o)}}return o},g=new WeakMap,E={},p={},h="undefined",v=typeof window!=h,_=typeof document!=h,w=(e,t)=>{const n=g.get(e);return[()=>!a(t)&&e.get(t)||E,r=>{if(!a(t)){const o=e.get(t);t in p||(p[t]=o),n[5](t,c(o,r),o||E)}},n[6],()=>!a(t)&&t in p?p[t]:!a(t)&&e.get(t)||E]};let m=!0;const[y,R]=v&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[o,o],b={isOnline:()=>m,isVisible:()=>{const e=_&&document.visibilityState;return a(e)||"hidden"!==e}},T={initFocus:e=>(_&&document.addEventListener("visibilitychange",e),y("focus",e),()=>{_&&document.removeEventListener("visibilitychange",e),R("focus",e)}),initReconnect:e=>{const t=()=>{m=!0,e()},n=()=>{m=!1};return y("online",t),y("offline",n),()=>{R("online",t),R("offline",n)}}},O=!r.useId,S=!v||"Deno"in window,V=e=>v&&typeof window.requestAnimationFrame!=h?window.requestAnimationFrame(e):setTimeout(e,1),L=S?r.useEffect:r.useLayoutEffect,k="undefined"!=typeof navigator&&navigator.connection,C=!S&&k&&(["slow-2g","2g"].includes(k.effectiveType)||k.saveData),D=e=>{if(u(e))try{e=e()}catch(t){e=""}const t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?f(e):"",t]};let N=0;const I=()=>++N;var A={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function P(...e){const[t,n,r,o]=e,s=c({populateCache:!0,throwOnError:!0},"boolean"==typeof o?{revalidate:o}:o||{});let l=s.populateCache;const d=s.rollbackOnError;let f=s.optimisticData;const E=!1!==s.revalidate,p=s.throwOnError;if(u(n)){const e=n,r=[],o=t.keys();for(const n of o)!/^\$(inf|sub)\$/.test(n)&&e(t.get(n)._k)&&r.push(n);return Promise.all(r.map(h))}return h(n);async function h(n){const[o]=D(n);if(!o)return;const[s,c]=w(t,o),[h,v,_,m]=g.get(t),y=()=>{const e=h[o];return E&&(delete _[o],delete m[o],e&&e[0])?e[0](2).then((()=>s().data)):s().data};if(e.length<3)return y();let R,b=r;const T=I();v[o]=[T,0];const O=!a(f),S=s(),V=S.data,L=S._c,k=a(L)?V:L;if(O&&(f=u(f)?f(k,V):f,c({data:f,_c:k})),u(b))try{b=b(k)}catch(e){R=e}if(b&&u(b.then)){if(b=await b.catch((e=>{R=e})),T!==v[o][0]){if(R)throw R;return b}R&&O&&(e=>"function"==typeof d?d(e):!1!==d)(R)&&(l=!0,c({data:k,_c:i}))}if(l&&!R)if(u(l)){const e=l(b,k);c({data:e,error:i,_c:i})}else c({data:b,error:i,_c:i});if(v[o][1]=I(),Promise.resolve(y()).then((()=>{c({_c:i})})),!R)return b;if(p)throw R}}const x=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},M=(e,t)=>{if(!g.has(e)){const n=c(T,t),r={},s=P.bind(i,e);let a=o;const u={},l=(e,t)=>{const n=u[e]||[];return u[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},d=(t,n,r)=>{e.set(t,n);const o=u[t];if(o)for(const e of o)e(n,r)},f=()=>{if(!g.has(e)&&(g.set(e,[r,{},{},{},s,d,l]),!S)){const t=n.initFocus(setTimeout.bind(i,x.bind(i,r,0))),o=n.initReconnect(setTimeout.bind(i,x.bind(i,r,1)));a=()=>{t&&t(),o&&o(),g.delete(e)}}};return f(),[e,s,f,a]}return[e,g.get(e)[4]]},[j,W]=M(new Map),F=c({onLoadingSlow:o,onSuccess:o,onError:o,onErrorRetry:(e,t,n,r,o)=>{const i=n.errorRetryCount,s=o.retryCount,u=~~((Math.random()+.5)*(1<<(s<8?s:8)))*n.errorRetryInterval;!a(i)&&s>i||setTimeout(r,u,o)},onDiscarded:o,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:C?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:C?5e3:3e3,compare:(e,t)=>f(e)==f(t),isPaused:()=>!1,cache:j,mutate:W,fallback:{}},b),$=(e,t)=>{const n=c(e,t);if(t){const{use:r,fallback:o}=e,{use:i,fallback:s}=t;r&&i&&(n.use=r.concat(i)),o&&s&&(n.fallback=c(o,s))}return n},J=(0,r.createContext)({}),U=e=>{const{value:t}=e,n=(0,r.useContext)(J),o=u(t),s=(0,r.useMemo)((()=>o?t(n):t),[o,n,t]),a=(0,r.useMemo)((()=>o?s:$(n,s)),[o,n,s]),l=s&&s.provider,d=(0,r.useRef)(i);l&&!d.current&&(d.current=M(l(a.cache||j),s));const f=d.current;return f&&(a.cache=f[0],a.mutate=f[1]),L((()=>{if(f)return f[2]&&f[2](),f[3]}),[]),(0,r.createElement)(J.Provider,c(e,{value:a}))},q=v&&window.__SWR_DEVTOOLS_USE__,Z=q?window.__SWR_DEVTOOLS_USE__:[],B=e=>u(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],Y=Z.concat((e=>(t,n,r)=>e(t,n&&((...e)=>{const[r]=D(t),[,,,o]=g.get(j);if(r.startsWith("$inf$"))return n(...e);const i=o[r];return a(i)?n(...e):(delete o[r],i)}),r))),H=e=>function(...t){const n=c(F,(0,r.useContext)(J)),[o,i,s]=B(t),a=$(n,s);let u=e;const{use:l}=a,d=(l||[]).concat(Y);for(let e=d.length;e--;)u=d[e](u);return u(o,i||a.fetcher||null,a)},z=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}},G=(e,t)=>(...n)=>{const[r,o,i]=B(n),s=(i.use||[]).concat(t);return e(r,o,{...i,use:s})};q&&(window.__SWR_DEVTOOLS_REACT__=r)},3255:(e,t,n)=>{n.d(t,{ZP:()=>u});var r=n(268),o=n(3100),i=n(4729);const s=r.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)}),a={dedupe:!0},u=(i.$l.defineProperty(i.J$,"defaultValue",{value:i.u_}),(0,i.s6)(((e,t,n)=>{const{cache:u,compare:c,suspense:l,fallbackData:d,revalidateOnMount:f,revalidateIfStale:g,refreshInterval:E,refreshWhenHidden:p,refreshWhenOffline:h,keepPreviousData:v}=n,[_,w,m,y]=i.DY.get(u),[R,b]=(0,i.qC)(e),T=(0,r.useRef)(!1),O=(0,r.useRef)(!1),S=(0,r.useRef)(R),V=(0,r.useRef)(t),L=(0,r.useRef)(n),k=()=>L.current,C=()=>k().isVisible()&&k().isOnline(),[D,N,I,A]=(0,i.JN)(u,R),P=(0,r.useRef)({}).current,x=(0,i.o8)(d)?n.fallback[R]:d,M=(e,t)=>{for(const n in P){const r=n;if("data"===r){if(!c(e[r],t[r])){if(!(0,i.o8)(e[r]))return!1;if(!c(B,t[r]))return!1}}else if(t[r]!==e[r])return!1}return!0},j=(0,r.useMemo)((()=>{const e=!!R&&!!t&&((0,i.o8)(f)?!k().isPaused()&&!l&&(!!(0,i.o8)(g)||g):f),n=t=>{const n=(0,i.PM)(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},r=D(),o=A(),s=n(r),a=r===o?s:n(o);let u=s;return[()=>{const e=n(D());return M(e,u)?(u.data=e.data,u.isLoading=e.isLoading,u.isValidating=e.isValidating,u.error=e.error,u):(u=e,e)},()=>a]}),[u,R]),W=(0,o.useSyncExternalStore)((0,r.useCallback)((e=>I(R,((t,n)=>{M(n,t)||e()}))),[u,R]),j[0],j[1]),F=!T.current,$=_[R]&&_[R].length>0,J=W.data,U=(0,i.o8)(J)?x:J,q=W.error,Z=(0,r.useRef)(U),B=v?(0,i.o8)(J)?Z.current:J:U,Y=!($&&!(0,i.o8)(q))&&(F&&!(0,i.o8)(f)?f:!k().isPaused()&&(l?!(0,i.o8)(U)&&g:(0,i.o8)(U)||g)),H=!!(R&&t&&F&&Y),z=(0,i.o8)(W.isValidating)?H:W.isValidating,G=(0,i.o8)(W.isLoading)?H:W.isLoading,K=(0,r.useCallback)((async e=>{const t=V.current;if(!R||!t||O.current||k().isPaused())return!1;let r,o,s=!0;const a=e||{},u=!m[R]||!a.dedupe,l=()=>i.w6?!O.current&&R===S.current&&T.current:R===S.current,d={isValidating:!1,isLoading:!1},f=()=>{N(d)},g=()=>{const e=m[R];e&&e[1]===o&&delete m[R]},E={isValidating:!0};(0,i.o8)(D().data)&&(E.isLoading=!0);try{if(u&&(N(E),n.loadingTimeout&&(0,i.o8)(D().data)&&setTimeout((()=>{s&&l()&&k().onLoadingSlow(R,n)}),n.loadingTimeout),m[R]=[t(b),(0,i.u3)()]),[r,o]=m[R],r=await r,u&&setTimeout(g,n.dedupingInterval),!m[R]||m[R][1]!==o)return u&&l()&&k().onDiscarded(R),!1;d.error=i.i_;const e=w[R];if(!(0,i.o8)(e)&&(o<=e[0]||o<=e[1]||0===e[1]))return f(),u&&l()&&k().onDiscarded(R),!1;const a=D().data;d.data=c(a,r)?a:r,u&&l()&&k().onSuccess(r,R,n)}catch(e){g();const t=k(),{shouldRetryOnError:n}=t;t.isPaused()||(d.error=e,u&&l()&&(t.onError(e,R,t),(!0===n||(0,i.mf)(n)&&n(e))&&C()&&t.onErrorRetry(e,R,t,(e=>{const t=_[R];t&&t[0]&&t[0](i.sj.ERROR_REVALIDATE_EVENT,e)}),{retryCount:(a.retryCount||0)+1,dedupe:!0})))}return s=!1,f(),!0}),[R,u]),Q=(0,r.useCallback)(((...e)=>(0,i.BN)(u,S.current,...e)),[]);if((0,i.LI)((()=>{V.current=t,L.current=n,(0,i.o8)(J)||(Z.current=J)})),(0,i.LI)((()=>{if(!R)return;const e=K.bind(i.i_,a);let t=0;const n=(0,i.ko)(R,_,((n,r={})=>{if(n==i.sj.FOCUS_EVENT){const n=Date.now();k().revalidateOnFocus&&n>t&&C()&&(t=n+k().focusThrottleInterval,e())}else if(n==i.sj.RECONNECT_EVENT)k().revalidateOnReconnect&&C()&&e();else{if(n==i.sj.MUTATE_EVENT)return K();if(n==i.sj.ERROR_REVALIDATE_EVENT)return K(r)}}));return O.current=!1,S.current=R,T.current=!0,N({_k:b}),Y&&((0,i.o8)(U)||i.W6?e():(0,i.kw)(e)),()=>{O.current=!0,n()}}),[R]),(0,i.LI)((()=>{let e;function t(){const t=(0,i.mf)(E)?E(D().data):E;t&&-1!==e&&(e=setTimeout(n,t))}function n(){D().error||!p&&!k().isVisible()||!h&&!k().isOnline()?t():K(a).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[E,p,h,R]),(0,r.useDebugValue)(B),l&&(0,i.o8)(U)&&R){if(!i.w6&&i.W6)throw new Error("Fallback data is required when using suspense in SSR.");V.current=t,L.current=n,O.current=!1;const e=y[R];if(!(0,i.o8)(e)){const t=Q(e);s(t)}if(!(0,i.o8)(q))throw q;{const e=K(a);(0,i.o8)(B)||(e.status="fulfilled",e.value=!0),s(e)}}return{mutate:Q,get data(){return P.data=!0,B},get error(){return P.error=!0,q},get isValidating(){return P.isValidating=!0,z},get isLoading(){return P.isLoading=!0,G}}})))},2303:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(3255);const o=(0,n(4729).xD)(r.ZP,(e=>(t,n,r)=>(r.revalidateOnFocus=!1,r.revalidateIfStale=!1,r.revalidateOnReconnect=!1,e(t,n,r))))}}]);