(window.webpackJsonp_openmrs_esm_drugorder=window.webpackJsonp_openmrs_esm_drugorder||[]).push([[4],{128:function(e,t,r){var i=r(14),o=r(129);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},129:function(e,t,r){(t=r(15)(!1)).push([e.i,".esm-drugorder__floating-order-basket-button__resetPatientChartWidgetContainer___1Hlgw{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__floating-order-basket-button__productiveHeading01___350lQ{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__floating-order-basket-button__productiveHeading02___2bgOH{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__floating-order-basket-button__productiveHeading03___1SBlp{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__floating-order-basket-button__productiveHeading04___1xe-f{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__floating-order-basket-button__productiveHeading05___1o0FG{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__floating-order-basket-button__productiveHeading06___3NUXw{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__floating-order-basket-button__bodyShort01___Fq8-v{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__floating-order-basket-button__bodyShort02___3E8Pl{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__floating-order-basket-button__bodyLong01___1Ep7I{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__floating-order-basket-button__bodyLong02___3HBsc{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__floating-order-basket-button__label01___21t61{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__floating-order-basket-button__clipTextWithEllipsis___un0q_{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__floating-order-basket-button__floatingOrderBasketButton___1DWfC{position:fixed;bottom:1rem;right:1rem;height:56px;font-weight:bold;padding-right:15px !important}.esm-drugorder__floating-order-basket-button__floatingOrderBasketButton___1DWfC .esm-drugorder__floating-order-basket-button__elementContainer___2u0wH{display:flex}.esm-drugorder__floating-order-basket-button__floatingOrderBasketButton___1DWfC svg{margin:auto 10px auto 20px}.esm-drugorder__floating-order-basket-button__floatingOrderBasketButton___1DWfC .esm-drugorder__floating-order-basket-button__countTag___VEF7m{position:absolute;top:0px;right:7px;transform:scale(0.8);min-width:initial;min-height:initial;background-color:#fa4d56;color:white}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__floating-order-basket-button__resetPatientChartWidgetContainer___1Hlgw",productiveHeading01:"esm-drugorder__floating-order-basket-button__productiveHeading01___350lQ",productiveHeading02:"esm-drugorder__floating-order-basket-button__productiveHeading02___2bgOH",productiveHeading03:"esm-drugorder__floating-order-basket-button__productiveHeading03___1SBlp",productiveHeading04:"esm-drugorder__floating-order-basket-button__productiveHeading04___1xe-f",productiveHeading05:"esm-drugorder__floating-order-basket-button__productiveHeading05___1o0FG",productiveHeading06:"esm-drugorder__floating-order-basket-button__productiveHeading06___3NUXw",bodyShort01:"esm-drugorder__floating-order-basket-button__bodyShort01___Fq8-v",bodyShort02:"esm-drugorder__floating-order-basket-button__bodyShort02___3E8Pl",bodyLong01:"esm-drugorder__floating-order-basket-button__bodyLong01___1Ep7I",bodyLong02:"esm-drugorder__floating-order-basket-button__bodyLong02___3HBsc",label01:"esm-drugorder__floating-order-basket-button__label01___21t61",clipTextWithEllipsis:"esm-drugorder__floating-order-basket-button__clipTextWithEllipsis___un0q_",floatingOrderBasketButton:"esm-drugorder__floating-order-basket-button__floatingOrderBasketButton___1DWfC",elementContainer:"esm-drugorder__floating-order-basket-button__elementContainer___2u0wH",countTag:"esm-drugorder__floating-order-basket-button__countTag___VEF7m"},e.exports=t},130:function(e,t,r){var i=r(14),o=r(131);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},131:function(e,t,r){(t=r(15)(!1)).push([e.i,".esm-drugorder__medications-summary__resetPatientChartWidgetContainer___3-XUb{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__medications-summary__productiveHeading01___34oiF{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__medications-summary__productiveHeading02___1HQJA{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-summary__productiveHeading03___2svnu{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-summary__productiveHeading04___3x6R4{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-summary__productiveHeading05___TMfFd{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-summary__productiveHeading06___NAbum{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__medications-summary__bodyShort01___maH6l{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__medications-summary__bodyShort02___Hw-ty{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__medications-summary__bodyLong01___iXliH{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__medications-summary__bodyLong02___1pcoa{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__medications-summary__label01___Tl129{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__medications-summary__clipTextWithEllipsis___1bX6t{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__medications-summary__resetPatientChartWidgetContainer___3-XUb",productiveHeading01:"esm-drugorder__medications-summary__productiveHeading01___34oiF",productiveHeading02:"esm-drugorder__medications-summary__productiveHeading02___1HQJA",productiveHeading03:"esm-drugorder__medications-summary__productiveHeading03___2svnu",productiveHeading04:"esm-drugorder__medications-summary__productiveHeading04___3x6R4",productiveHeading05:"esm-drugorder__medications-summary__productiveHeading05___TMfFd",productiveHeading06:"esm-drugorder__medications-summary__productiveHeading06___NAbum",bodyShort01:"esm-drugorder__medications-summary__bodyShort01___maH6l",bodyShort02:"esm-drugorder__medications-summary__bodyShort02___Hw-ty",bodyLong01:"esm-drugorder__medications-summary__bodyLong01___iXliH",bodyLong02:"esm-drugorder__medications-summary__bodyLong02___1pcoa",label01:"esm-drugorder__medications-summary__label01___Tl129",clipTextWithEllipsis:"esm-drugorder__medications-summary__clipTextWithEllipsis___1bX6t"},e.exports=t},132:function(e,t,r){var i=r(14),o=r(133);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},133:function(e,t,r){(t=r(15)(!1)).push([e.i,".esm-drugorder__root__resetPatientChartWidgetContainer___1MrHS{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__root__productiveHeading01___mR7bV{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__root__productiveHeading02___2iG4v{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__root__productiveHeading03___2YjqI{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__root__productiveHeading04___2l6zF{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__root__productiveHeading05___3Nw1d{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__root__productiveHeading06___2JVFI{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__root__bodyShort01___1q7zW{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__root__bodyShort02___2BH16{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__root__bodyLong01___o1_e6{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__root__bodyLong02___2WuzK{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__root__label01___3A0fR{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__root__clipTextWithEllipsis___3e37l{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__root__resetPatientChartWidgetContainer___1MrHS",productiveHeading01:"esm-drugorder__root__productiveHeading01___mR7bV",productiveHeading02:"esm-drugorder__root__productiveHeading02___2iG4v",productiveHeading03:"esm-drugorder__root__productiveHeading03___2YjqI",productiveHeading04:"esm-drugorder__root__productiveHeading04___2l6zF",productiveHeading05:"esm-drugorder__root__productiveHeading05___3Nw1d",productiveHeading06:"esm-drugorder__root__productiveHeading06___2JVFI",bodyShort01:"esm-drugorder__root__bodyShort01___1q7zW",bodyShort02:"esm-drugorder__root__bodyShort02___2BH16",bodyLong01:"esm-drugorder__root__bodyLong01___o1_e6",bodyLong02:"esm-drugorder__root__bodyLong02___2WuzK",label01:"esm-drugorder__root__label01___3A0fR",clipTextWithEllipsis:"esm-drugorder__root__clipTextWithEllipsis___3e37l"},e.exports=t},181:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return F}));var i=r(5),o=r.n(i),n=r(80),a=r(13),d=r(176),s=r(185),_=r(10),u=r.n(_),l=r(11),g=r.n(l),c=r(6),m=r(154),p=r(36);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){if(null==e)return{};var r,i,o=function(e,t){if(null==e)return{};var r,i,o={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var y=c.settings.prefix,v=Object(p.a)(),w={red:"Red",magenta:"Magenta",purple:"Purple",blue:"Blue",cyan:"Cyan",teal:"Teal",green:"Green",gray:"Gray","cool-gray":"Cool-Gray","warm-gray":"Warm-Gray","high-contrast":"High-Contrast"},H=function(e){var t,r=e.children,i=e.className,n=e.id,a=e.type,d=e.filter,s=e.renderIcon,_=e.title,u=e.disabled,l=e.onClose,c=e.size,p=h(e,["children","className","id","type","filter","renderIcon","title","disabled","onClose","size"]),H=n||"tag-".concat(v()),E=g()("".concat(y,"--tag"),i,(f(t={},"".concat(y,"--tag--disabled"),u),f(t,"".concat(y,"--tag--filter"),d),f(t,"".concat(y,"--tag--").concat(c),c),f(t,"".concat(y,"--tag--").concat(a),a),t));return d?o.a.createElement("div",b({className:E,"aria-label":void 0!==_?"".concat(_," ").concat(r):"Clear filter ".concat(r),id:H},p),o.a.createElement("span",{className:"".concat(y,"--tag__label"),title:"string"==typeof r?r:null},null!=r?r:w[a]),o.a.createElement("button",{type:"button",className:"".concat(y,"--tag__close-icon"),onClick:function(e){l&&(e.stopPropagation(),l(e))},disabled:u,"aria-labelledby":H,title:_},o.a.createElement(m.e,null))):o.a.createElement("div",b({className:E,id:H},p),s?o.a.createElement("div",{className:"".concat(y,"--tag__custom-icon")},o.a.createElement(s,null)):"",o.a.createElement("span",{title:"string"==typeof r?r:null},null!=r?r:w[a]))};H.propTypes={children:u.a.node,className:u.a.string,disabled:u.a.bool,filter:u.a.bool,id:u.a.string,onClose:u.a.func,renderIcon:u.a.oneOfType([u.a.func,u.a.object]),size:u.a.oneOf(["sm"]),title:u.a.string,type:u.a.oneOf(Object.keys(w))};Object.keys(w);var E=H,A=r(128),x=r.n(A),k=r(156),C=r(7),O=r(25),T=r(0);var S=Object(O.connect)("items")(({patientUuid:e,items:t})=>{const{t:r}=Object(C.useTranslation)();return o.a.createElement(s.a,{kind:"secondary",className:x.a.floatingOrderBasketButton,style:{},onClick:()=>{const t=`/patient/${e}/drugorder/basket`;Object(T.switchTo)("workspace",t,{title:r("orderBasket","Order Basket")})}},o.a.createElement("div",{className:x.a.elementContainer},o.a.createElement("span",null,r("orderBasket","Order Basket")),o.a.createElement(k.a,null),t.length>0&&o.a.createElement(E,{className:x.a.countTag},t.length)))}),z=r(130),D=r.n(z),N=r(57),U=r(54);function B({patientUuid:e}){const{t:t}=Object(C.useTranslation)(),[r]=Object(U.a)(e,"ACTIVE"),[i]=Object(U.a)(e,"any");return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",{className:D.a.productiveHeading03},t("medications","Medications")),r?o.a.createElement(N.a,{title:t("activeMedications","Active Medications"),medications:r,showDiscontinueButton:!0,showModifyButton:!0,showReorderButton:!1,showAddNewButton:!1}):o.a.createElement(d.a,null),o.a.createElement("div",{style:{marginTop:"3rem"}},i?o.a.createElement(N.a,{title:t("pastMedications","Past Medications"),medications:i,showDiscontinueButton:!1,showModifyButton:!1,showReorderButton:!0,showAddNewButton:!1}):o.a.createElement(d.a,null)),o.a.createElement(S,{patientUuid:e}))}var I=r(132),j=r.n(I),W=r(26);function F({patientUuid:e}){return o.a.createElement("div",{className:j.a.resetPatientChartWidgetContainer},o.a.createElement(n.a,{basename:window.getOpenmrsSpaBase()},o.a.createElement(a.c,null,o.a.createElement(a.a,{exact:!0,path:"/patient/:patientUuid/chart/orders"},o.a.createElement(O.Provider,{store:W.a},o.a.createElement(B,{patientUuid:e}))))))}},23:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return d})),r.d(t,"e",(function(){return s})),r.d(t,"a",(function(){return _}));var i=r(0),o=r(27);function n(e,t){return Object(i.openmrsFetch)(`/ws/rest/v1/encounter?patient=${e}&order=desc&limit=1&v=custom:(uuid)`,{signal:t.signal})}function a(e,t){return Object(i.openmrsFetch)(`/ws/rest/v1/drug?q=${e}&v=custom:(uuid,name,strength,dosageForm:(display,uuid),concept)`,{signal:null==t?void 0:t.signal})}function d(e){return Object(i.openmrsFetch)("/ws/rest/v1/concept/1732AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA?v=custom:(answers:(uuid,display))",e)}function s(e,t){return Object(i.openmrsFetch)("/ws/rest/v1/order",{method:"POST",signal:null==t?void 0:t.signal,headers:{"Content-Type":"application/json"},body:e})}async function _(e,t,r){const{data:n}=await Object(i.openmrsFetch)(`/ws/rest/v1/order?patient=${e}&careSetting=${o.a}&status=${t}&v=custom:(uuid,dosingType,orderNumber,accessionNumber,patient:ref,action,careSetting:ref,previousOrder:ref,dateActivated,scheduledDate,dateStopped,autoExpireDate,orderType:ref,encounter:ref,orderer:ref,orderReason,orderReasonNonCoded,orderType,urgency,instructions,commentToFulfiller,drug:(uuid,name,strength,dosageForm:(display,uuid),concept),dose,doseUnits:ref,frequency:ref,asNeeded,asNeededCondition,quantity,quantityUnits:ref,numRefills,dosingInstructions,duration,durationUnits:ref,route:ref,brandName,dispenseAsWritten)`,{signal:null==r?void 0:r.signal});return n.results.filter(e=>"Drug Order"===e.orderType.display)}},26:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var i=r(0);const o=Object(i.createGlobalStore)("drug-order-basket",{items:[]}),n={setItems:(e,t)=>({items:"function"==typeof t?t():t})}},27:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));const i="6f0c9a92-6f24-11e3-af88-005056821db0",o={uuid:"1072AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",display:"Days"}},35:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var i=r(82);function o(e,t,r){var o;const n=Object(i.a)(e,r);return[null!==(o=n[t-1])&&void 0!==o?o:[],n]}},49:function(e,t,r){var i=r(14),o=r(50);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},50:function(e,t,r){(t=r(15)(!1)).push([e.i,".esm-drugorder__medications-details-table__resetPatientChartWidgetContainer___1cZKk{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__medications-details-table__productiveHeading01___Mm5iC{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__medications-details-table__productiveHeading02___1KYSl{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading03___3i6fP{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading04___2ow0_{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading05___GkO4Q{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading06___3ghb0{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__medications-details-table__bodyShort01___2Dk9p{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__medications-details-table__bodyShort02___1lAn0{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__medications-details-table__bodyLong01___3HoS-{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__medications-details-table__bodyLong02___2UfwL{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__medications-details-table__label01___sSG0u{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__medications-details-table__clipTextWithEllipsis___1ZsL3{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__medications-details-table__resetPatientChartWidgetContainer___1cZKk",productiveHeading01:"esm-drugorder__medications-details-table__productiveHeading01___Mm5iC",productiveHeading02:"esm-drugorder__medications-details-table__productiveHeading02___1KYSl",productiveHeading03:"esm-drugorder__medications-details-table__productiveHeading03___3i6fP",productiveHeading04:"esm-drugorder__medications-details-table__productiveHeading04___2ow0_",productiveHeading05:"esm-drugorder__medications-details-table__productiveHeading05___GkO4Q",productiveHeading06:"esm-drugorder__medications-details-table__productiveHeading06___3ghb0",bodyShort01:"esm-drugorder__medications-details-table__bodyShort01___2Dk9p",bodyShort02:"esm-drugorder__medications-details-table__bodyShort02___1lAn0",bodyLong01:"esm-drugorder__medications-details-table__bodyLong01___3HoS-",bodyLong02:"esm-drugorder__medications-details-table__bodyLong02___2UfwL",label01:"esm-drugorder__medications-details-table__label01___sSG0u",clipTextWithEllipsis:"esm-drugorder__medications-details-table__clipTextWithEllipsis___1ZsL3"},e.exports=t},54:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r(5),o=r(0),n=r(23);function a(e,t){const[r,a]=Object(i.useState)(null),d=r=>Object(n.a)(e,t,r).then(e=>{a(e)},o.createErrorHandler);return Object(i.useEffect)(()=>{const e=new AbortController;return d(e),()=>e.abort()},[e]),[r,d]}},57:function(e,t,r){"use strict";var i=r(5),o=r.n(i),n=r(8),a=r.n(n),d=r(56),s=r(49),_=r.n(s),u=r(185),l=r(179),g=r(174),c=r(182),m=r(81),p=r(74),b=r(77),f=r(78),h=r(72),y=r(75),v=r(76),w=r(84),H=r(73),E=r(38);function A(e,t){if(!e||!t)return"";const r=e.search(/\D/),i=e.substring(0,r),o=e.search(/\//);let n,a=e.substring(r);if(o>=0){a=e.substring(r,o);const d=e.substring(o+1).search(/\D/);n=`${t} ${a} (${t/i*e.substr(o+1,d)} ${e.substring(o+1+d)})`}else n=i*t+" "+a;return n}var x=r(7),k=r(173);function C(e,t){return null==e&&null==t?0:null==e?-1:null==t?1:e<t?-1:e>t?1:0}var O=r(35),T=r(25),S=r(26);const z=Object(T.connect)("items",S.b)(({title:e,medications:t,showDiscontinueButton:r,showModifyButton:n,showReorderButton:s,showAddNewButton:l,items:g,setItems:T})=>{const{t:S}=Object(x.useTranslation)(),[z,N]=Object(i.useState)(1),[U,B]=Object(i.useState)(10),[I]=Object(O.a)(t,z,U),j=[{key:"startDate",header:S("startDate","Start date"),isSortable:!0,isVisible:!0},{key:"details",header:S("details","Details"),isSortable:!0,isVisible:!0}],W=I.map((e,t)=>{var r,i,n,s,u,l,g;return{id:""+t,details:{sortKey:null===(r=e.drug)||void 0===r?void 0:r.name,content:o.a.createElement("p",{className:_.a.bodyLong01},o.a.createElement("strong",null,Object(d.a)(null===(i=e.drug)||void 0===i?void 0:i.name))," — ",null===(n=e.doseUnits)||void 0===n?void 0:n.display," —"," ",null===(s=e.route)||void 0===s?void 0:s.display,o.a.createElement("br",null),o.a.createElement("span",{className:_.a.label01},S("dose","DOSE").toUpperCase())," ",o.a.createElement("strong",null,A(null===(u=e.drug)||void 0===u?void 0:u.strength,e.dose).toLowerCase())," —"," ",null===(l=e.frequency)||void 0===l?void 0:l.display," —"," ",e.duration?S("medicationDurationAndUnit","for {duration} {durationUnit}",{duration:e.duration,durationUnit:null===(g=e.durationUnits)||void 0===g?void 0:g.display}):S("medicationUndefinedDuration","Indefinite duration"),o.a.createElement("br",null),o.a.createElement("span",{className:_.a.label01},S("refills","REFILLS").toUpperCase())," ",e.numRefills)},startDate:{sortKey:a()(e.dateActivated).toDate(),content:a()(e.dateActivated).format("DD-MMM-YYYY")}}});return o.a.createElement(m.a,{headers:j,rows:W,isSortable:!0,sortRow:(e,t,{sortDirection:r,sortStates:i})=>r===i.DESC?C(t.sortKey,e.sortKey):C(e.sortKey,t.sortKey)},({rows:i,headers:a,getTableProps:d,getHeaderProps:_,getRowProps:m})=>o.a.createElement(p.a,{title:e},l&&o.a.createElement(b.a,null,o.a.createElement(f.a,null,o.a.createElement(u.a,{renderIcon:()=>o.a.createElement(k.a,null)},S("add","Add")))),o.a.createElement(h.a,d(),o.a.createElement(y.a,null,o.a.createElement(v.a,null,a.map(e=>o.a.createElement(w.a,_({header:e,isSortable:e.isSortable}),e.header)),o.a.createElement(w.a,null))),o.a.createElement(H.a,null,i.map((e,i)=>o.a.createElement(v.a,m({row:e}),e.cells.map(e=>{var t,r;return o.a.createElement(E.a,{key:e.id},null!==(t=null===(r=e.value)||void 0===r?void 0:r.content)&&void 0!==t?t:e.value)}),o.a.createElement(E.a,{className:"bx--table-column-menu"},o.a.createElement(D,{showDiscontinueButton:r,showModifyButton:n,showReorderButton:s,medication:t[i],items:g,setItems:T})))))),o.a.createElement(c.a,{page:z,pageSize:U,pageSizes:[10,20,30,40,50],totalItems:t.length,onChange:({page:e,pageSize:t})=>{N(e),B(t)}})))});function D({showDiscontinueButton:e,showModifyButton:t,showReorderButton:r,medication:n,items:a,setItems:d}){const{t:s}=Object(x.useTranslation)(),_=a.some(e=>e.uuid===n.uuid),u=Object(i.useCallback)(()=>{d([...a,{uuid:n.uuid,previousOrder:null,action:"DISCONTINUE",drug:n.drug,dosage:{dosage:A(n.drug.strength,n.dose),numberOfPills:n.dose},dosageUnit:{uuid:n.doseUnits.uuid,name:n.doseUnits.display},frequency:{conceptUuid:n.frequency.uuid,name:n.frequency.display},route:{conceptUuid:n.route.uuid,name:n.route.display},encounterUuid:n.encounter.uuid,commonMedicationName:n.drug.name,isFreeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType,freeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType?n.dosingInstructions:"",patientInstructions:"org.openmrs.FreeTextDosingInstructions"!==n.dosingType?n.dosingInstructions:"",asNeeded:n.asNeeded,asNeededCondition:n.asNeededCondition,startDate:n.dateActivated,duration:n.duration,durationUnit:{uuid:n.durationUnits.uuid,display:n.durationUnits.display},pillsDispensed:n.quantity,numRefills:n.numRefills,indication:n.orderReasonNonCoded}])},[a,d,n]),c=Object(i.useCallback)(()=>{d([...a,{uuid:n.uuid,previousOrder:n.uuid,startDate:new Date,action:"REVISE",drug:n.drug,dosage:{dosage:A(n.drug.strength,n.dose),numberOfPills:n.dose},dosageUnit:{uuid:n.doseUnits.uuid,name:n.doseUnits.display},frequency:{conceptUuid:n.frequency.uuid,name:n.frequency.display},route:{conceptUuid:n.route.uuid,name:n.route.display},encounterUuid:n.encounter.uuid,commonMedicationName:n.drug.name,isFreeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType,freeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType?n.dosingInstructions:"",patientInstructions:"org.openmrs.FreeTextDosingInstructions"!==n.dosingType?n.dosingInstructions:"",asNeeded:n.asNeeded,asNeededCondition:n.asNeededCondition,duration:n.duration,durationUnit:{uuid:n.durationUnits.uuid,display:n.durationUnits.display},pillsDispensed:n.quantity,numRefills:n.numRefills,indication:n.orderReasonNonCoded}])},[a,d,n]),m=Object(i.useCallback)(()=>{d([...a,{uuid:n.uuid,previousOrder:null,startDate:new Date,action:"RENEWED",drug:n.drug,dosage:{dosage:A(n.drug.strength,n.dose),numberOfPills:n.dose},dosageUnit:{uuid:n.doseUnits.uuid,name:n.doseUnits.display},frequency:{conceptUuid:n.frequency.uuid,name:n.frequency.display},route:{conceptUuid:n.route.uuid,name:n.route.display},encounterUuid:n.encounter.uuid,commonMedicationName:n.drug.name,isFreeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType,freeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType?n.dosingInstructions:"",patientInstructions:"org.openmrs.FreeTextDosingInstructions"!==n.dosingType?n.dosingInstructions:"",asNeeded:n.asNeeded,asNeededCondition:n.asNeededCondition,duration:n.duration,durationUnit:{uuid:n.durationUnits.uuid,display:n.durationUnits.display},pillsDispensed:n.quantity,numRefills:n.numRefills,indication:n.orderReasonNonCoded}])},[a,d,n]);return o.a.createElement(l.a,{flipped:!0},e&&o.a.createElement(g.a,{itemText:s("discontinue","Discontinue"),onClick:u,disabled:_}),t&&o.a.createElement(g.a,{itemText:s("modify","Modify"),onClick:c,disabled:_}),r&&o.a.createElement(g.a,{itemText:s("reorder","Reorder"),onClick:m,disabled:_}))}t.a=z}}]);
//# sourceMappingURL=4.openmrs-esm-drugorder-app.js.map