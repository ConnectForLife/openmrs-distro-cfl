(window.webpackJsonp_openmrs_esm_drugorder=window.webpackJsonp_openmrs_esm_drugorder||[]).push([[2],{102:function(e,t,r){var i=r(14),o=r(103);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},103:function(e,t,r){(t=r(15)(!1)).push([e.i,".esm-drugorder__medication-order-form__resetPatientChartWidgetContainer___13mY5{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__medication-order-form__productiveHeading01___3YAe9{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__medication-order-form__productiveHeading02___2_8Hn{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medication-order-form__productiveHeading03___3Pq5a{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medication-order-form__productiveHeading04___OJcq3{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medication-order-form__productiveHeading05___2PHLW{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medication-order-form__productiveHeading06___Gdwdm{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__medication-order-form__bodyShort01___10zFF{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__medication-order-form__bodyShort02___23fah{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__medication-order-form__bodyLong01___3wXMF{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__medication-order-form__bodyLong02___sgYEF{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__medication-order-form__label01___2Nr1t{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__medication-order-form__clipTextWithEllipsis___7RBiD{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__medication-order-form__medicationDetailsHeader___DLG7Q{position:sticky;background-color:#0f62fe;border:0;top:3rem}.esm-drugorder__medication-order-form__orderForm___ZM3_3{margin:1rem}.esm-drugorder__medication-order-form__pullColumnContentRight___2QcFJ>div{float:right}.esm-drugorder__medication-order-form__fullWidthDatePickerContainer___cnjb1 .bx--date-picker{width:100%}.esm-drugorder__medication-order-form__fullWidthDatePickerContainer___cnjb1 .bx--date-picker .bx--date-picker-container{width:100%}.esm-drugorder__medication-order-form__fullWidthDatePickerContainer___cnjb1 .bx--date-picker .bx--date-picker-container .bx--date-picker-input__wrapper{width:100%}.esm-drugorder__medication-order-form__fullWidthDatePickerContainer___cnjb1 .bx--date-picker .bx--date-picker-container .bx--date-picker-input__wrapper .bx--date-picker__input{width:100%}.esm-drugorder__medication-order-form__fullHeightTextAreaContainer___19n30 .bx--form-item{height:100%}.esm-drugorder__medication-order-form__fullHeightTextAreaContainer___19n30 .bx--form-item .bx--text-area__wrapper{height:100%}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__medication-order-form__resetPatientChartWidgetContainer___13mY5",productiveHeading01:"esm-drugorder__medication-order-form__productiveHeading01___3YAe9",productiveHeading02:"esm-drugorder__medication-order-form__productiveHeading02___2_8Hn",productiveHeading03:"esm-drugorder__medication-order-form__productiveHeading03___3Pq5a",productiveHeading04:"esm-drugorder__medication-order-form__productiveHeading04___OJcq3",productiveHeading05:"esm-drugorder__medication-order-form__productiveHeading05___2PHLW",productiveHeading06:"esm-drugorder__medication-order-form__productiveHeading06___Gdwdm",bodyShort01:"esm-drugorder__medication-order-form__bodyShort01___10zFF",bodyShort02:"esm-drugorder__medication-order-form__bodyShort02___23fah",bodyLong01:"esm-drugorder__medication-order-form__bodyLong01___3wXMF",bodyLong02:"esm-drugorder__medication-order-form__bodyLong02___sgYEF",label01:"esm-drugorder__medication-order-form__label01___2Nr1t",clipTextWithEllipsis:"esm-drugorder__medication-order-form__clipTextWithEllipsis___7RBiD",medicationDetailsHeader:"esm-drugorder__medication-order-form__medicationDetailsHeader___DLG7Q",orderForm:"esm-drugorder__medication-order-form__orderForm___ZM3_3",pullColumnContentRight:"esm-drugorder__medication-order-form__pullColumnContentRight___2QcFJ",fullWidthDatePickerContainer:"esm-drugorder__medication-order-form__fullWidthDatePickerContainer___cnjb1",fullHeightTextAreaContainer:"esm-drugorder__medication-order-form__fullHeightTextAreaContainer___19n30"},e.exports=t},109:function(e,t,r){var i=r(14),o=r(110);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},110:function(e,t,r){(t=r(15)(!1)).push([e.i,".esm-drugorder__order-basket-item__resetPatientChartWidgetContainer___edG2g{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__order-basket-item__productiveHeading01___2SFom{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__order-basket-item__productiveHeading02___129r0{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item__productiveHeading03___RD5MM{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item__productiveHeading04___1lqWt{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item__productiveHeading05___3Qql7{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item__productiveHeading06___4Hn2U{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__order-basket-item__bodyShort01___17cu0{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__order-basket-item__bodyShort02___TnW_M{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__order-basket-item__bodyLong01___1yabr{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__order-basket-item__bodyLong02___1Mfxb{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__order-basket-item__label01___1tu7G,.esm-drugorder__order-basket-item__orderActionNewLabel___RT1AY,.esm-drugorder__order-basket-item__orderActionRenewLabel___28LNU,.esm-drugorder__order-basket-item__orderActionRevisedLabel___3sgSt,.esm-drugorder__order-basket-item__orderActionDiscontinueLabel___3l9Ok{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__order-basket-item__clipTextWithEllipsis___1U0ag{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__order-basket-item__orderActionNewLabel___RT1AY{color:#24a148}.esm-drugorder__order-basket-item__orderActionRenewLabel___28LNU{color:#24a148}.esm-drugorder__order-basket-item__orderActionRevisedLabel___3sgSt{color:#525252}.esm-drugorder__order-basket-item__orderActionDiscontinueLabel___3l9Ok{color:#525252}.esm-drugorder__order-basket-item__orderErrorText___1wMVJ{color:#da1e28;display:flex;align-items:center}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__order-basket-item__resetPatientChartWidgetContainer___edG2g",productiveHeading01:"esm-drugorder__order-basket-item__productiveHeading01___2SFom",productiveHeading02:"esm-drugorder__order-basket-item__productiveHeading02___129r0",productiveHeading03:"esm-drugorder__order-basket-item__productiveHeading03___RD5MM",productiveHeading04:"esm-drugorder__order-basket-item__productiveHeading04___1lqWt",productiveHeading05:"esm-drugorder__order-basket-item__productiveHeading05___3Qql7",productiveHeading06:"esm-drugorder__order-basket-item__productiveHeading06___4Hn2U",bodyShort01:"esm-drugorder__order-basket-item__bodyShort01___17cu0",bodyShort02:"esm-drugorder__order-basket-item__bodyShort02___TnW_M",bodyLong01:"esm-drugorder__order-basket-item__bodyLong01___1yabr",bodyLong02:"esm-drugorder__order-basket-item__bodyLong02___1Mfxb",label01:"esm-drugorder__order-basket-item__label01___1tu7G",orderActionNewLabel:"esm-drugorder__order-basket-item__orderActionNewLabel___RT1AY",orderActionRenewLabel:"esm-drugorder__order-basket-item__orderActionRenewLabel___28LNU",orderActionRevisedLabel:"esm-drugorder__order-basket-item__orderActionRevisedLabel___3sgSt",orderActionDiscontinueLabel:"esm-drugorder__order-basket-item__orderActionDiscontinueLabel___3l9Ok",clipTextWithEllipsis:"esm-drugorder__order-basket-item__clipTextWithEllipsis___1U0ag",orderErrorText:"esm-drugorder__order-basket-item__orderErrorText___1wMVJ"},e.exports=t},111:function(e,t,r){var i=r(14),o=r(112);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},112:function(e,t,r){(t=r(15)(!1)).push([e.i,".esm-drugorder__order-basket-item-list__resetPatientChartWidgetContainer___DXab3{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__order-basket-item-list__productiveHeading01___2ZgWF,.esm-drugorder__order-basket-item-list__orderCategoryHeading___2Oghw{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__order-basket-item-list__productiveHeading02___aKdGJ{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item-list__productiveHeading03___8XWCS{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item-list__productiveHeading04___3TJxx{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item-list__productiveHeading05___2pmTj{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item-list__productiveHeading06___1A8bj{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__order-basket-item-list__bodyShort01___2By7c{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__order-basket-item-list__bodyShort02___Lf_aH{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__order-basket-item-list__bodyLong01___2j-ur{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__order-basket-item-list__bodyLong02___1tb0i{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__order-basket-item-list__label01___1LqUb{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__order-basket-item-list__clipTextWithEllipsis___BXB_b{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__order-basket-item-list__orderCategoryHeading___2Oghw{color:#525252;margin:1rem 0}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__order-basket-item-list__resetPatientChartWidgetContainer___DXab3",productiveHeading01:"esm-drugorder__order-basket-item-list__productiveHeading01___2ZgWF",orderCategoryHeading:"esm-drugorder__order-basket-item-list__orderCategoryHeading___2Oghw",productiveHeading02:"esm-drugorder__order-basket-item-list__productiveHeading02___aKdGJ",productiveHeading03:"esm-drugorder__order-basket-item-list__productiveHeading03___8XWCS",productiveHeading04:"esm-drugorder__order-basket-item-list__productiveHeading04___3TJxx",productiveHeading05:"esm-drugorder__order-basket-item-list__productiveHeading05___2pmTj",productiveHeading06:"esm-drugorder__order-basket-item-list__productiveHeading06___1A8bj",bodyShort01:"esm-drugorder__order-basket-item-list__bodyShort01___2By7c",bodyShort02:"esm-drugorder__order-basket-item-list__bodyShort02___Lf_aH",bodyLong01:"esm-drugorder__order-basket-item-list__bodyLong01___2j-ur",bodyLong02:"esm-drugorder__order-basket-item-list__bodyLong02___1tb0i",label01:"esm-drugorder__order-basket-item-list__label01___1LqUb",clipTextWithEllipsis:"esm-drugorder__order-basket-item-list__clipTextWithEllipsis___BXB_b"},e.exports=t},122:function(e,t,r){var i=r(14),o=r(123);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},123:function(e,t,r){(t=r(15)(!1)).push([e.i,".esm-drugorder__order-basket__resetPatientChartWidgetContainer___2KrGA{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__order-basket__productiveHeading01___132oA{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__order-basket__productiveHeading02___2U9Zy{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket__productiveHeading03___19omV{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket__productiveHeading04___1Biit{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket__productiveHeading05___AZUdA{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket__productiveHeading06___1aiQz{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__order-basket__bodyShort01___YkkFr{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__order-basket__bodyShort02___1ZmH_{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__order-basket__bodyLong01___-rBP1{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__order-basket__bodyLong02___3OGK5{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__order-basket__label01___2f8Fk{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__order-basket__clipTextWithEllipsis___3un9j{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__order-basket__orderBasketContainer___27MnW{margin:1rem}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__order-basket__resetPatientChartWidgetContainer___2KrGA",productiveHeading01:"esm-drugorder__order-basket__productiveHeading01___132oA",productiveHeading02:"esm-drugorder__order-basket__productiveHeading02___2U9Zy",productiveHeading03:"esm-drugorder__order-basket__productiveHeading03___19omV",productiveHeading04:"esm-drugorder__order-basket__productiveHeading04___1Biit",productiveHeading05:"esm-drugorder__order-basket__productiveHeading05___AZUdA",productiveHeading06:"esm-drugorder__order-basket__productiveHeading06___1aiQz",bodyShort01:"esm-drugorder__order-basket__bodyShort01___YkkFr",bodyShort02:"esm-drugorder__order-basket__bodyShort02___1ZmH_",bodyLong01:"esm-drugorder__order-basket__bodyLong01___-rBP1",bodyLong02:"esm-drugorder__order-basket__bodyLong02___3OGK5",label01:"esm-drugorder__order-basket__label01___2f8Fk",clipTextWithEllipsis:"esm-drugorder__order-basket__clipTextWithEllipsis___3un9j",orderBasketContainer:"esm-drugorder__order-basket__orderBasketContainer___27MnW"},e.exports=t},178:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return be}));var i=r(5),o=r.n(i),n=r(159),a=r(93),d=r.n(a),s=r(95),_=r.n(s),l=r(185),c=r(152),u=r(182),m=r(153),g=r(7),p=r(155),h=r(156),b=r(0),A=r(134),f=r(23),v=r(97);function y(e){return v.filter(t=>t.uuid===e)[0]}var k=r(27);async function E(e,t,r){const i=e.match(/\S+/g),o=await async function(e,t){const r=(await Promise.all(e.map(async e=>(await Object(f.b)(e,t)).data.results))).flatMap(e=>e);return Object(A.a)(r,"uuid")}(i,r);return function(e,t){return t.filter(t=>e.every(e=>w(t.drug.name,e)||w(t.dosageUnit.name,e)||w(t.dosage.dosage,e)||w(t.frequency.name,e)||w(t.route.name,e)))}(i,o.flatMap(e=>[...x(e,t)]))}function*x(e,t){const r=y(e.uuid);if(r)for(const i of r.dosageUnits)for(const o of r.commonDosages)for(const n of r.commonFrequencies)for(const a of r.route)yield{action:"NEW",drug:e,dosage:o,dosageUnit:i,frequency:n,route:a,encounterUuid:t,commonMedicationName:r.name,isFreeTextDosage:!1,patientInstructions:"",asNeeded:!1,asNeededCondition:"",startDate:new Date,duration:null,durationUnit:k.b,pillsDispensed:0,numRefills:0,freeTextDosage:"",indication:""}}function w(e,t){return e.toLowerCase().includes(t.toLowerCase())}var C=r(35);function T({searchTerm:e,encounterUuid:t,setSearchTerm:r,onSearchResultClicked:n}){const{t:a}=Object(g.useTranslation)(),[d,s]=Object(i.useState)([]),[A,f]=Object(i.useState)(1),[v,y]=Object(i.useState)(10),[k]=Object(C.a)(d,A,v);Object(i.useEffect)(()=>{const r=new AbortController;return E(e,t,r).then(s,b.createErrorHandler),()=>r.abort()},[e,t]);const x=(e,t)=>{r(""),s([]),n(e,t)};return o.a.createElement(o.a.Fragment,null,!!e&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement("span",{className:_.a.label01},a("searchResultsExactMatchesForTerm",'{count} exact match(es) for "{searchTerm}"',{count:d.length,searchTerm:e})),o.a.createElement(c.a,{onClick:()=>r("")},a("clearSearchResults","Clear Results"))),k.map((e,t)=>{var r;return o.a.createElement(m.a,{key:t,className:_.a.searchResultTile,style:{marginTop:"5px"},handleClick:()=>x(e,!1)},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(p.a,{style:{flex:"0 0 auto",marginRight:"20px"}}),o.a.createElement("div",{style:{flex:"1 1 auto"}},o.a.createElement("p",null,o.a.createElement("strong",null,e.drug.concept.display," (",null===(r=e.dosage)||void 0===r?void 0:r.dosage,")"),o.a.createElement("br",null),o.a.createElement("span",{className:_.a.label01},e.dosageUnit.name)," —"," ",o.a.createElement("span",{className:_.a.label01},e.frequency.name)," —"," ",o.a.createElement("span",{className:_.a.label01},e.route.name))),o.a.createElement(l.a,{style:{flex:"0 0 auto"},kind:"ghost",hasIconOnly:!0,renderIcon:()=>o.a.createElement(h.a,null),iconDescription:a("directlyAddToBasket","Immediately add to basket"),onClick:()=>x(e,!0)})))}),d.length>0&&o.a.createElement(u.a,{page:A,pageSize:v,pageSizes:[10,20,30,40,50],totalItems:d.length,onChange:({page:e,pageSize:t})=>{f(e),y(t)}})))}function H({encounterUuid:e,onSearchResultClicked:t}){const{t:r}=Object(g.useTranslation)(),[a,s]=Object(i.useState)("");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:d.a.searchPopupContainer},o.a.createElement(n.a,{value:a,placeholder:r("searchFieldPlaceholder",'Search for an order (e.g. "Aspirin")'),labelText:r("searchFieldPlaceholder",'Search for an order (e.g. "Aspirin")'),onChange:e=>{var t,r;return s(null!==(t=null===(r=e.currentTarget)||void 0===r?void 0:r.value)&&void 0!==t?t:"")}}),o.a.createElement("div",{style:{margin:"1rem"}},o.a.createElement(T,{encounterUuid:e,searchTerm:a,setSearchTerm:s,onSearchResultClicked:t}))))}var D=r(102),S=r.n(D),U=r(56),N=r(171),O=r(169),R=r(183),I=r(170),F=r(184),z=r(180),L=r(167),P=r(177),W=r(166),j=r(162),q=r(168),B=r(163),M=r(164),G=r(165),K=r(161),Y=r(186);function J({initialOrderBasketItem:e,durationUnits:t,onSign:r,onCancel:n}){var a;const{t:d}=Object(g.useTranslation)(),[s,_]=Object(i.useState)(e),c=y(s.drug.uuid);return o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,{"aria-label":"",className:S.a.medicationDetailsHeader},o.a.createElement(Y.a,{prefix:""},s.isFreeTextDosage?o.a.createElement("strong",null,Object(U.a)(s.commonMedicationName)):o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,o.a.createElement("strong",null,Object(U.a)(s.commonMedicationName))," — ",s.route.name," ","— ",s.dosageUnit.name," —"," ",o.a.createElement("span",{className:S.a.label01},d("dose","Dose").toUpperCase())," —"," ",o.a.createElement("strong",null,s.dosage.dosage))))),o.a.createElement(j.a,{className:S.a.orderForm,onSubmit:()=>r(s)},o.a.createElement("h2",{className:S.a.productiveHeading03},d("orderForm","Order Form")),o.a.createElement(B.a,{style:{padding:0}},o.a.createElement(M.a,null,o.a.createElement(G.a,null,o.a.createElement("h3",{className:S.a.productiveHeading02},d("dosageInstructions","1. Dosage Instructions"))),o.a.createElement(G.a,{className:S.a.pullColumnContentRight},o.a.createElement(W.a,{id:"freeTextDosageToggle","aria-label":d("freeTextDosage","Free Text Dosage"),labelText:d("freeTextDosage","Free Text Dosage"),toggled:s.isFreeTextDosage,onChange:()=>{},onToggle:e=>_({...s,isFreeTextDosage:e})}))),s.isFreeTextDosage?o.a.createElement(M.a,{style:{marginTop:"0.5rem"}},o.a.createElement(G.a,{md:8},o.a.createElement(L.a,{labelText:d("freeTextDosage","Free Text Dosage"),placeholder:d("freeTextDosage","Free Text Dosage"),value:s.freeTextDosage,maxLength:65535,onChange:e=>_({...s,freeTextDosage:e.target.value})}))):o.a.createElement(o.a.Fragment,null,o.a.createElement(M.a,{style:{marginTop:"1rem"}},o.a.createElement(G.a,{md:4},o.a.createElement(P.a,{id:"doseSelection",items:c.commonDosages.map(e=>({id:e.dosage,text:e.dosage})),selectedItem:{id:s.dosage.dosage,text:s.dosage.dosage},placeholder:d("editDoseComboBoxPlaceholder","Dose"),titleText:d("editDoseComboBoxTitle","Enter Dose"),itemToString:e=>null==e?void 0:e.text,invalid:!s.dosage&&!s.isFreeTextDosage,invalidText:d("validationNoItemSelected","Please select one of the available items."),onChange:({selectedItem:t})=>{_({...s,dosage:null!=t&&t.id?c.commonDosages.find(e=>e.dosage===t.id):e.dosage})}})),o.a.createElement(G.a,{md:4},o.a.createElement(P.a,{id:"editFrequency",items:c.commonFrequencies.map(e=>({id:e.conceptUuid,text:e.name})),selectedItem:{id:s.frequency.conceptUuid,text:s.frequency.name},placeholder:d("editFrequencyComboBoxPlaceholder","Frequency"),titleText:d("editFrequencyComboBoxTitle","Enter Frequency"),itemToString:e=>null==e?void 0:e.text,invalid:!s.frequency&&!s.isFreeTextDosage,invalidText:d("validationNoItemSelected","Please select one of the available items."),onChange:({selectedItem:t})=>{_({...s,frequency:null!=t&&t.id?c.commonFrequencies.find(e=>e.conceptUuid===t.id):e.frequency})}}))),o.a.createElement(M.a,{style:{marginTop:"1rem"}},o.a.createElement(G.a,{md:4},o.a.createElement(P.a,{id:"editRoute",items:c.route.map(e=>({id:e.conceptUuid,text:e.name})),selectedItem:{id:s.route.conceptUuid,text:s.route.name},placeholder:d("editRouteComboBoxPlaceholder","Route"),titleText:d("editRouteComboBoxTitle","Enter Route"),itemToString:e=>null==e?void 0:e.text,invalid:!s.route&&!s.isFreeTextDosage,invalidText:d("validationNoItemSelected","Please select one of the available items."),onChange:({selectedItem:t})=>{_({...s,route:null!=t&&t.id?c.route.find(e=>e.conceptUuid===t.id):e.route})}}))),o.a.createElement(M.a,{style:{marginTop:"1rem"}},o.a.createElement(G.a,{className:S.a.fullHeightTextAreaContainer},o.a.createElement(L.a,{labelText:d("patientInstructions","Patient Instructions"),placeholder:d("patientInstructionsPlaceholder",'Additional dosing instructions (e.g. "Take after eating")'),maxLength:65535,value:s.patientInstructions,onChange:e=>_({...s,patientInstructions:e.target.value})})),o.a.createElement(G.a,null,o.a.createElement(q.a,{legendText:d("prn","P.R.N.")},o.a.createElement(O.a,{id:"prn",labelText:d("takeAsNeeded","Take As Needed"),checked:s.asNeeded,onChange:e=>_({...s,asNeeded:e})})),o.a.createElement("div",{className:S.a.fullHeightTextAreaContainer,style:s.asNeeded?{}:{visibility:"hidden"}},o.a.createElement(L.a,{labelText:d("prnReason","P.R.N. Reason"),placeholder:d("prnReasonPlaceholder","Reason to take medicine"),rows:3,maxLength:255,value:s.asNeededCondition,onChange:e=>_({...s,asNeededCondition:e.target.value})}))))),o.a.createElement(M.a,{style:{marginTop:"2rem"}},o.a.createElement(G.a,{md:8},o.a.createElement("h3",{className:S.a.productiveHeading02},d("prescriptionDuration","2. Prescription Duration")))),o.a.createElement(M.a,{style:{marginTop:"1rem"}},o.a.createElement(G.a,{md:4,className:S.a.fullWidthDatePickerContainer},o.a.createElement(R.a,{datePickerType:"single",maxDate:new Date,value:[s.startDate],onChange:([e])=>_({...s,startDate:e})},o.a.createElement(I.a,{id:"startDatePicker",placeholder:"mm/dd/yyyy",labelText:d("startDate","Start Date")}))),o.a.createElement(G.a,{md:2},o.a.createElement(F.a,{id:"durationInput",label:d("duration","Duration"),min:1,value:null!==(a=s.duration)&&void 0!==a?a:"",allowEmpty:!0,helperText:d("noDurationHint","An empty field indicates an indefinite duration."),onChange:e=>{const t=""===e.imaginaryTarget.value?null:+e.imaginaryTarget.value;_({...s,duration:t})}})),o.a.createElement(G.a,{md:2},o.a.createElement(q.a,{legendText:d("durationUnit","Duration Unit")},o.a.createElement(P.a,{id:"durationUnitPlaceholder",selectedItem:{id:s.durationUnit.uuid,text:s.durationUnit.display},items:t.map(e=>({id:e.uuid,text:e.display})),itemToString:e=>null==e?void 0:e.text,placeholder:d("durationUnitPlaceholder","Duration Unit"),onChange:({selectedItem:e})=>_(e?{...s,durationUnit:{uuid:e.id,display:e.text}}:{...s,durationUnit:k.b})})))),o.a.createElement(M.a,null,o.a.createElement(G.a,{md:8},o.a.createElement("h3",{className:S.a.productiveHeading02},d("dispensingInformation","3. Dispensing Information")))),o.a.createElement(M.a,{style:{marginTop:"1rem"}},o.a.createElement(G.a,{md:2},o.a.createElement(q.a,{legendText:d("quantityDispensed","Quantity Dispensed")},o.a.createElement(F.a,{id:"quantityDispensed",helperText:d("pillsDispensed","Pills dispensed"),value:s.pillsDispensed,min:0,onChange:e=>{_({...s,pillsDispensed:+e.imaginaryTarget.value})}}))),o.a.createElement(G.a,{md:2},o.a.createElement(q.a,{legendText:d("prescriptionRefills","Prescription Refills")},o.a.createElement(F.a,{id:"prescriptionRefills",min:0,value:s.numRefills,onChange:e=>_({...s,numRefills:+e.imaginaryTarget.value})})))),o.a.createElement(M.a,null,o.a.createElement(G.a,{md:8},o.a.createElement(z.a,{id:"indication",labelText:d("indication","Indication"),placeholder:d("indicationPlaceholder",'e.g. "Hypertension"'),value:s.indication,onChange:e=>_({...s,indication:e.target.value}),maxLength:150})))),o.a.createElement(N.a,{style:{marginTop:"2rem"}},o.a.createElement(l.a,{kind:"secondary",onClick:n},d("cancel","Cancel")),o.a.createElement(l.a,{kind:"primary",type:"submit"},d("save","Save")))))}var Z=r(109),Q=r.n(Z),V=r(157),X=r(172);function $({orderBasketItem:e,onClick:t,onRemoveClick:r}){var n,a,d;const{t:s}=Object(g.useTranslation)(),_=Object(i.useRef)(!0),c=o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement("p",{className:Q.a.clipTextWithEllipsis},o.a.createElement(ee,{orderBasketItem:e}),o.a.createElement("br",null),e.isFreeTextDosage?o.a.createElement(o.a.Fragment,null,o.a.createElement("strong",null,e.drug.concept.display)," — ",e.freeTextDosage):o.a.createElement(o.a.Fragment,null,o.a.createElement("strong",null,e.drug.concept.display)," —"," ",o.a.createElement("strong",null,e.dosage.dosage),"— ",e.dosageUnit.name," — ",e.route.name," —"," ",e.frequency.name),o.a.createElement("br",null),o.a.createElement("span",{className:Q.a.label01},s("refills","Refills").toUpperCase())," ",e.numRefills," ","— ",o.a.createElement("span",{className:Q.a.label01},s("quantity","Quantity").toUpperCase())," ",e.pillsDispensed," —"," ",o.a.createElement("span",{className:Q.a.label01},s("indication","Indication").toUpperCase())," ",e.indication?e.indication:o.a.createElement("i",null,s("none","None")),!!e.orderError&&o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),o.a.createElement("span",{className:Q.a.orderErrorText},o.a.createElement(V.c,null),"   ",o.a.createElement("span",{className:Q.a.label01},s("error","Error").toUpperCase()),"  ",null!==(n=null===(a=e.orderError.responseBody)||void 0===a||null===(d=a.error)||void 0===d?void 0:d.message)&&void 0!==n?n:e.orderError.message))),o.a.createElement(l.a,{style:{flex:"0 0 auto"},kind:"ghost",hasIconOnly:!0,renderIcon:()=>o.a.createElement(X.a,null),iconDescription:s("removeFromBasket","Remove from basket"),onClick:()=>{_.current=!1,r()}}));return"DISCONTINUE"===e.action?o.a.createElement(m.b,null,c):o.a.createElement(m.a,{handleClick:()=>_.current&&t()},c)}function ee({orderBasketItem:e}){const{t:t}=Object(g.useTranslation)();switch(e.action){case"NEW":return o.a.createElement("span",{className:Q.a.orderActionNewLabel},t("orderActionNew","New"));case"RENEWED":return o.a.createElement("span",{className:Q.a.orderActionRenewLabel},t("orderActionRenewed","Renew"));case"REVISE":return o.a.createElement("span",{className:Q.a.orderActionRevisedLabel},t("orderActionRevised","Modify"));case"DISCONTINUE":return o.a.createElement("span",{className:Q.a.orderActionDiscontinueLabel},t("orderActionDiscontinue","Discontinue"));default:return o.a.createElement(o.a.Fragment,null)}}var te=r(111),re=r.n(te);function ie({orderBasketItems:e,onItemClicked:t,onItemRemoveClicked:r}){const{t:i}=Object(g.useTranslation)(),n=e.filter(e=>"NEW"===e.action),a=e.filter(e=>"RENEWED"===e.action),d=e.filter(e=>"REVISE"===e.action),s=e.filter(e=>"DISCONTINUE"===e.action);return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:re.a.productiveHeading02},i("orderBasket","Order Basket")),0===e.length&&o.a.createElement("p",null,i("emptyMedicationOrderBasket","Your basket is currently empty.")),n.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:re.a.orderCategoryHeading},i("newOrders","{count} new order(s)",{count:n.length})),n.map((e,i)=>o.a.createElement($,{key:i,orderBasketItem:e,onClick:()=>t(e),onRemoveClick:()=>r(e)}))),a.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:re.a.orderCategoryHeading},i("renewedOrders","{count} order(s) being renewed (continued)",{count:a.length})),a.map((e,i)=>o.a.createElement($,{key:i,orderBasketItem:e,onClick:()=>t(e),onRemoveClick:()=>r(e)}))),d.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:re.a.orderCategoryHeading},i("revisedOrders","{count} order(s) being modified (revised)",{count:d.length})),d.map((e,i)=>o.a.createElement($,{key:i,orderBasketItem:e,onClick:()=>t(e),onRemoveClick:()=>r(e)}))),s.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:re.a.orderCategoryHeading},i("discontinuedOrders","{count} discontinued order(s)",{count:s.length})),s.map((e,i)=>o.a.createElement($,{key:i,orderBasketItem:e,onClick:()=>t(e),onRemoveClick:()=>r(e)}))))}var oe=r(57),ne=r(175),ae=r(176),de=r(122),se=r.n(de);r(8);const _e="6f0c9a92-6f24-11e3-af88-005056821db0",le="e89cae4a-3cb3-40a2-b964-8b20dda2c985";async function ce(e,t,r){const i=function(e,t){return e.map(e=>{if("NEW"===e.action||"RENEWED"===e.action)return{action:"NEW",patient:t,type:"drugorder",careSetting:_e,orderer:le,encounter:e.encounterUuid,drug:e.drug.uuid,dose:e.dosage.numberOfPills,doseUnits:e.dosageUnit.uuid,route:e.route.conceptUuid,frequency:e.frequency.conceptUuid,asNeeded:e.asNeeded,asNeededCondition:e.asNeededCondition,numRefills:e.numRefills,quantity:e.pillsDispensed,quantityUnits:"162396AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",duration:e.duration,durationUnits:e.durationUnit.uuid,dosingType:e.isFreeTextDosage?"org.openmrs.FreeTextDosingInstructions":"org.openmrs.SimpleDosingInstructions",dosingInstructions:e.isFreeTextDosage?e.freeTextDosage:e.patientInstructions,concept:e.drug.concept.uuid,orderReasonNonCoded:e.indication,dateActivated:Object(b.toOmrsIsoString)(e.startDate)};if("REVISE"===e.action)return{action:"REVISE",patient:t,type:"drugorder",previousOrder:e.previousOrder,careSetting:_e,orderer:le,encounter:e.encounterUuid,drug:e.drug.uuid,dose:e.dosage.numberOfPills,doseUnits:e.dosageUnit.uuid,route:e.route.conceptUuid,frequency:e.frequency.conceptUuid,asNeeded:e.asNeeded,asNeededCondition:e.asNeededCondition,numRefills:e.numRefills,quantity:e.pillsDispensed,quantityUnits:"162396AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",duration:e.duration,durationUnits:e.durationUnit.uuid,dosingType:e.isFreeTextDosage?"org.openmrs.FreeTextDosingInstructions":"org.openmrs.SimpleDosingInstructions",dosingInstructions:e.isFreeTextDosage?e.freeTextDosage:e.patientInstructions,concept:e.drug.concept.uuid,orderReasonNonCoded:e.indication,dateActivated:Object(b.toOmrsIsoString)(e.startDate)};if("DISCONTINUE"===e.action)return{action:"DISCONTINUE",type:"drugorder",previousOrder:e.previousOrder,patient:t,careSetting:_e,encounter:e.encounterUuid,orderer:le,concept:e.drug.concept.uuid,drug:e.drug.uuid,orderReasonNonCoded:null};throw new Error(`Unknown order type ${e.action}. This is a development error.`)})}(e,t),o=[];for(let t=0;t<i.length;t++){const n=i[t],a=e[t];await Object(f.e)(n,r).catch(e=>{o.push({...a,orderError:e})})}return o}var ue=r(25),me=r(26),ge=r(54);var pe=Object(ue.connect)("items",me.b)(({patientUuid:e,items:t,closeWorkspace:r,setItems:n})=>{const{t:a}=Object(g.useTranslation)(),[d,s]=Object(i.useState)([]),[_,c]=Object(i.useState)(""),[u,m]=Object(i.useState)(!0),[p,h]=Object(i.useState)(null),[A,v]=Object(i.useState)(!1),[y,k]=Object(i.useState)(null),[E,x]=Object(ge.a)(e,"ACTIVE");Object(i.useEffect)(()=>{const t=new AbortController,r=Object(f.c)(t).then(e=>s(e.data.answers),b.createErrorHandler),i=Object(f.d)(e,t).then(({data:e})=>c(e.results[0].uuid),b.createErrorHandler);return Promise.all([r,i]).finally(()=>m(!1)),()=>t.abort()},[e]);const w=(e,t)=>{h(e),k(e=>e=>{v(!1),h(null),t(e)}),v(!0)},C=e=>{w(e,e=>n([...t,e]))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(ne.a,{active:u,withOverlay:!0}),A?o.a.createElement(J,{durationUnits:d,initialOrderBasketItem:p,onSign:y,onCancel:()=>v(!1)}):o.a.createElement(o.a.Fragment,null,o.a.createElement(H,{encounterUuid:_,onSearchResultClicked:(e,r)=>{r?n([...t,e]):C(e)}}),o.a.createElement("div",{className:se.a.orderBasketContainer},o.a.createElement(ie,{orderBasketItems:t,onItemClicked:e=>(e=>{const r=t[e];w(r,r=>n(()=>{const i=[...t];return i[e]=r,i}))})(t.indexOf(e)),onItemRemoveClicked:e=>{const r=[...t];r.splice(t.indexOf(e),1),n(r)}}),E?o.a.createElement(oe.a,{title:a("activeMedications","Active Medications"),medications:E,showDiscontinueButton:!0,showModifyButton:!0,showReorderButton:!1,showAddNewButton:!1}):o.a.createElement(ae.a,null),o.a.createElement(N.a,{style:{marginTop:"2rem"}},o.a.createElement(l.a,{kind:"secondary",onClick:()=>{n([]),r()}},a("cancel","Cancel")),o.a.createElement(l.a,{kind:"primary",onClick:()=>{const i=new AbortController;return ce(t,e,i).then(e=>{n(e),x(),0==e.length&&r()}),()=>i.abort()}},a("save","Save"))))))}),he=r(80);function be({patientUuid:e,closeWorkspace:t}){var r,i;const[,,n]=Object(b.useCurrentPatient)();return e=null!==(r=e)&&void 0!==r?r:n,t=null!==(i=t)&&void 0!==i?i:()=>Object(b.switchTo)("link",""),o.a.createElement(he.a,{basename:window.getOpenmrsSpaBase()},o.a.createElement(ue.Provider,{store:me.a},o.a.createElement(pe,{patientUuid:e,closeWorkspace:t})))}},23:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return d})),r.d(t,"e",(function(){return s})),r.d(t,"a",(function(){return _}));var i=r(0),o=r(27);function n(e,t){return Object(i.openmrsFetch)(`/ws/rest/v1/encounter?patient=${e}&order=desc&limit=1&v=custom:(uuid)`,{signal:t.signal})}function a(e,t){return Object(i.openmrsFetch)(`/ws/rest/v1/drug?q=${e}&v=custom:(uuid,name,strength,dosageForm:(display,uuid),concept)`,{signal:null==t?void 0:t.signal})}function d(e){return Object(i.openmrsFetch)("/ws/rest/v1/concept/1732AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA?v=custom:(answers:(uuid,display))",e)}function s(e,t){return Object(i.openmrsFetch)("/ws/rest/v1/order",{method:"POST",signal:null==t?void 0:t.signal,headers:{"Content-Type":"application/json"},body:e})}async function _(e,t,r){const{data:n}=await Object(i.openmrsFetch)(`/ws/rest/v1/order?patient=${e}&careSetting=${o.a}&status=${t}&v=custom:(uuid,dosingType,orderNumber,accessionNumber,patient:ref,action,careSetting:ref,previousOrder:ref,dateActivated,scheduledDate,dateStopped,autoExpireDate,orderType:ref,encounter:ref,orderer:ref,orderReason,orderReasonNonCoded,orderType,urgency,instructions,commentToFulfiller,drug:(uuid,name,strength,dosageForm:(display,uuid),concept),dose,doseUnits:ref,frequency:ref,asNeeded,asNeededCondition,quantity,quantityUnits:ref,numRefills,dosingInstructions,duration,durationUnits:ref,route:ref,brandName,dispenseAsWritten)`,{signal:null==r?void 0:r.signal});return n.results.filter(e=>"Drug Order"===e.orderType.display)}},26:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var i=r(0);const o=Object(i.createGlobalStore)("drug-order-basket",{items:[]}),n={setItems:(e,t)=>({items:"function"==typeof t?t():t})}},27:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));const i="6f0c9a92-6f24-11e3-af88-005056821db0",o={uuid:"1072AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",display:"Days"}},35:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var i=r(82);function o(e,t,r){var o;const n=Object(i.a)(e,r);return[null!==(o=n[t-1])&&void 0!==o?o:[],n]}},49:function(e,t,r){var i=r(14),o=r(50);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},50:function(e,t,r){(t=r(15)(!1)).push([e.i,".esm-drugorder__medications-details-table__resetPatientChartWidgetContainer___1cZKk{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__medications-details-table__productiveHeading01___Mm5iC{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__medications-details-table__productiveHeading02___1KYSl{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading03___3i6fP{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading04___2ow0_{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading05___GkO4Q{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading06___3ghb0{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__medications-details-table__bodyShort01___2Dk9p{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__medications-details-table__bodyShort02___1lAn0{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__medications-details-table__bodyLong01___3HoS-{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__medications-details-table__bodyLong02___2UfwL{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__medications-details-table__label01___sSG0u{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__medications-details-table__clipTextWithEllipsis___1ZsL3{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__medications-details-table__resetPatientChartWidgetContainer___1cZKk",productiveHeading01:"esm-drugorder__medications-details-table__productiveHeading01___Mm5iC",productiveHeading02:"esm-drugorder__medications-details-table__productiveHeading02___1KYSl",productiveHeading03:"esm-drugorder__medications-details-table__productiveHeading03___3i6fP",productiveHeading04:"esm-drugorder__medications-details-table__productiveHeading04___2ow0_",productiveHeading05:"esm-drugorder__medications-details-table__productiveHeading05___GkO4Q",productiveHeading06:"esm-drugorder__medications-details-table__productiveHeading06___3ghb0",bodyShort01:"esm-drugorder__medications-details-table__bodyShort01___2Dk9p",bodyShort02:"esm-drugorder__medications-details-table__bodyShort02___1lAn0",bodyLong01:"esm-drugorder__medications-details-table__bodyLong01___3HoS-",bodyLong02:"esm-drugorder__medications-details-table__bodyLong02___2UfwL",label01:"esm-drugorder__medications-details-table__label01___sSG0u",clipTextWithEllipsis:"esm-drugorder__medications-details-table__clipTextWithEllipsis___1ZsL3"},e.exports=t},54:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r(5),o=r(0),n=r(23);function a(e,t){const[r,a]=Object(i.useState)(null),d=r=>Object(n.a)(e,t,r).then(e=>{a(e)},o.createErrorHandler);return Object(i.useEffect)(()=>{const e=new AbortController;return d(e),()=>e.abort()},[e]),[r,d]}},57:function(e,t,r){"use strict";var i=r(5),o=r.n(i),n=r(8),a=r.n(n),d=r(56),s=r(49),_=r.n(s),l=r(185),c=r(179),u=r(174),m=r(182),g=r(81),p=r(74),h=r(77),b=r(78),A=r(72),f=r(75),v=r(76),y=r(84),k=r(73),E=r(38);function x(e,t){if(!e||!t)return"";const r=e.search(/\D/),i=e.substring(0,r),o=e.search(/\//);let n,a=e.substring(r);if(o>=0){a=e.substring(r,o);const d=e.substring(o+1).search(/\D/);n=`${t} ${a} (${t/i*e.substr(o+1,d)} ${e.substring(o+1+d)})`}else n=i*t+" "+a;return n}var w=r(7),C=r(173);function T(e,t){return null==e&&null==t?0:null==e?-1:null==t?1:e<t?-1:e>t?1:0}var H=r(35),D=r(25),S=r(26);const U=Object(D.connect)("items",S.b)(({title:e,medications:t,showDiscontinueButton:r,showModifyButton:n,showReorderButton:s,showAddNewButton:c,items:u,setItems:D})=>{const{t:S}=Object(w.useTranslation)(),[U,O]=Object(i.useState)(1),[R,I]=Object(i.useState)(10),[F]=Object(H.a)(t,U,R),z=[{key:"startDate",header:S("startDate","Start date"),isSortable:!0,isVisible:!0},{key:"details",header:S("details","Details"),isSortable:!0,isVisible:!0}],L=F.map((e,t)=>{var r,i,n,s,l,c,u;return{id:""+t,details:{sortKey:null===(r=e.drug)||void 0===r?void 0:r.name,content:o.a.createElement("p",{className:_.a.bodyLong01},o.a.createElement("strong",null,Object(d.a)(null===(i=e.drug)||void 0===i?void 0:i.name))," — ",null===(n=e.doseUnits)||void 0===n?void 0:n.display," —"," ",null===(s=e.route)||void 0===s?void 0:s.display,o.a.createElement("br",null),o.a.createElement("span",{className:_.a.label01},S("dose","DOSE").toUpperCase())," ",o.a.createElement("strong",null,x(null===(l=e.drug)||void 0===l?void 0:l.strength,e.dose).toLowerCase())," —"," ",null===(c=e.frequency)||void 0===c?void 0:c.display," —"," ",e.duration?S("medicationDurationAndUnit","for {duration} {durationUnit}",{duration:e.duration,durationUnit:null===(u=e.durationUnits)||void 0===u?void 0:u.display}):S("medicationUndefinedDuration","Indefinite duration"),o.a.createElement("br",null),o.a.createElement("span",{className:_.a.label01},S("refills","REFILLS").toUpperCase())," ",e.numRefills)},startDate:{sortKey:a()(e.dateActivated).toDate(),content:a()(e.dateActivated).format("DD-MMM-YYYY")}}});return o.a.createElement(g.a,{headers:z,rows:L,isSortable:!0,sortRow:(e,t,{sortDirection:r,sortStates:i})=>r===i.DESC?T(t.sortKey,e.sortKey):T(e.sortKey,t.sortKey)},({rows:i,headers:a,getTableProps:d,getHeaderProps:_,getRowProps:g})=>o.a.createElement(p.a,{title:e},c&&o.a.createElement(h.a,null,o.a.createElement(b.a,null,o.a.createElement(l.a,{renderIcon:()=>o.a.createElement(C.a,null)},S("add","Add")))),o.a.createElement(A.a,d(),o.a.createElement(f.a,null,o.a.createElement(v.a,null,a.map(e=>o.a.createElement(y.a,_({header:e,isSortable:e.isSortable}),e.header)),o.a.createElement(y.a,null))),o.a.createElement(k.a,null,i.map((e,i)=>o.a.createElement(v.a,g({row:e}),e.cells.map(e=>{var t,r;return o.a.createElement(E.a,{key:e.id},null!==(t=null===(r=e.value)||void 0===r?void 0:r.content)&&void 0!==t?t:e.value)}),o.a.createElement(E.a,{className:"bx--table-column-menu"},o.a.createElement(N,{showDiscontinueButton:r,showModifyButton:n,showReorderButton:s,medication:t[i],items:u,setItems:D})))))),o.a.createElement(m.a,{page:U,pageSize:R,pageSizes:[10,20,30,40,50],totalItems:t.length,onChange:({page:e,pageSize:t})=>{O(e),I(t)}})))});function N({showDiscontinueButton:e,showModifyButton:t,showReorderButton:r,medication:n,items:a,setItems:d}){const{t:s}=Object(w.useTranslation)(),_=a.some(e=>e.uuid===n.uuid),l=Object(i.useCallback)(()=>{d([...a,{uuid:n.uuid,previousOrder:null,action:"DISCONTINUE",drug:n.drug,dosage:{dosage:x(n.drug.strength,n.dose),numberOfPills:n.dose},dosageUnit:{uuid:n.doseUnits.uuid,name:n.doseUnits.display},frequency:{conceptUuid:n.frequency.uuid,name:n.frequency.display},route:{conceptUuid:n.route.uuid,name:n.route.display},encounterUuid:n.encounter.uuid,commonMedicationName:n.drug.name,isFreeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType,freeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType?n.dosingInstructions:"",patientInstructions:"org.openmrs.FreeTextDosingInstructions"!==n.dosingType?n.dosingInstructions:"",asNeeded:n.asNeeded,asNeededCondition:n.asNeededCondition,startDate:n.dateActivated,duration:n.duration,durationUnit:{uuid:n.durationUnits.uuid,display:n.durationUnits.display},pillsDispensed:n.quantity,numRefills:n.numRefills,indication:n.orderReasonNonCoded}])},[a,d,n]),m=Object(i.useCallback)(()=>{d([...a,{uuid:n.uuid,previousOrder:n.uuid,startDate:new Date,action:"REVISE",drug:n.drug,dosage:{dosage:x(n.drug.strength,n.dose),numberOfPills:n.dose},dosageUnit:{uuid:n.doseUnits.uuid,name:n.doseUnits.display},frequency:{conceptUuid:n.frequency.uuid,name:n.frequency.display},route:{conceptUuid:n.route.uuid,name:n.route.display},encounterUuid:n.encounter.uuid,commonMedicationName:n.drug.name,isFreeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType,freeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType?n.dosingInstructions:"",patientInstructions:"org.openmrs.FreeTextDosingInstructions"!==n.dosingType?n.dosingInstructions:"",asNeeded:n.asNeeded,asNeededCondition:n.asNeededCondition,duration:n.duration,durationUnit:{uuid:n.durationUnits.uuid,display:n.durationUnits.display},pillsDispensed:n.quantity,numRefills:n.numRefills,indication:n.orderReasonNonCoded}])},[a,d,n]),g=Object(i.useCallback)(()=>{d([...a,{uuid:n.uuid,previousOrder:null,startDate:new Date,action:"RENEWED",drug:n.drug,dosage:{dosage:x(n.drug.strength,n.dose),numberOfPills:n.dose},dosageUnit:{uuid:n.doseUnits.uuid,name:n.doseUnits.display},frequency:{conceptUuid:n.frequency.uuid,name:n.frequency.display},route:{conceptUuid:n.route.uuid,name:n.route.display},encounterUuid:n.encounter.uuid,commonMedicationName:n.drug.name,isFreeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType,freeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType?n.dosingInstructions:"",patientInstructions:"org.openmrs.FreeTextDosingInstructions"!==n.dosingType?n.dosingInstructions:"",asNeeded:n.asNeeded,asNeededCondition:n.asNeededCondition,duration:n.duration,durationUnit:{uuid:n.durationUnits.uuid,display:n.durationUnits.display},pillsDispensed:n.quantity,numRefills:n.numRefills,indication:n.orderReasonNonCoded}])},[a,d,n]);return o.a.createElement(c.a,{flipped:!0},e&&o.a.createElement(u.a,{itemText:s("discontinue","Discontinue"),onClick:l,disabled:_}),t&&o.a.createElement(u.a,{itemText:s("modify","Modify"),onClick:m,disabled:_}),r&&o.a.createElement(u.a,{itemText:s("reorder","Reorder"),onClick:g,disabled:_}))}t.a=U},93:function(e,t,r){var i=r(14),o=r(94);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},94:function(e,t,r){(t=r(15)(!1)).push([e.i,".esm-drugorder__order-basket-search__resetPatientChartWidgetContainer___3sVK_{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__order-basket-search__productiveHeading01___1GbXW{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__order-basket-search__productiveHeading02___2mTMw{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search__productiveHeading03___R2QGI{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search__productiveHeading04___2TX_7{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search__productiveHeading05___2UZFz{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search__productiveHeading06___3sTeu{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__order-basket-search__bodyShort01___2RKt-{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__order-basket-search__bodyShort02___2c2Kw{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__order-basket-search__bodyLong01___1nC1z{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__order-basket-search__bodyLong02___3PL5H{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__order-basket-search__label01___1SbNo{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__order-basket-search__clipTextWithEllipsis___2I3y3{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__order-basket-search__searchPopupContainer___1kjRc{position:relative}.esm-drugorder__order-basket-search__searchPopup___3UsrR{margin:0;padding:0;min-height:0;position:absolute;width:100%;box-shadow:0 2px 6px 0 rgba(0,0,0,0.3);z-index:1}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__order-basket-search__resetPatientChartWidgetContainer___3sVK_",productiveHeading01:"esm-drugorder__order-basket-search__productiveHeading01___1GbXW",productiveHeading02:"esm-drugorder__order-basket-search__productiveHeading02___2mTMw",productiveHeading03:"esm-drugorder__order-basket-search__productiveHeading03___R2QGI",productiveHeading04:"esm-drugorder__order-basket-search__productiveHeading04___2TX_7",productiveHeading05:"esm-drugorder__order-basket-search__productiveHeading05___2UZFz",productiveHeading06:"esm-drugorder__order-basket-search__productiveHeading06___3sTeu",bodyShort01:"esm-drugorder__order-basket-search__bodyShort01___2RKt-",bodyShort02:"esm-drugorder__order-basket-search__bodyShort02___2c2Kw",bodyLong01:"esm-drugorder__order-basket-search__bodyLong01___1nC1z",bodyLong02:"esm-drugorder__order-basket-search__bodyLong02___3PL5H",label01:"esm-drugorder__order-basket-search__label01___1SbNo",clipTextWithEllipsis:"esm-drugorder__order-basket-search__clipTextWithEllipsis___2I3y3",searchPopupContainer:"esm-drugorder__order-basket-search__searchPopupContainer___1kjRc",searchPopup:"esm-drugorder__order-basket-search__searchPopup___3UsrR"},e.exports=t},95:function(e,t,r){var i=r(14),o=r(96);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},96:function(e,t,r){(t=r(15)(!1)).push([e.i,".esm-drugorder__order-basket-search-results__resetPatientChartWidgetContainer___nJSS7{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__order-basket-search-results__productiveHeading01___1zlg_{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__order-basket-search-results__productiveHeading02___3ofT4{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search-results__productiveHeading03____SouU{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search-results__productiveHeading04___3XUdN{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search-results__productiveHeading05___2Y1J9{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search-results__productiveHeading06___2Da7U{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__order-basket-search-results__bodyShort01___ePOYj{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__order-basket-search-results__bodyShort02___1WFki{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__order-basket-search-results__bodyLong01___1u6yH{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__order-basket-search-results__bodyLong02___2Ei9R{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__order-basket-search-results__label01___1yrua{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__order-basket-search-results__clipTextWithEllipsis___1B68G{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__order-basket-search-results__searchResultTile___3ED0C{border-left:2px solid #0f62fe}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__order-basket-search-results__resetPatientChartWidgetContainer___nJSS7",productiveHeading01:"esm-drugorder__order-basket-search-results__productiveHeading01___1zlg_",productiveHeading02:"esm-drugorder__order-basket-search-results__productiveHeading02___3ofT4",productiveHeading03:"esm-drugorder__order-basket-search-results__productiveHeading03____SouU",productiveHeading04:"esm-drugorder__order-basket-search-results__productiveHeading04___3XUdN",productiveHeading05:"esm-drugorder__order-basket-search-results__productiveHeading05___2Y1J9",productiveHeading06:"esm-drugorder__order-basket-search-results__productiveHeading06___2Da7U",bodyShort01:"esm-drugorder__order-basket-search-results__bodyShort01___ePOYj",bodyShort02:"esm-drugorder__order-basket-search-results__bodyShort02___1WFki",bodyLong01:"esm-drugorder__order-basket-search-results__bodyLong01___1u6yH",bodyLong02:"esm-drugorder__order-basket-search-results__bodyLong02___2Ei9R",label01:"esm-drugorder__order-basket-search-results__label01___1yrua",clipTextWithEllipsis:"esm-drugorder__order-basket-search-results__clipTextWithEllipsis___1B68G",searchResultTile:"esm-drugorder__order-basket-search-results__searchResultTile___3ED0C"},e.exports=t},97:function(e){e.exports=JSON.parse('[{"name":"Aspirin","uuid":"18f43c99-2329-426e-97b5-c3356e6afe54","strength":"81mg","dosageUnits":[{"uuid":"1513AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","name":"Tablet","selected":true},{"uuid":"1608AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","name":"Capsule"}],"route":[{"name":"Oral","conceptUuid":"160240AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","selected":true}],"commonFrequencies":[{"name":"Once daily","conceptUuid":"160862AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","selected":true},{"name":"Twice daily","conceptUuid":"160858AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}],"commonDosages":[{"dosage":"81 mg","numberOfPills":1},{"dosage":"162 mg","numberOfPills":2},{"dosage":"243 mg","numberOfPills":3,"selected":true}]},{"name":"Sulfadoxine","uuid":"fc92c351-8a85-41b9-95bf-a7dfea46c9cd","strength":"500mg","dosageUnits":[{"uuid":"1513AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","name":"Tablet","selected":true},{"uuid":"1608AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","name":"Capsule"}],"route":[{"name":"Oral","conceptUuid":"160240AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","selected":true}],"commonFrequencies":[{"name":"Once daily","conceptUuid":"160862AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","selected":true},{"name":"Twice daily","conceptUuid":"160858AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}],"commonDosages":[{"dosage":"500 mg","numberOfPills":1},{"dosage":"1000 mg","numberOfPills":2},{"dosage":"1500 mg","numberOfPills":3,"selected":true}]}]')}}]);
//# sourceMappingURL=2.openmrs-esm-drugorder-app.js.map