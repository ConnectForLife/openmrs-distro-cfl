"use strict";(self.webpackChunk_openmrs_esm_patient_chart_app=self.webpackChunk_openmrs_esm_patient_chart_app||[]).push([[116],{2759:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(9601),r=n.n(i),a=n(2609),o=n.n(a)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-chart__visit-form__container___o2Ern{margin:1rem}.-esm-patient-chart__visit-form__container___o2Ern section{margin:1rem 0}.-esm-patient-chart__visit-form__heading___mb2bu{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin:1rem}.-esm-patient-chart__visit-form__sectionTitle___heSBV{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin:0 0 .5rem 0}.-esm-patient-chart__visit-form__dateTimeSection___CfI4i{display:flex}.-esm-patient-chart__visit-form__radioButton___BWh2W{margin:1rem 0}.-esm-patient-chart__visit-form__headerGridRow___Vjf3b{border-bottom:.0625rem solid #e0e0e0;margin:0}.-esm-patient-chart__visit-form__dataGridRow___cNUwL{display:grid;grid-template-columns:50% 10% 1fr;margin:.5rem 1rem;width:100%}.-esm-patient-chart__visit-form__form___Tu0xq{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - 6rem)}.-esm-patient-chart__visit-form__button___QLMFG{height:4rem;display:flex;align-content:flex-start;align-items:baseline;min-width:50%}.-esm-patient-chart__visit-form__tablet___xYDxN{padding:1.5rem 1rem;background-color:#fff}.-esm-patient-chart__visit-form__desktop___JJdsW{padding:0rem}@media screen and (max-width: 600px){.-esm-patient-chart__visit-form__dateTimeSection___CfI4i{flex-direction:column}}",""]),o.locals={container:"-esm-patient-chart__visit-form__container___o2Ern",heading:"-esm-patient-chart__visit-form__heading___mb2bu",sectionTitle:"-esm-patient-chart__visit-form__sectionTitle___heSBV",dateTimeSection:"-esm-patient-chart__visit-form__dateTimeSection___CfI4i",radioButton:"-esm-patient-chart__visit-form__radioButton___BWh2W",headerGridRow:"-esm-patient-chart__visit-form__headerGridRow___Vjf3b",dataGridRow:"-esm-patient-chart__visit-form__dataGridRow___cNUwL",form:"-esm-patient-chart__visit-form__form___Tu0xq",button:"-esm-patient-chart__visit-form__button___QLMFG",tablet:"-esm-patient-chart__visit-form__tablet___xYDxN",desktop:"-esm-patient-chart__visit-form__desktop___JJdsW"};const l=o},64:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(9601),r=n.n(i),a=n(2609),o=n.n(a)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-chart__visit-type-overview__visitTypeOverviewWrapper____eB9f{margin:1rem 0rem;border:.0625rem solid #e0e0e0}.-esm-patient-chart__visit-type-overview__tablet___faYh5{background-color:#fff}.-esm-patient-chart__visit-type-overview__desktop___Qb_5c{background-color:#f4f4f4}.-esm-patient-chart__visit-type-overview__desktop___Qb_5c .-esm-patient-chart__visit-type-overview__paginationContainer___iK2SG div{background-color:#f4f4f4}.-esm-patient-chart__visit-type-overview__visitTypeOverviewWrapper____eB9f div:nth-child(3)>div:nth-child(2){position:relative}.-esm-patient-chart__visit-type-overview__visitTypeOverviewWrapper____eB9f div:nth-child(3) span *{display:none}.-esm-patient-chart__visit-type-overview__radioButtonGroup___Ot2Lc{display:flex;flex-direction:column;align-items:flex-start;margin-top:.5rem;min-height:4rem;width:100%;font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-patient-chart__visit-type-overview__radioButton___rWMfu{padding:.25rem 1rem;margin:.5rem 0}",""]),o.locals={visitTypeOverviewWrapper:"-esm-patient-chart__visit-type-overview__visitTypeOverviewWrapper____eB9f",tablet:"-esm-patient-chart__visit-type-overview__tablet___faYh5",desktop:"-esm-patient-chart__visit-type-overview__desktop___Qb_5c",paginationContainer:"-esm-patient-chart__visit-type-overview__paginationContainer___iK2SG",radioButtonGroup:"-esm-patient-chart__visit-type-overview__radioButtonGroup___Ot2Lc",radioButton:"-esm-patient-chart__visit-type-overview__radioButton___rWMfu"};const l=o},3484:(e,t,n)=>{n.d(t,{P:()=>b});var i=n(4397),r=n(5038),a=n(2995),o=n(1881),l=n(9120),c=n(4773);function s(e){return function(t){return 0===e?(0,c.c)():t.lift(new u(e))}}var u=function(){function e(e){if(this.total=e,this.total<0)throw new l.W}return e.prototype.call=function(e,t){return t.subscribe(new m(e,this.total))},e}(),m=function(e){function t(t,n){var i=e.call(this,t)||this;return i.total=n,i.count=0,i}return a.ZT(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(o.L);function d(e){return void 0===e&&(e=null),function(t){return t.lift(new p(e))}}var p=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new _(e,this.defaultValue))},e}(),_=function(e){function t(t,n){var i=e.call(this,t)||this;return i.defaultValue=n,i.isEmpty=!0,i}return a.ZT(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(o.L);function f(e){return void 0===e&&(e=y),function(t){return t.lift(new v(e))}}var v=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.errorFactory))},e}(),h=function(e){function t(t,n){var i=e.call(this,t)||this;return i.errorFactory=n,i.hasValue=!1,i}return a.ZT(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(o.L);function y(){return new i.K}var g=n(6930);function b(e,t){var n=arguments.length>=2;return function(a){return a.pipe(e?(0,r.h)((function(t,n){return e(t,n,a)})):g.y,s(1),n?d(t):f((function(){return new i.K})))}}},9116:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ce});var i=n(268),r=n.n(i),a=n(3565),o=n.n(a),l=n(4350),c=n(4924),s=n(3484),u=n(906),m=n(6217),d=n(3122),p=n(3221);const _=function(){return p.Z.Date.now()};var f=/\s/;var v=/^\s+/;const h=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&f.test(e.charAt(t)););return t}(e)+1).replace(v,""):e};var y=n(2758),g=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,w=/^0o[0-7]+$/i,T=parseInt;const S=function(e){if("number"==typeof e)return e;if((0,y.Z)(e))return NaN;if((0,d.Z)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,d.Z)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=h(e);var n=b.test(e);return n||w.test(e)?T(e.slice(2),n?2:8):g.test(e)?NaN:+e};var E=Math.max,x=Math.min;var k=n(739),P=n(7210),C=n(4248),O=n(7885),L=n(3282),N=n(4975),B=n(5441),D=n(7577),V=Object.prototype.hasOwnProperty;var I=n(6062),A=n.n(I),j=n(4036),Z=n.n(j),M=n(6793),R=n.n(M),G=n(7892),W=n.n(G),F=n(1173),U=n.n(F),z=n(2464),$=n.n(z),Y=n(64),Q={};Q.styleTagTransform=$(),Q.setAttributes=W(),Q.insert=R().bind(null,"head"),Q.domAPI=Z(),Q.insertStyleElement=U(),A()(Y.Z,Q);const q=Y.Z&&Y.Z.locals?Y.Z.locals:void 0;function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const K=function(e){var t,n,a=e.onChange,o=e.visitTypes,s=(0,c.useTranslation)().t,p="tablet"===(0,u.useLayoutType)(),f=(t=(0,i.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=f[0],h=f[1],y=(0,i.useMemo)((function(){return function(e){if(null==e)return!0;if((0,L.Z)(e)&&((0,O.Z)(e)||"string"==typeof e||"function"==typeof e.splice||(0,N.Z)(e)||(0,D.Z)(e)||(0,C.Z)(e)))return!e.length;var t=(0,P.Z)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if((0,B.Z)(e))return!(0,k.Z)(e).length;for(var n in e)if(V.call(e,n))return!1;return!0}(v)?o:o.filter((function(e){return-1!==e.display.toLowerCase().search(v.toLowerCase())}))}),[v,o]),g=r().useMemo((function(){return function(e,t,n){var i,r,a,o,l,c,s=0,u=!1,m=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=i,a=r;return i=r=void 0,s=t,o=e.apply(a,n)}function v(e){return s=e,l=setTimeout(y,t),u?f(e):o}function h(e){var n=e-c;return void 0===c||n>=t||n<0||m&&e-s>=a}function y(){var e=_();if(h(e))return g(e);l=setTimeout(y,function(e){var n=t-(e-c);return m?x(n,a-(e-s)):n}(e))}function g(e){return l=void 0,p&&i?f(e):(i=r=void 0,o)}function b(){var e=_(),n=h(e);if(i=arguments,r=this,c=e,n){if(void 0===l)return v(c);if(m)return clearTimeout(l),l=setTimeout(y,t),f(c)}return void 0===l&&(l=setTimeout(y,t)),o}return t=S(t)||0,(0,d.Z)(n)&&(u=!!n.leading,a=(m="maxWait"in n)?E(S(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==l&&clearTimeout(l),s=0,i=c=r=l=void 0},b.flush=function(){return void 0===l?o:g(_())},b}((function(e){return h(e)}),300)}),[]),b=(0,u.usePagination)(y,5),w=b.results,T=b.currentPage,I=b.goTo;return r().createElement("div",{className:"".concat(q.visitTypeOverviewWrapper," ").concat(p?q.tablet:q.desktop)},o.length?r().createElement(r().Fragment,null,p?r().createElement(l.Layer,null,r().createElement(l.Search,{onChange:function(e){return g(e.target.value)},placeholder:s("searchForAVisitType","Search for a visit type"),labelText:"",light:p})):r().createElement(l.Search,{onChange:function(e){return g(e.target.value)},placeholder:s("searchForAVisitType","Search for a visit type"),labelText:"",light:p}),r().createElement(l.RadioButtonGroup,{className:q.radioButtonGroup,defaultSelected:"default-selected",orientation:"vertical",onChange:a,name:"radio-button-group",valueSelected:"default-selected"},w.map((function(e){var t=e.uuid,n=e.display,i=e.name;return r().createElement(l.RadioButton,{key:t,className:q.radioButton,id:i,labelText:n,value:t})}))),r().createElement("div",{className:q.paginationContainer},r().createElement(m.PatientChartPagination,{pageNumber:T,totalItems:null==o?void 0:o.length,currentItems:w.length,pageSize:5,onPageNumberChange:function(e){var t=e.page;return I(t)}}))):r().createElement(l.StructuredListSkeleton,null))};var H=n(2759),X={};X.styleTagTransform=$(),X.setAttributes=W(),X.insert=R().bind(null,"head"),X.domAPI=Z(),X.insertStyleElement=U(),A()(H.Z,X);const ee=H.Z&&H.Z.locals?H.Z.locals:void 0;var te=n(9857);function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=function(e){return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){ne(e,t,n[t])}))}return e}({},e),n=null!=(n={display:e.name})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t;var t,n},re=function(e){var t,n=e.patientUuid,a=e.patientProgramEnrollment,o=e.onChange,c=e.locationUuid,s=function(e,t,n,r){var a,o=(0,u.useConfig)(),l=o.visitTypeResourceUrl,c=o.showRecommendedVisitTypeTab,s=(0,te.ZP)(c&&e&&t&&n&&"".concat(l).concat(e,"/program/").concat(n,"/enrollment/").concat(t,"?intendedLocationUuid=").concat(r),u.openmrsFetch),m=s.data,d=s.error,p=(0,i.useMemo)((function(){var e,t;return null!==(a=null==m||null===(e=m.data)||void 0===e||null===(t=e.visitTypes)||void 0===t?void 0:t.allowed.map(ie))&&void 0!==a?a:[]}),[m]);return{recommendedVisitTypes:p,error:d,isLoading:!m&&!d}}(n,null==a?void 0:a.uuid,null==a||null===(t=a.program)||void 0===t?void 0:t.uuid,c),m=s.recommendedVisitTypes,d=(s.error,s.isLoading);return r().createElement("div",{style:{marginTop:"0.625rem"}},d?r().createElement(l.StructuredListSkeleton,null):r().createElement(K,{onChange:o,visitTypes:m,patientUuid:n}))},ae=r().memo(re);function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const ce=function(e){var t,n=e.patientUuid,a=e.closeWorkspace,d=e.promptBeforeClosing,p=(0,c.useTranslation)().t,_="tablet"===(0,u.useLayoutType)(),f=(0,u.useLocations)(),v=(0,u.useSession)(),h=(0,u.useConfig)(),y=le((0,i.useState)(h.showRecommendedVisitTypeTab?0:1),2),g=y[0],b=y[1],w=le((0,i.useState)(!1),2),T=w[0],S=w[1],E=le((0,i.useState)(!1),2),x=E[0],k=E[1],P=le((0,i.useState)(""),2),C=P[0],O=P[1],L=le((0,i.useState)((new Date).getHours()>=12?"PM":"AM"),2),N=L[0],B=L[1],D=le((0,i.useState)(new Date),2),V=D[0],I=D[1],A=le((0,i.useState)(o()(new Date).format("hh:mm")),2),j=A[0],Z=A[1],M=le((0,i.useState)(null),2),R=M[0],G=M[1],W=(0,i.useMemo)((function(){return{patientUuid:n}}),[n]),F=(0,u.useVisitTypes)(),U=(0,m.useActivePatientEnrollment)(n),z=U.activePatientEnrollment,$=U.isLoading,Y=le((0,i.useState)(z[0]),2),Q=Y[0],q=Y[1],J=(0,u.useVisit)(n).mutate,H=le((0,i.useState)(!0),2),X=H[0],te=H[1];(0,i.useEffect)((function(){var e,t;f&&(null==v||null===(e=v.sessionLocation)||void 0===e?void 0:e.uuid)&&O(null==v||null===(t=v.sessionLocation)||void 0===t?void 0:t.uuid)}),[f,v]);var ne=(0,i.useCallback)((function(e){if(e.preventDefault(),R){k(!0);var t=le((0,m.convertTime12to24)(j,N),2),i=t[0],r=t[1],l={patient:n,startDatetime:(0,u.toDateObjectStrict)((0,u.toOmrsIsoString)(new Date(o()(V).year(),o()(V).month(),o()(V).date(),i,r))),visitType:R,location:C},c=new AbortController;(0,u.saveVisit)(l,c).pipe((0,s.P)()).subscribe((function(e){var t,n;201===e.status&&(a(),J(),(0,u.showToast)({critical:!0,kind:"success",description:p("visitStartedSuccessfully","".concat(null==e||null===(t=e.data)||void 0===t||null===(n=t.visitType)||void 0===n?void 0:n.display," started successfully")),title:p("visitStarted","Visit started")}))}),(function(e){(0,u.showNotification)({title:p("startVisitError","Error starting visit"),kind:"error",critical:!0,description:null==e?void 0:e.message})}))}else S(!0)}),[a,J,n,C,p,N,V,j,R]);return r().createElement(l.Form,{className:ee.form,onChange:function(){te((function(e){return!e})),d((function(){return!0}))}},r().createElement("div",null,_&&r().createElement(l.Row,{className:ee.headerGridRow},r().createElement(u.ExtensionSlot,{extensionSlotName:"visit-form-header-slot",className:ee.dataGridRow,state:W})),r().createElement(l.Stack,{gap:8,className:ee.container},r().createElement("section",{className:ee.section},r().createElement("div",{className:ee.sectionTitle},p("dateAndTimeOfVisit","Date and time of visit")),r().createElement("div",{className:ee.dateTimeSection},_?r().createElement(l.Layer,null,r().createElement(l.DatePicker,{dateFormat:"d/m/Y",datePickerType:"single",id:"visitDate",style:{paddingBottom:"1rem"},maxDate:(new Date).toISOString(),onChange:function(e){var t=le(e,1)[0];return I(t)},value:V},r().createElement(l.DatePickerInput,{id:"visitStartDateInput",labelText:p("date","Date"),placeholder:"dd/mm/yyyy",style:{width:"100%"}}))):r().createElement(l.DatePicker,{dateFormat:"d/m/Y",datePickerType:"single",id:"visitDate",style:{paddingBottom:"1rem"},maxDate:(new Date).toISOString(),onChange:function(e){var t=le(e,1)[0];return I(t)},value:V},r().createElement(l.DatePickerInput,{id:"visitStartDateInput",labelText:p("date","Date"),placeholder:"dd/mm/yyyy",style:{width:"100%"}})),_?r().createElement(l.Layer,null,r().createElement(l.TimePicker,{id:"visitStartTime",labelText:p("time","Time"),onChange:function(e){return Z(e.target.value)},pattern:"^(1[0-2]|0?[1-9]):([0-5]?[0-9])$",style:{marginLeft:"0.125rem",flex:"none"},value:j},r().createElement(l.TimePickerSelect,{id:"visitStartTimeSelect",onChange:function(e){return B(e.target.value)},value:N,"aria-label":p("time","Time")},r().createElement(l.SelectItem,{value:"AM",text:"AM"}),r().createElement(l.SelectItem,{value:"PM",text:"PM"})))):r().createElement(l.TimePicker,{id:"visitStartTime",labelText:p("time","Time"),onChange:function(e){return Z(e.target.value)},pattern:"^(1[0-2]|0?[1-9]):([0-5]?[0-9])$",style:{marginLeft:"0.125rem",flex:"none"},value:j},r().createElement(l.TimePickerSelect,{id:"visitStartTimeSelect",onChange:function(e){return B(e.target.value)},value:N,"aria-label":p("time","Time")},r().createElement(l.SelectItem,{value:"AM",text:"AM"}),r().createElement(l.SelectItem,{value:"PM",text:"PM"}))))),r().createElement("section",null,r().createElement("div",{className:ee.sectionTitle},p("visitLocation","Visit Location")),_?r().createElement(l.Layer,null,r().createElement(l.Select,{labelText:p("selectLocation","Select a location"),id:"location",invalidText:"Required",value:C,onChange:function(e){return O(e.target.value)}},(null==f?void 0:f.length)>0&&f.map((function(e){return r().createElement(l.SelectItem,{key:e.uuid,text:e.display,value:e.uuid},e.display)})))):r().createElement(l.Select,{labelText:p("selectLocation","Select a location"),id:"location",invalidText:"Required",value:C,onChange:function(e){return O(e.target.value)}},(null==f?void 0:f.length)>0&&f.map((function(e){return r().createElement(l.SelectItem,{key:e.uuid,text:e.display,value:e.uuid},e.display)})))),h.showRecommendedVisitTypeTab&&r().createElement("section",null,r().createElement("div",{className:ee.sectionTitle},p("program","Program")),r().createElement(l.FormGroup,{legendText:p("selectProgramType","Select program type")},r().createElement(l.RadioButtonGroup,{defaultSelected:null==Q||null===(t=Q.program)||void 0===t?void 0:t.uuid,orientation:"vertical",onChange:function(e){return q(z.find((function(t){return t.program.uuid===e})))},name:"program-type-radio-group",valueSelected:"default-selected"},z.map((function(e){var t=e.uuid,n=e.display,i=e.program;return r().createElement(l.RadioButton,{key:t,className:ee.radioButton,id:t,labelText:n,value:i.uuid})}))))),r().createElement("section",null,r().createElement("div",{className:ee.sectionTitle},p("visitType","Visit Type")),r().createElement(l.ContentSwitcher,{selectedIndex:g,onChange:function(e){var t=e.index;return b(t)}},r().createElement(l.Switch,{name:"recommended",text:p("recommended","Recommended")}),r().createElement(l.Switch,{name:"all",text:p("all","All")})),0===g&&!$&&r().createElement(ae,{onChange:function(e){G(e),S(!1)},patientUuid:n,patientProgramEnrollment:Q,locationUuid:C}),1===g&&r().createElement(K,{onChange:function(e){G(e),S(!1)},visitTypes:F,patientUuid:n})),T&&r().createElement("section",null,r().createElement(l.InlineNotification,{role:"alert",style:{margin:"0",minWidth:"100%"},kind:"error",lowContrast:!0,title:p("missingVisitType","Missing visit type"),subtitle:p("selectVisitType","Please select a Visit Type")})))),r().createElement(l.ButtonSet,{className:_?ee.tablet:ee.desktop},r().createElement(l.Button,{className:ee.button,kind:"secondary",onClick:function(){return a(X)}},p("discard","Discard")),r().createElement(l.Button,{onClick:ne,className:ee.button,disabled:x,kind:"primary",type:"submit"},p("startVisit","Start visit"))))}}}]);