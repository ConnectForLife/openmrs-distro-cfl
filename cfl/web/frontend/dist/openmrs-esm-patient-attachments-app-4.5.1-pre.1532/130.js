/*! For license information please see 130.js.LICENSE.txt */
(globalThis.webpackChunk_openmrs_esm_patient_attachments_app=globalThis.webpackChunk_openmrs_esm_patient_attachments_app||[]).push([[130],{2609:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(n)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(a[s]=!0)}for(var u=0;u<t.length;u++){var l=[].concat(t[u]);n&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},272:t=>{"use strict";t.exports=function(t){var e=t[1],r=t[3];if(!r)return e;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),i="/*# ".concat(o," */"),a=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[e].concat(a).concat([i]).join("\n")}return[e].join("\n")}},1354:t=>{"use strict";var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var i={},a=[],c=0;c<t.length;c++){var s=t[c],u=n.base?s[0]+n.base:s[0],l=i[u]||0,f="".concat(u," ").concat(l);i[u]=l+1;var d=r(f),h={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==d)e[d].references++,e[d].updater(h);else{var p=o(h,n);n.byIndex=c,e.splice(c,0,{identifier:f,updater:p,references:1})}a.push(f)}return a}function o(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,o){var i=n(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var c=r(i[a]);e[c].references--}for(var s=n(t,o),u=0;u<i.length;u++){var l=r(i[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=s}}},7378:t=>{"use strict";var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},4154:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},5993:(t,e,r)=>{"use strict";t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},1583:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},8141:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},5047:t=>{var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,e,r){var n=f;return function(o,i){if(n===h)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return C()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=S(a,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var s=l(t,e,r);if("normal"===s.type){if(n=r.done?p:d,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=p,r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function y(){}function g(){}function m(){}var w={};s(w,i,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(R([])));b&&b!==r&&n.call(b,i)&&(w=b);var _=m.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function S(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=l(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function R(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:C}}function C(){return{value:e,done:!0}}return g.prototype=m,s(_,"constructor",m),s(m,"constructor",g),g.displayName=s(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},L(x.prototype),s(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(_),s(_,c,"Generator"),s(_,i,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=R,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},452:(t,e,r)=>{"use strict";var n=r(7900),o="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},i=n.useState,a=n.useEffect,c=n.useLayoutEffect,s=n.useDebugValue;function u(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!o(t,r)}catch(t){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var r=e(),n=i({inst:{value:r,getSnapshot:e}}),o=n[0].inst,l=n[1];return c((function(){o.value=r,o.getSnapshot=e,u(o)&&l({inst:o})}),[t,r,e]),a((function(){return u(o)&&l({inst:o}),t((function(){u(o)&&l({inst:o})}))}),[t]),s(r),r};e.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:l},3100:(t,e,r)=>{"use strict";t.exports=r(452)},4729:(t,e,r)=>{"use strict";r.d(e,{$l:()=>s,BN:()=>V,DY:()=>o,J$:()=>G,JN:()=>v,LI:()=>O,PM:()=>f,W6:()=>S,i_:()=>c,ko:()=>B,kw:()=>T,mf:()=>l,o8:()=>u,qC:()=>C,s6:()=>H,sj:()=>I,u3:()=>j,u_:()=>A,w6:()=>x,xD:()=>Z});var n=r(7900);const o=new WeakMap,i={},a=()=>{},c=a(),s=Object,u=t=>t===c,l=t=>"function"==typeof t,f=(t,e)=>({...t,...e}),d="undefined",h=typeof window!=d,p=typeof document!=d,v=(t,e)=>{const r=o.get(t);return[()=>t.get(e)||i,n=>{const o=t.get(e);r[5](e,f(o,n),o||i)},r[6]]},y=new WeakMap;let g=0;const m=t=>{const e=typeof t,r=t&&t.constructor,n=r==Date;let o,i;if(s(t)!==t||n||r==RegExp)o=n?t.toJSON():"symbol"==e?t.toString():"string"==e?JSON.stringify(t):""+t;else{if(o=y.get(t),o)return o;if(o=++g+"~",y.set(t,o),r==Array){for(o="@",i=0;i<t.length;i++)o+=m(t[i])+",";y.set(t,o)}if(r==s){o="#";const e=s.keys(t).sort();for(;!u(i=e.pop());)u(t[i])||(o+=i+":"+m(t[i])+",");y.set(t,o)}}return o};let w=!0;const[E,b]=h&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[a,a],_={isOnline:()=>w,isVisible:()=>{const t=p&&document.visibilityState;return u(t)||"hidden"!==t}},L={initFocus:t=>(p&&document.addEventListener("visibilitychange",t),E("focus",t),()=>{p&&document.removeEventListener("visibilitychange",t),b("focus",t)}),initReconnect:t=>{const e=()=>{w=!0,t()},r=()=>{w=!1};return E("online",e),E("offline",r),()=>{b("online",e),b("offline",r)}}},x=!n.useId,S=!h||"Deno"in window,T=t=>h&&typeof window.requestAnimationFrame!=d?window.requestAnimationFrame(t):setTimeout(t,1),O=S?n.useEffect:n.useLayoutEffect,k="undefined"!=typeof navigator&&navigator.connection,R=!S&&k&&(["slow-2g","2g"].includes(k.effectiveType)||k.saveData),C=t=>{if(l(t))try{t=t()}catch(e){t=""}const e=t;return[t="string"==typeof t?t:(Array.isArray(t)?t.length:t)?m(t):"",e]};let N=0;const j=()=>++N;var I={__proto__:null,FOCUS_EVENT:0,RECONNECT_EVENT:1,MUTATE_EVENT:2};async function V(...t){const[e,r,n,i]=t,a=f({populateCache:!0,throwOnError:!0},"boolean"==typeof i?{revalidate:i}:i||{});let s=a.populateCache;const d=a.rollbackOnError;let h=a.optimisticData;const p=!1!==a.revalidate,y=a.throwOnError;if(l(r)){const t=r,n=[],o=e.keys();for(let r=o.next();!r.done;r=o.next()){const o=r.value;!o.startsWith("$inf$")&&t(e.get(o)._k)&&n.push(o)}return Promise.all(n.map(g))}return g(r);async function g(r){const[i]=C(r);if(!i)return;const[a,f]=v(e,i),[g,m,w]=o.get(e),E=g[i],b=()=>p&&(delete w[i],E&&E[0])?E[0](2).then((()=>a().data)):a().data;if(t.length<3)return b();let _,L=n;const x=j();m[i]=[x,0];const S=!u(h),T=a(),O=T.data,k=T._c,R=u(k)?O:k;if(S&&(h=l(h)?h(R):h,f({data:h,_c:R})),l(L))try{L=L(R)}catch(t){_=t}if(L&&l(L.then)){if(L=await L.catch((t=>{_=t})),x!==m[i][0]){if(_)throw _;return L}_&&S&&(t=>"function"==typeof d?d(t):!1!==d)(_)&&(s=!0,L=R,f({data:L,_c:c}))}s&&(_||(l(s)&&(L=s(L,R)),f({data:L,_c:c}))),m[i][1]=j();const N=await b();if(f({_c:c}),!_)return s?N:L;if(y)throw _}}const M=(t,e)=>{for(const r in t)t[r][0]&&t[r][0](e)},D=(t,e)=>{if(!o.has(t)){const r=f(L,e),n={},i=V.bind(c,t);let s=a;const u={},l=(t,e)=>{const r=u[t]||[];return u[t]=r,r.push(e),()=>r.splice(r.indexOf(e),1)},d=(e,r,n)=>{t.set(e,r);const o=u[e];if(o)for(let t=o.length;t--;)o[t](n,r)},h=()=>{if(!o.has(t)&&(o.set(t,[n,{},{},{},i,d,l]),!S)){const e=r.initFocus(setTimeout.bind(c,M.bind(c,n,0))),i=r.initReconnect(setTimeout.bind(c,M.bind(c,n,1)));s=()=>{e&&e(),i&&i(),o.delete(t)}}};return h(),[t,i,h,s]}return[t,o.get(t)[4]]},[P,F]=D(new Map),A=f({onLoadingSlow:a,onSuccess:a,onError:a,onErrorRetry:(t,e,r,n,o)=>{const i=r.errorRetryCount,a=o.retryCount,c=~~((Math.random()+.5)*(1<<(a<8?a:8)))*r.errorRetryInterval;!u(i)&&a>i||setTimeout(n,c,o)},onDiscarded:a,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:R?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:R?5e3:3e3,compare:(t,e)=>m(t)==m(e),isPaused:()=>!1,cache:P,mutate:F,fallback:{}},_),U=(t,e)=>{const r=f(t,e);if(e){const{use:n,fallback:o}=t,{use:i,fallback:a}=e;n&&i&&(r.use=n.concat(i)),o&&a&&(r.fallback=f(o,a))}return r},W=(0,n.createContext)({}),G=t=>{const{value:e}=t,r=(0,n.useContext)(W),o=l(e),i=(0,n.useMemo)((()=>o?e(r):e),[o,r,e]),a=(0,n.useMemo)((()=>o?i:U(r,i)),[o,r,i]),s=i&&i.provider,[u]=(0,n.useState)((()=>s?D(s(a.cache||P),i):c));return u&&(a.cache=u[0],a.mutate=u[1]),O((()=>{if(u)return u[2]&&u[2](),u[3]}),[]),(0,n.createElement)(W.Provider,f(t,{value:a}))},J=h&&window.__SWR_DEVTOOLS_USE__,q=J?window.__SWR_DEVTOOLS_USE__:[],$=t=>l(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(null===t[1]?t[2]:t[1])||{}],Y=q.concat((t=>(e,r,n)=>t(e,r&&((...t)=>{const n=C(e)[0],[,,,i]=o.get(P),a=i[n];return a?(delete i[n],a):r(...t)}),n))),H=t=>function(...e){const r=f(A,(0,n.useContext)(W)),[o,i,a]=$(e),c=U(r,a);let s=t;const{use:u}=c,l=(u||[]).concat(Y);for(let t=l.length;t--;)s=l[t](s);return s(o,i||c.fetcher||null,c)},B=(t,e,r)=>{const n=e[t]||(e[t]=[]);return n.push(r),()=>{const t=n.indexOf(r);t>=0&&(n[t]=n[n.length-1],n.pop())}},Z=(t,e)=>(...r)=>{const[n,o,i]=$(r),a=(i.use||[]).concat(e);return t(n,o,{...i,use:a})};J&&(window.__SWR_DEVTOOLS_REACT__=n)},3255:(t,e,r)=>{"use strict";r.d(e,{ZP:()=>c});var n=r(7900),o=r(3100),i=r(4729);const a={dedupe:!0};i.$l.defineProperty(i.J$,"defaultValue",{value:i.u_});var c=(0,i.s6)(((t,e,r)=>{const{cache:c,compare:s,suspense:u,fallbackData:l,revalidateOnMount:f,refreshInterval:d,refreshWhenHidden:h,refreshWhenOffline:p,keepPreviousData:v}=r,[y,g,m]=i.DY.get(c),[w,E]=(0,i.qC)(t),b=(0,n.useRef)(!1),_=(0,n.useRef)(!1),L=(0,n.useRef)(w),x=(0,n.useRef)(e),S=(0,n.useRef)(r),T=()=>S.current,O=()=>T().isVisible()&&T().isOnline(),[k,R,C]=(0,i.JN)(c,w),N=(0,n.useRef)({}).current,j=(0,i.o8)(l)?r.fallback[w]:l,I=(t,e)=>{let r=!0;for(const n in N){const o=n;s(e[o],t[o])||"data"===o&&(0,i.o8)(t[o])&&s(e[o],W)||(r=!1)}return r},V=(0,n.useMemo)((()=>{const t=!!w&&!!e&&((0,i.o8)(f)?!T().isPaused()&&!u:f),r=()=>{const e=k(),r=(0,i.PM)(e);return delete r._k,t?{isValidating:!0,isLoading:!0,...r}:r};let n=r();return()=>{const t=r();return I(t,n)?n:n=t}}),[c,w]),M=(0,o.useSyncExternalStore)((0,n.useCallback)((t=>C(w,((e,r)=>{I(e,r)||t()}))),[c,w]),V,V),D=!b.current,P=M.data,F=(0,i.o8)(P)?j:P,A=M.error,U=(0,n.useRef)(F),W=v?(0,i.o8)(P)?U.current:P:F,G=D&&!(0,i.o8)(f)?f:!T().isPaused()&&(u?!(0,i.o8)(F)&&r.revalidateIfStale:(0,i.o8)(F)||r.revalidateIfStale),J=!!(w&&e&&D&&G),q=(0,i.o8)(M.isValidating)?J:M.isValidating,$=(0,i.o8)(M.isLoading)?J:M.isLoading,Y=(0,n.useCallback)((async t=>{const e=x.current;if(!w||!e||_.current||T().isPaused())return!1;let n,o,a=!0;const c=t||{},u=!m[w]||!c.dedupe,l=()=>i.w6?!_.current&&w===L.current&&b.current:w===L.current,f={isValidating:!1,isLoading:!1},d=()=>{R(f)},h=()=>{const t=m[w];t&&t[1]===o&&delete m[w]},p={isValidating:!0};(0,i.o8)(k().data)&&(p.isLoading=!0);try{if(u&&(R(p),r.loadingTimeout&&(0,i.o8)(k().data)&&setTimeout((()=>{a&&l()&&T().onLoadingSlow(w,r)}),r.loadingTimeout),m[w]=[e(E),(0,i.u3)()]),[n,o]=m[w],n=await n,u&&setTimeout(h,r.dedupingInterval),!m[w]||m[w][1]!==o)return u&&l()&&T().onDiscarded(w),!1;f.error=i.i_;const t=g[w];if(!(0,i.o8)(t)&&(o<=t[0]||o<=t[1]||0===t[1]))return d(),u&&l()&&T().onDiscarded(w),!1;const c=k().data;f.data=s(c,n)?c:n,u&&l()&&T().onSuccess(n,w,r)}catch(t){h();const e=T(),{shouldRetryOnError:r}=e;e.isPaused()||(f.error=t,u&&l()&&(e.onError(t,w,e),(!0===r||(0,i.mf)(r)&&r(t))&&O()&&e.onErrorRetry(t,w,e,Y,{retryCount:(c.retryCount||0)+1,dedupe:!0})))}return a=!1,d(),!0}),[w,c]),H=(0,n.useCallback)(((...t)=>(0,i.BN)(c,L.current,...t)),[]);if((0,i.LI)((()=>{x.current=e,S.current=r,(0,i.o8)(P)||(U.current=P)})),(0,i.LI)((()=>{if(!w)return;const t=Y.bind(i.i_,a);let e=0;const r=(0,i.ko)(w,y,(r=>{if(r==i.sj.FOCUS_EVENT){const r=Date.now();T().revalidateOnFocus&&r>e&&O()&&(e=r+T().focusThrottleInterval,t())}else if(r==i.sj.RECONNECT_EVENT)T().revalidateOnReconnect&&O()&&t();else if(r==i.sj.MUTATE_EVENT)return Y()}));return _.current=!1,L.current=w,b.current=!0,R({_k:E}),G&&((0,i.o8)(F)||i.W6?t():(0,i.kw)(t)),()=>{_.current=!0,r()}}),[w]),(0,i.LI)((()=>{let t;function e(){const e=(0,i.mf)(d)?d(F):d;e&&-1!==t&&(t=setTimeout(r,e))}function r(){k().error||!h&&!T().isVisible()||!p&&!T().isOnline()?e():Y(a).then(e)}return e(),()=>{t&&(clearTimeout(t),t=-1)}}),[d,h,p,w]),(0,n.useDebugValue)(W),u&&(0,i.o8)(F)&&w){if(!i.w6&&i.W6)throw new Error("Fallback data is required when using suspense in SSR.");throw x.current=e,S.current=r,_.current=!1,(0,i.o8)(A)?Y(a):A}return{mutate:H,get data(){return N.data=!0,W},get error(){return N.error=!0,A},get isValidating(){return N.isValidating=!0,q},get isLoading(){return N.isLoading=!0,$}}}))}}]);