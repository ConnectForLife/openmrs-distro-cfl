"use strict";(self.webpackChunk_openmrs_esm_patient_test_results_app=self.webpackChunk_openmrs_esm_patient_test_results_app||[]).push([[597],{5616:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(9601),a=r.n(n),l=r(2609),o=r.n(l)()(a());o.push([e.id,".-esm-patient-test-results__external-overview-component__recent-results-grid___b7Ukd{display:grid;background-color:#fff}",""]),o.locals={"recent-results-grid":"-esm-patient-test-results__external-overview-component__recent-results-grid___b7Ukd"};const s=o},6597:(e,t,r)=>{r.r(t),r.d(t,{default:()=>M});var n=r(9902),a=r.n(n),l=r(4924),o=r(321),s=r.n(o),i=r(1195),c=r.n(i),u=r(3275),d=r.n(u),m=r(7162),f=r.n(m),p=r(2094),v=r.n(p),h=r(757),g=r.n(h),y=r(5616),_={};_.styleTagTransform=g(),_.setAttributes=f(),_.insert=d().bind(null,"head"),_.domAPI=c(),_.insertStyleElement=v(),s()(y.Z,_);const b=y.Z&&y.Z.locals?y.Z.locals:void 0;var w,E=r(3771),k=r(2579),S=r(9894),T=r(4116),A=r(3066),Z=r(7030),C=r(8580),x=r(5495),D=["children"],O=a().forwardRef((function(e,t){var r=e.children,n=(0,x._)(e,D);return a().createElement(x.I,(0,x.a)({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",ref:t},n),w||(w=a().createElement("path",{d:"M9.3 3.7L13.1 7.5 1 7.5 1 8.5 13.1 8.5 9.3 12.3 10 13 15 8 10 3z"})),r)}));function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j.apply(this,arguments)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const M=function(e){var t=e.patientUuid,r=e.filter,o=(0,l.useTranslation)().t,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},r=(0,S.Z)(e),a=r.sortedObs,l=r.loaded,o=r.error,s=(0,n.useMemo)((function(){return Object.entries(a).flatMap((function(e){var t=I(e,2),r=t[0],n=t[1],a=n.entries,l=n.type,o=n.uuid;return a.map((function(e){return[e,o,l,r]}))})).filter(t).map((function(e){var t=I(e,4),r=t[0],n=t[1],a=t[2],l=t[3];return[l,a,(0,k.q)(r,a,l),new Date(r.effectiveDateTime),new Date(r.issued),n]})).sort((function(e,t){var r=I(e,4)[3];return I(t,4)[3].getTime()-r.getTime()}))}),[t,a]);return{overviewData:s,loaded:l,error:o}}(t,r),i=s.overviewData,c=s.loaded,u=(s.error,o("recentResults","Recent Results")),d=(0,n.useCallback)((function(){(0,A.navigate)({to:"${openmrsSpaBase}/patient/".concat(t,"/chart/test-results")})}),[t]);return a().createElement(U,null,c?a().createElement(a().Fragment,null,i.length?a().createElement("div",{className:b.widgetCard},a().createElement("div",{className:b.externalOverviewHeader},a().createElement("h4",{className:"".concat(b.productiveHeading03," ").concat(b.text02)},u),a().createElement(Z.Z,{kind:"ghost",renderIcon:O,iconDescription:"See all results",onClick:d},o("seeAllResults","See all results"))),a().createElement(T.Z,j({},{patientUuid:t,overviewData:i.slice(0,3),insertSeparator:!0,deactivateToolbar:!0,isPatientSummaryDashboard:!1,hideToolbar:!0})),i.length>3&&a().createElement(Z.Z,{onClick:d,kind:"ghost"},o("moreResultsAvailable","More results available"))):a().createElement(E.EmptyState,{headerTitle:u,displayText:o("recentTestResults","recent test results")})):a().createElement(C.Z,{columnCount:3}))};var U=function(e){return a().createElement("div",j({},e,{className:b["recent-results-grid"]}))}}}]);