"use strict";(self.webpackChunk_openmrs_esm_patient_test_results_app=self.webpackChunk_openmrs_esm_patient_test_results_app||[]).push([[640],{4793:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(321),i=n.n(r),a=n(1195),l=n.n(a),s=n(3275),o=n.n(s),c=n(7162),_=n.n(c),u=n(2094),m=n.n(u),f=n(757),p=n.n(f),d=n(2596),g={};g.styleTagTransform=p(),g.setAttributes=_(),g.insert=o().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=m(),i()(d.Z,g);const h=d.Z&&d.Z.locals?d.Z.locals:void 0},2596:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(9601),i=n.n(r),a=n(2609),l=n.n(a)()(i());l.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{padding:0;border:0;margin:0;font:inherit;font-size:100%;vertical-align:baseline}button,select,input,textarea{border-radius:0;font-family:inherit}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:""}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:\'IBM Plex Sans\', \'Helvetica Neue\', Arial, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}code{font-family:\'IBM Plex Mono\', \'Menlo\', \'DejaVu Sans Mono\', \'Bitstream Vera Sans Mono\', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-patient-test-results__timeline__skeleton___jMZ61{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{opacity:.3;transform:scaleX(0);transform-origin:left}}.-esm-patient-test-results__timeline__grid___BRyg2{width:fit-content;background-color:#c6c6c6;display:grid;grid-auto-rows:auto;gap:1px;justify-items:center;align-items:center}.-esm-patient-test-results__timeline__day-column___RVErU,.-esm-patient-test-results__timeline__year-column___bdJfV{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;color:#525252}.-esm-patient-test-results__timeline__time-column___Mv4Ai{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px;color:#525252;scroll-snap-align:start}.-esm-patient-test-results__timeline__padded-main___yNKuV{box-sizing:border-box;padding:20px}.-esm-patient-test-results__timeline__timeline-cell___cJscM,.-esm-patient-test-results__timeline__row-start-cell___nmNLP,.-esm-patient-test-results__timeline__timeline-data-cell___uMfVI{background-color:#fff;width:100%;height:100%;display:grid;justify-items:center;align-items:center;padding:.5rem}.-esm-patient-test-results__timeline__timeline-data-cell___uMfVI{justify-items:first baseline}.-esm-patient-test-results__timeline__timeline-data-cell___uMfVI p{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px;color:#525252}.-esm-patient-test-results__timeline__row-start-cell___nmNLP{position:sticky;left:0;display:grid;grid-auto-flow:row;gap:.5px;justify-items:baseline;align-items:center;padding:1rem}.-esm-patient-test-results__timeline__timeline-cell-zebra___v6HWu{background-color:#e0e0e0}.-esm-patient-test-results__timeline__padding-container___Snh31{padding:0px 0 0 0;box-sizing:border-box;display:grid;grid-auto-flow:row;column-gap:1px;row-gap:0px;background-color:#c6c6c6;grid-template:auto auto/9em auto;border-collapse:collapse}.-esm-patient-test-results__timeline__padding-container___Snh31::-webkit-scrollbar{display:none}.-esm-patient-test-results__timeline__time-slot-inner___qxQX1{background-color:#e0e0e0;padding:3px 10px;justify-self:stretch;align-self:stretch;display:grid;align-items:center}.-esm-patient-test-results__timeline__time-slot-inner___qxQX1 div{position:sticky;left:calc(10em + 10px);width:max-content}.-esm-patient-test-results__timeline__corner-grid-element___fuQqr{grid-row:span 1;position:sticky;left:0px;top:0px;z-index:3;padding:0rem 1rem}.-esm-patient-test-results__timeline__corner-grid-element___fuQqr div{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;color:#161616;left:0}.-esm-patient-test-results__timeline__shadow___UpYxn{box-shadow:8px 0 20px 0 rgba(0,0,0,.15)}.-esm-patient-test-results__timeline__trendline-link___sFdir{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px;color:#0f62fe;cursor:pointer}.-esm-patient-test-results__timeline__range-units___esfEU{font-size:.75rem;line-height:1.34;letter-spacing:.32px;color:#6f6f6f}.-esm-patient-test-results__timeline__off-scale-high___axz64 p,.-esm-patient-test-results__timeline__off-scale-low___aUyql p,.-esm-patient-test-results__timeline__critically-high___fVjTh p,.-esm-patient-test-results__timeline__critically-low___wiByl p,.-esm-patient-test-results__timeline__high___WORyq p,.-esm-patient-test-results__timeline__low___s9CLH p{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;color:#161616}.-esm-patient-test-results__timeline__high___WORyq,.-esm-patient-test-results__timeline__low___s9CLH{box-shadow:0 0 0 1px #000}.-esm-patient-test-results__timeline__critically-high___fVjTh,.-esm-patient-test-results__timeline__critically-low___wiByl{box-shadow:0 0 0 1px #da1e28,inset 0 0 0 1px #da1e28}.-esm-patient-test-results__timeline__off-scale-low___aUyql p::after{content:" ↓↓↓"}.-esm-patient-test-results__timeline__off-scale-high___axz64 p::after{content:" ↑↑↑"}.-esm-patient-test-results__timeline__critically-low___wiByl p::after{content:" ↓↓"}.-esm-patient-test-results__timeline__critically-high___fVjTh p::after{content:" ↑↑"}.-esm-patient-test-results__timeline__low___s9CLH p::after{content:" ↓"}.-esm-patient-test-results__timeline__high___WORyq p::after{content:" ↑"}.-esm-patient-test-results__timeline__shadow-box___nTblF{grid-row:2/-1;grid-column:1/2}.-esm-patient-test-results__timeline__recent-results-grid___SvUFi{display:grid;background-color:#fff;overflow:auto;max-height:calc(100vh - 9rem)}.-esm-patient-test-results__timeline__recent-results-grid___SvUFi::-webkit-scrollbar{display:none}',""]),l.locals={grid:"-esm-patient-test-results__timeline__grid___BRyg2","day-column":"-esm-patient-test-results__timeline__day-column___RVErU","year-column":"-esm-patient-test-results__timeline__year-column___bdJfV","time-column":"-esm-patient-test-results__timeline__time-column___Mv4Ai","padded-main":"-esm-patient-test-results__timeline__padded-main___yNKuV","timeline-cell":"-esm-patient-test-results__timeline__timeline-cell___cJscM","row-start-cell":"-esm-patient-test-results__timeline__row-start-cell___nmNLP","timeline-data-cell":"-esm-patient-test-results__timeline__timeline-data-cell___uMfVI","timeline-cell-zebra":"-esm-patient-test-results__timeline__timeline-cell-zebra___v6HWu","padding-container":"-esm-patient-test-results__timeline__padding-container___Snh31","time-slot-inner":"-esm-patient-test-results__timeline__time-slot-inner___qxQX1","corner-grid-element":"-esm-patient-test-results__timeline__corner-grid-element___fuQqr",shadow:"-esm-patient-test-results__timeline__shadow___UpYxn","trendline-link":"-esm-patient-test-results__timeline__trendline-link___sFdir","range-units":"-esm-patient-test-results__timeline__range-units___esfEU","off-scale-high":"-esm-patient-test-results__timeline__off-scale-high___axz64","off-scale-low":"-esm-patient-test-results__timeline__off-scale-low___aUyql","critically-high":"-esm-patient-test-results__timeline__critically-high___fVjTh","critically-low":"-esm-patient-test-results__timeline__critically-low___wiByl",high:"-esm-patient-test-results__timeline__high___WORyq",low:"-esm-patient-test-results__timeline__low___s9CLH","shadow-box":"-esm-patient-test-results__timeline__shadow-box___nTblF","recent-results-grid":"-esm-patient-test-results__timeline__recent-results-grid___SvUFi",skeleton:"-esm-patient-test-results__timeline__skeleton___jMZ61"};const s=l},5190:(e,t,n)=>{n.d(t,{Es:()=>o,Hw:()=>_,VV:()=>c,wJ:()=>u,x2:()=>s});var r=n(3066),i=n(5784);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=!1,r=!1,i=null,a=function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];n?(r=!0,i=o):(n=!0,setTimeout((function(){n=!1,r&&(r=!1,a.apply(void 0,l(i)))}),t),e.apply(void 0,l(o)))};return a},o=function(e,t){return(0,r.navigate)({to:"".concat(u(e),"/timeline/").concat(t)})},c=function(e,t,n){return(0,r.navigate)({to:"".concat(u(e),"/trendline/").concat(t,"/").concat(n)})},_=function(e){return(0,r.navigate)({to:"".concat(u(e))})},u=function(e){return"".concat(window.spaBase).concat(e,"/").concat(i.V.title)}},2233:(e,t,n)=>{n.d(t,{Hx:()=>d,J3:()=>m,Ps:()=>g,Tz:()=>_,cJ:()=>p,rj:()=>c});var r=n(9902),i=n(4793);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e){var t,n,a=e.dataColumns,c=e.style,_=void 0===c?{}:c,u=e.padding,m=void 0!==u&&u,f=o(e,["dataColumns","style","padding"]);return r.createElement("div",l({style:(t=s({},_),n={gridTemplateColumns:"".concat(m?"9em ":""," repeat(").concat(a,", 5em)"),margin:"1px"},n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t),className:i.Z.grid},f))},_=r.forwardRef((function(e,t){return r.createElement("div",l({ref:t,className:i.Z["padding-container"]},e))})),u=function(e){var t=e.className,n=o(e,["className"]);return r.createElement("div",l({className:i.Z["time-slot-inner"]+(t?" "+t:"")},n))},m=function(){return r.createElement("div",{className:i.Z["shadow-box"]})},f=function(e){var t,n=e.text,a=e.interpretation,l=void 0===a?"NORMAL":a,s=e.zebra;switch(l){case"OFF_SCALE_HIGH":t=i.Z["off-scale-high"];break;case"CRITICALLY_HIGH":t=i.Z["critically-high"];break;case"HIGH":t=i.Z.high;break;case"OFF_SCALE_LOW":t=i.Z["off-scale-low"];break;case"CRITICALLY_LOW":t=i.Z["critically-low"];break;case"LOW":t=i.Z.low;break;default:t=""}return r.createElement("div",{className:"".concat(i.Z["timeline-data-cell"]," ").concat(s?i.Z["timeline-cell-zebra"]:""," ").concat(t)},r.createElement("p",null,n))},p=function(e){var t=e.title,n=e.range,a=e.units,l=e.shadow,s=void 0!==l&&l,o=e.openTrendline;return r.createElement("div",{className:i.Z["row-start-cell"],style:{boxShadow:s?"8px 0 20px 0 rgba(0,0,0,0.15)":void 0}},r.createElement("span",{className:i.Z["trendline-link"],onClick:o,role:"link",tabIndex:0},t),r.createElement("span",{className:i.Z["range-units"]},n," ",a))},d=function(e){var t=e.children,n=void 0===t?void 0:t,i=o(e,["children"]);return r.createElement(u,l({},i),r.createElement("div",null,n))},g=r.memo((function(e){var t=e.sortedTimes,n=e.obs,i=e.zebra;return r.createElement(r.Fragment,null,t.map((function(e,t){if(!n[t])return r.createElement(f,{key:t,text:"--",zebra:i});var a=n[t].meta.assessValue(n[t].value);return r.createElement(f,{key:t,text:n[t].value,interpretation:a,zebra:i})})))}))},9640:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(9902),i=n.n(r),a=n(182),l=n(5190);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],l=!0,s=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){s=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=n(2323),_=n(2233),u=n(3771),m=n(4793);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],l=!0,s=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){s=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(e){return i().createElement("div",p({},e,{className:m.Z["recent-results-grid"]}))},h=function(e){var t=e.showShadow,n=e.panelName;return i().createElement(_.Hx,{className:"".concat(m.Z["corner-grid-element"]," ").concat(t?"".concat(m.Z.shadow):"")},n)},y=function(e){var t=e.timeColumns,n=e.yearColumns,r=e.dayColumns,a=e.showShadow;return i().createElement(_.rj,{dataColumns:t.length,style:{gridTemplateRows:"repeat(3, 24px)",position:"sticky",top:"0px",zIndex:2,boxShadow:a?"8px 0 20px 0 rgba(0,0,0,0.15)":void 0}},n.map((function(e){var t=e.year,n=e.size;return i().createElement(_.Hx,{key:t,className:m.Z["year-column"],style:{gridColumn:"".concat(n," span")}},t)})),r.map((function(e){var t=e.day,n=e.year,r=e.size;return i().createElement(_.Hx,{key:"".concat(t," - ").concat(n),className:m.Z["day-column"],style:{gridColumn:"".concat(r," span")}},t)})),t.map((function(e,t){return i().createElement(_.Hx,{key:e+t,className:m.Z["time-column"]},e)})))},b=function(e){var t=e.timeColumns,n=e.rowData,r=e.sortedTimes,a=e.showShadow,l=e.openTrendline;return i().createElement(_.rj,{dataColumns:t.length,padding:!0,style:{gridColumn:"span 2"}},Object.entries(n).map((function(e,t){var n=d(e,2),s=n[0],o=n[1],c=o.find((function(e){return!!e})),u=c.meta,m=u.units,f=void 0===m?"":m,g=u.range,h=void 0===g?"":g,y=c.conceptClass;return i().createElement(i().Fragment,{key:y},i().createElement(_.cJ,p({},{units:f,range:h,title:s,shadow:a,openTrendline:function(){return l(y)}})),i().createElement(_.Ps,p({},{sortedTimes:r,obs:o,zebra:!!(t%2)})))})))};const v=function(e){var t=e.patientUuid,n=e.panelUuid,s=e.openTrendline,m=d(function(e,t){var n=o(r.useState(!1),2),i=n[0],a=n[1],s=o(r.useState(!1),2),c=s[0],_=s[1];return[i,c,r.useCallback((function(n){if(n){var r=(0,l.x2)((function(){a(n.scrollLeft>e),_(n.scrollTop>t)}),200);return n.addEventListener("scroll",r),function(){return n.removeEventListener("scroll",r)}}}),[e,t])]}(0,32),3),f=m[0],v=m[1],w=m[2],x=(0,c.O)(t,n),O=x.data,E=O.parsedTime,j=E.yearColumns,S=E.dayColumns,k=E.timeColumns,T=E.sortedTimes,z=O.rowData,C=O.panelName,A=x.loaded,I=i().useCallback((function(e){return s(n,e)}),[n,s]);return A?j&&S&&k?i().createElement(g,null,i().createElement(_.Tz,{ref:w},i().createElement(h,{showShadow:f,panelName:C}),i().createElement(y,p({},{timeColumns:k,yearColumns:j,dayColumns:S,showShadow:v})),i().createElement(b,p({},{timeColumns:k,rowData:z,sortedTimes:T,showShadow:f,panelUuid:n,openTrendline:I})),i().createElement(_.J3,null))):i().createElement(u.EmptyState,{displayText:"timeline data",headerTitle:"Data Timeline"}):i().createElement(g,null,i().createElement(a.Z,{description:"Loading"}))}},2323:(e,t,n)=>{n.d(t,{O:()=>u,T:()=>_});var r=n(9902),i=n(9894),a=n(3066);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],l=!0,s=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){s=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}var _=function(e){var t=[],n=[],r=[];return e.forEach((function(e){var i=(0,a.parseDate)(e),l=i.getFullYear().toString(),s=(0,a.formatDate)(i,{mode:"wide",year:!1}),o=(0,a.formatTime)(i),c=t.find((function(e){var t=e.year;return l===t}));c?c.size++:t.push({year:l,size:1});var _=n.find((function(e){var t=e.year,n=e.day;return s===n&&l===t}));_?_.size++:n.push({day:s,year:l,size:1}),r.push(o)})),{yearColumns:t,dayColumns:n,timeColumns:r,sortedTimes:e}},u=function(e,t){var n=(0,i.Z)(e),a=n.sortedObs,l=n.loaded,c=n.error,u=(0,r.useMemo)((function(){if(!a||!l||c)return{data:{parsedTime:{}},loaded:l,error:c};var e=s(Object.entries(a).find((function(e){return s(e,2)[1].uuid===t}))||[],2),n=e[0],r=e[1];if(!r)return{data:{parsedTime:{}},loaded:l,error:new Error("panel data missing")};var i=r.entries,u=i.map((function(e){return e.effectiveDateTime})),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n={};return"LabSet"===t?e.forEach((function(e,t){e.members.forEach((function(e){var r=e.name;(n[r]||(n[r]=[]))[t]=e}))})):"Test"===t&&e.forEach((function(e,t){var r=e.name;(n[r]||(n[r]=[]))[t]=e})),Object.entries(n).forEach((function(e){var t=s(e,2),r=t[0],i=t[1];return n[r]=o(i)})),n}(i,r.type);return{data:{parsedTime:_(u),rowData:m,panelName:n},loaded:!0}}),[a,l,c,t]);return u}}}]);