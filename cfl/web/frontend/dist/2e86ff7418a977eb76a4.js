"use strict";(self.webpackChunkopenmrs=self.webpackChunkopenmrs||[]).push([[354],{5354:(e,t,r)=>{r.r(t),r.d(t,{Breadcrumbs:()=>J,CustomBreadcrumbItem:()=>H,default:()=>K});var n=r(2227),a=r.n(n),c=r(8814),o=r.n(c),l=r(1571),s=r.n(l),u=r(3703),f=r(2238);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=u.settings.prefix,d=a().forwardRef((function(e,t){var r,n=e["aria-current"],i=e.children,c=e.className,o=e.href,l=e.isCurrentPage,u=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["aria-current","children","className","href","isCurrentPage"]),d=s()((m(r={},"".concat(b,"--breadcrumb-item"),!0),m(r,"".concat(b,"--breadcrumb-item--current"),l&&"page"!==n),m(r,c,!!c),r));return"string"==typeof i&&o?a().createElement("li",p({className:d,ref:t},u),a().createElement(f.Z,{href:o,"aria-current":n},i)):a().createElement("li",p({className:d,ref:t},u),a().cloneElement(i,{"aria-current":n,className:"".concat(b,"--link")}))}));d.displayName="BreadcrumbItem",d.propTypes={"aria-current":o().oneOfType([o().string,o().bool]),children:o().node,className:o().string,href:o().string,isCurrentPage:o().bool};const y=d;var v=r(8331),g=r(9780),O=r(9192);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w,E=u.settings.prefix,P=(w=0,function(){return++w});function N(e){var t,r,i=e.id,c=e.active,o=e.className,l=e.withOverlay,u=e.small,f=e.description,p=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["id","active","className","withOverlay","small","description"]),m=(0,n.useRef)(P()).current,b=s()(o,(j(t={},"".concat(E,"--loading"),!0),j(t,"".concat(E,"--loading--small"),u),j(t,"".concat(E,"--loading--stop"),!c),t)),d=s()((j(r={},"".concat(E,"--loading-overlay"),!0),j(r,"".concat(E,"--loading-overlay--stop"),!c),r)),y=i||"loading-id-".concat(m),v=u?"42":"44",g=a().createElement("div",h({},p,{"aria-atomic":"true","aria-labelledby":y,"aria-live":c?"assertive":"off",className:b}),a().createElement("label",{id:y,className:"".concat(E,"--visually-hidden")},f),a().createElement("svg",{className:"".concat(E,"--loading__svg"),viewBox:"0 0 100 100"},a().createElement("title",null,f),u?a().createElement("circle",{className:"".concat(E,"--loading__background"),cx:"50%",cy:"50%",r:v}):null,a().createElement("circle",{className:"".concat(E,"--loading__stroke"),cx:"50%",cy:"50%",r:v})));return l?a().createElement("div",{className:d},g):g}N.propTypes={active:o().bool,className:o().string,description:o().string,id:o().string,small:o().bool,withOverlay:o().bool},N.defaultProps={active:!0,withOverlay:!0,small:!1,description:"Active loading indicator"};const S=N;function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(this,arguments)}var k=u.settings.prefix;function _(e){var t=e.className,r=e.success,n=e.status,i=void 0===n?r?"finished":"active":n,c=e.iconDescription,o=e.description,l=e.onSuccess,u=e.successDelay,f=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["className","success","status","iconDescription","description","onSuccess","successDelay"]),p=s()("".concat(k,"--inline-loading"),t),m=a().createElement("div",{className:"".concat(k,"--inline-loading__text")},o),b="error"===i?a().createElement(v.ycZ,{className:"".concat(k,"--inline-loading--error")}):"finished"===i?(setTimeout((function(){l&&l()}),u),a().createElement(g.Y3p,{className:"".concat(k,"--inline-loading__checkmark-container")})):"inactive"===i||"active"===i?a().createElement(S,{small:!0,description:c,withOverlay:!1,active:"active"===i}):void 0,d=b&&a().createElement("div",{className:"".concat(k,"--inline-loading__animation")},b);return a().createElement("div",x({className:p},f,{"aria-live":"assertive"}),d,o&&m)}function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I.apply(this,arguments)}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}_.propTypes={className:o().string,description:o().node,iconDescription:o().string,onSuccess:o().func,status:o().oneOf(["inactive","active","finished","error"]),success:(0,O.Z)(o().bool,'\nThe prop `success` for InlineLoading has been deprecated in favor of `status`. Please use `status="finished"` instead.'),successDelay:o().number},_.defaultProps={successDelay:1500};var A=u.settings.prefix,D=a().forwardRef((function(e,t){var r,n=e["aria-label"],i=e.children,c=e.className,o=e.noTrailingSlash,l=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["aria-label","children","className","noTrailingSlash"]),u=s()((T(r={},"".concat(A,"--breadcrumb"),!0),T(r,"".concat(A,"--breadcrumb--no-trailing-slash"),o),r));return a().createElement("nav",I({className:c,"aria-label":n||"Breadcrumb",ref:t},l),a().createElement("ol",{className:u},i))}));D.displayName="Breadcrumb",D.propTypes={"aria-label":o().string,children:o().node,className:o().string,noTrailingSlash:o().bool};const C=D;var B=r(8454);function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L(e){if(Array.isArray(e))return e}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function F(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Z(e,t,r[t])}))}return e}function U(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Y(e,t){return L(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],c=!0,o=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);c=!0);}catch(e){o=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(o)throw a}}return i}}(e,t)||$(e,t)||F()}function $(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}function q(e,t){var r,n,a=function(e){if(Array.isArray(e))return R(e)}(n=t)||z(n)||$(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return e.replace(/:([A-Za-z0-9_]+)/g,(function(e){return null!==(r=a.shift())&&void 0!==r?r:e}))}function G(e,t){var r=null==t?void 0:t.exec(e);if(r)return(L(n=r)||z(n)||$(n,i)||F()).slice(1);var n,a=e.split("/");return a.pop(),a.length>1?G(a.join("/"),t):[]}var H=function(e){var t=e.breadcrumbRegistration,r=e.params,i=Y((0,n.useState)(""),2),c=i[0],o=i[1];return(0,n.useEffect)((function(){"function"==typeof t.settings.title?Promise.resolve(t.settings.title(r)).then((function(e){return o(e)})):o(t.settings.title)}),[t,r]),a().createElement(y,{key:t.settings.path},a().createElement(B.ConfigurableLink,{to:q(t.settings.path,r)},c||a().createElement(_,null)))},J=function(){var e=Y((0,n.useState)(location.pathname),2),t=e[0],r=e[1],i=(0,B.getBreadcrumbsFor)(t),c=i[i.length-1],o=G(t,null==c?void 0:c.matcher);return(0,n.useEffect)((function(){var e=function(){return r(location.pathname)};return window.addEventListener("popstate",e),function(){return window.removeEventListener("popstate",e)}}),[]),i.length>4&&i.splice(1,i.length-3,U(M({},i[1]),{settings:U(M({},i[1].settings),{title:"..."})})),a().createElement(C,{className:"breadcrumbs-container"},i.map((function(e){return a().createElement(H,{breadcrumbRegistration:e,params:o})})))};const K=J}}]);