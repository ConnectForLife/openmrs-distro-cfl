"use strict";(globalThis.webpackChunk_openmrs_esm_patient_allergies_app=globalThis.webpackChunk_openmrs_esm_patient_allergies_app||[]).push([[729],{910:(e,t,n)=>{n.d(t,{Z:()=>o});var l=n(272),r=n.n(l),a=n(2609),i=n.n(a)()(r());i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-allergies__allergies-tile__label___dMfkW{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252}.-esm-patient-allergies__allergies-tile__content____n5Gu{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:5px}.-esm-patient-allergies__allergies-tile__value___qWVfJ{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/allergies/allergies-tile.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCpDF,uDCu0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDr0BF,aAAA,CAGF,yDCk0BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDh0BF,aDLQ,CCMR,cAAA,CAGF,uDC4zBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA",sourceRoot:""}]),i.locals={label:"-esm-patient-allergies__allergies-tile__label___dMfkW",content:"-esm-patient-allergies__allergies-tile__content____n5Gu",value:"-esm-patient-allergies__allergies-tile__value___qWVfJ"};const o=i},6729:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var l=n(7900),r=n.n(l),a=n(4924),i=n(3520),o=n(6705),c=n(1354),s=n.n(c),d=n(1583),u=n.n(d),f=n(7378),A=n.n(f),v=n(5993),p=n.n(v),g=n(4154),m=n.n(g),_=n(8141),b=n.n(_),y=n(910),h={};h.styleTagTransform=b(),h.setAttributes=p(),h.insert=A().bind(null,"head"),h.domAPI=u(),h.insertStyleElement=m(),s()(y.Z,h);const Z=y.Z&&y.Z.locals?y.Z.locals:void 0,C=function(e){var t=e.patientUuid,n=(0,a.useTranslation)().t,l=(0,o.PI)(t),c=l.allergies;return l.isLoading?r().createElement(i.lSo,{role:"progressbar",description:"".concat(n("loading","Loading")," ...")}):(null==c?void 0:c.length)?r().createElement("div",null,r().createElement("p",{className:Z.label},n("allergies","Allergies")),r().createElement("p",{className:Z.content},r().createElement("span",{className:Z.value},null==c?void 0:c.map((function(e){return null==e?void 0:e.display})).join(", ")))):r().createElement("div",null,r().createElement("p",{className:Z.label},n("allergies","Allergies")),r().createElement("p",{className:Z.content},"--"))}},6705:(e,t,n)=>{n.d(t,{PI:()=>i});var l=n(3255),r=n(3315),a=n(2870);function i(e){var t,n="".concat(a.fhirBaseUrl,"/AllergyIntolerance?patient=").concat(e),r=(0,l.ZP)(e?n:null,a.openmrsFetch),i=r.data,c=r.error,s=r.isLoading,d=r.isValidating,u=r.mutate,f=(null==i||null===(t=i.data)||void 0===t?void 0:t.total)>0?null==i?void 0:i.data.entry.map((function(e){var t;return null!==(t=e.resource)&&void 0!==t?t:[]})).map(o).sort((function(e,t){return t.lastUpdated>e.lastUpdated?1:-1})):null;return{allergies:i?f:null,isError:c,isLoading:s,isValidating:d,mutate:u}}function o(e){var t,n,l,a,i,o,c,s,d,u,f,A,v,p,g,m=null==e||null===(n=e.reaction[0])||void 0===n||null===(t=n.manifestation)||void 0===t?void 0:t.map((function(e){var t;return null===(t=e.coding[0])||void 0===t?void 0:t.display}));return{id:null==e?void 0:e.id,clinicalStatus:null==e||null===(a=e.clinicalStatus)||void 0===a||null===(l=a.coding[0])||void 0===l?void 0:l.display,criticality:null==e?void 0:e.criticality,display:null==e||null===(o=e.code)||void 0===o||null===(i=o.coding[0])||void 0===i?void 0:i.display,recordedDate:null==e?void 0:e.recordedDate,recordedBy:null==e||null===(c=e.recorder)||void 0===c?void 0:c.display,recorderType:null==e||null===(s=e.recorder)||void 0===s?void 0:s.type,note:null==e||null===(u=e.note)||void 0===u||null===(d=u[0])||void 0===d?void 0:d.text,reactionToSubstance:null==e||null===(v=e.reaction[0])||void 0===v||null===(A=v.substance)||void 0===A||null===(f=A.coding[1])||void 0===f?void 0:f.display,reactionManifestations:m,reactionSeverity:(0,r.Z)(null==e||null===(p=e.reaction[0])||void 0===p?void 0:p.severity),lastUpdated:null==e||null===(g=e.meta)||void 0===g?void 0:g.lastUpdated}}},187:(e,t,n)=>{n.d(t,{Z:()=>l});const l=n(3221).Z.Symbol},8147:(e,t,n)=>{n.d(t,{Z:()=>d});var l=n(187),r=Object.prototype,a=r.hasOwnProperty,i=r.toString,o=l.Z?l.Z.toStringTag:void 0;var c=Object.prototype.toString;var s=l.Z?l.Z.toStringTag:void 0;const d=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?function(e){var t=a.call(e,o),n=e[o];try{e[o]=void 0;var l=!0}catch(e){}var r=i.call(e);return l&&(t?e[o]=n:delete e[o]),r}(e):function(e){return c.call(e)}(e)}},2168:(e,t,n)=>{n.d(t,{Z:()=>l});const l="object"==typeof global&&global&&global.Object===Object&&global},3221:(e,t,n)=>{n.d(t,{Z:()=>a});var l=n(2168),r="object"==typeof self&&self&&self.Object===Object&&self;const a=l.Z||r||Function("return this")()},3315:(e,t,n)=>{n.d(t,{Z:()=>b});var l=n(4020);const r=function(e,t,n){var l=e.length;return n=void 0===n?l:n,!t&&n>=l?e:function(e,t,n){var l=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(r);++l<r;)a[l]=e[l+t];return a}(e,t,n)};var a=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const i=function(e){return a.test(e)};var o="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",c="\\ud83c[\\udffb-\\udfff]",s="[^\\ud800-\\udfff]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",f="(?:"+o+"|"+c+")?",A="[\\ufe0e\\ufe0f]?",v=A+f+"(?:\\u200d(?:"+[s,d,u].join("|")+")"+A+f+")*",p="(?:"+[s+o+"?",o,d,u,"[\\ud800-\\udfff]"].join("|")+")",g=RegExp(c+"(?="+c+")|"+p+v,"g");const m=function(e){return i(e)?function(e){return e.match(g)||[]}(e):function(e){return e.split("")}(e)},_=function(e){e=(0,l.Z)(e);var t=i(e)?m(e):void 0,n=t?t[0]:e.charAt(0),a=t?r(t,1).join(""):e.slice(1);return n.toUpperCase()+a},b=function(e){return _((0,l.Z)(e).toLowerCase())}},7885:(e,t,n)=>{n.d(t,{Z:()=>l});const l=Array.isArray},3391:(e,t,n)=>{n.d(t,{Z:()=>l});const l=function(e){return null!=e&&"object"==typeof e}},2758:(e,t,n)=>{n.d(t,{Z:()=>a});var l=n(8147),r=n(3391);const a=function(e){return"symbol"==typeof e||(0,r.Z)(e)&&"[object Symbol]"==(0,l.Z)(e)}},4020:(e,t,n)=>{n.d(t,{Z:()=>s});var l=n(187);var r=n(7885),a=n(2758),i=l.Z?l.Z.prototype:void 0,o=i?i.toString:void 0;const c=function e(t){if("string"==typeof t)return t;if((0,r.Z)(t))return function(e,t){for(var n=-1,l=null==e?0:e.length,r=Array(l);++n<l;)r[n]=t(e[n],n,e);return r}(t,e)+"";if((0,a.Z)(t))return o?o.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},s=function(e){return null==e?"":c(e)}}}]);