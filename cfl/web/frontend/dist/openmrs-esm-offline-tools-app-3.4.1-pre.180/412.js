"use strict";(self.webpackChunk_openmrs_esm_offline_tools_app=self.webpackChunk_openmrs_esm_offline_tools_app||[]).push([[412],{8627:(n,t,e)=>{e.d(t,{a:()=>s,u:()=>d});var r=e(1602),o=e.n(r),i=e(8478),a=e(9351),u=e(9136);function l(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function c(n,t,e,r,o,i,a){try{var u=n[i](a),l=u.value}catch(n){return void e(n)}u.done?t(l):Promise.resolve(l).then(r,o)}function f(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(n){c(i,r,o,a,u,"next",n)}function u(n){c(i,r,o,a,u,"throw",n)}a(void 0)}))}}function s(){return(0,u.ZP)("offlineActions/pending",(function(){return(0,i.getFullSynchronizationItems)()}))}function d(n){var t=n?(0,a.Z)(n.map((function(n){var t;return null==n||null===(t=n.descriptor)||void 0===t?void 0:t.patientUuid})).filter(Boolean)):null;return(0,u.ZP)((function(){return["patients"].concat(function(n){if(Array.isArray(n))return l(n)}(n=t)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,t){if(n){if("string"==typeof n)return l(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(n,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var n}),(function(){return Promise.all(t.map((function(n){return function(n){return p.apply(this,arguments)}(n)})))}))}function p(){return(p=f(o().mark((function n(t){var e,r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,i.getSynchronizationItems)("patient-registration");case 3:if(r=n.sent,null==(a=null===(e=r.find((function(n){var e;return(null===(e=n.fhirPatient)||void 0===e?void 0:e.id)===t})))||void 0===e?void 0:e.fhirPatient)){n.next=9;break}n.t0=a,n.next=12;break;case 9:return n.next=11,(0,i.fetchCurrentPatient)(t).then((function(n){return n.data}));case 11:n.t0=n.sent;case 12:return n.abrupt("return",n.t0);case 13:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},6412:(n,t,e)=>{e.r(t),e.d(t,{default:()=>f});var r=e(6983),o=e.n(r),i=e(2680),a=e(8627),u=e(1217),l=e(4697),c=e(9687);const f=function(){var n=(0,i.useTranslation)().t,t=(0,a.a)().data;return o().createElement(c.Z,{header:n("homeOverviewCardOfflineActionsHeader","Offline actions"),viewLink:u._.offlineToolsActions},o().createElement(l.Z,{header:n("homeOverviewCardOfflineActionsFailedToUpload","Failed to upload"),isLoading:!t,content:o().createElement(o().Fragment,null,null==t?void 0:t.filter((function(n){return n.lastError})).length)}),o().createElement(l.Z,{header:n("homeOverviewCardOfflineActionsPendingUpload","Pending upload"),isLoading:!t,content:o().createElement(o().Fragment,null,null==t?void 0:t.length)}))}}}]);