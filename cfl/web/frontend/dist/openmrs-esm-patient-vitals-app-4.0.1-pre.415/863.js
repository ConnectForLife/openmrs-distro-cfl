(self.webpackChunk_openmrs_esm_patient_vitals_app=self.webpackChunk_openmrs_esm_patient_vitals_app||[]).push([[863],{3528:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var i=a(9601),n=a.n(i),r=a(2609),l=a.n(r)()(n());l.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-vitals__vitals-header-item__container___hHt_D{display:flex;flex-wrap:wrap;flex-direction:column;padding:.25rem .5rem;margin:.5rem 1rem;width:100%}.-esm-patient-vitals__vitals-header-item__abnormal-value___jd1C_{background-color:rgba(0,0,0,.1)}.-esm-patient-vitals__vitals-header-item__label-container___uiKzx,.-esm-patient-vitals__vitals-header-item__value-container___bDR5y{align-items:center;display:flex}.-esm-patient-vitals__vitals-header-item__value-container___bDR5y{margin-top:.25rem}.-esm-patient-vitals__vitals-header-item__label___XC3Cq{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252;margin-right:.375rem}.-esm-patient-vitals__vitals-header-item__danger-icon___Vl1Y2{color:#da1e28;height:.25rem;width:.25rem}.-esm-patient-vitals__vitals-header-item__value___ttE4S{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-patient-vitals__vitals-header-item__units___bCic0{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-patient-vitals__vitals-header-item__pad-right___PzhAS{margin-right:2px}.-esm-patient-vitals__vitals-header-item__critically-low___OpsjO::after,.-esm-patient-vitals__vitals-header-item__critically-high___BAkIx::after,.-esm-patient-vitals__vitals-header-item__low___Amnn0::after,.-esm-patient-vitals__vitals-header-item__high___O0Ipp::after{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-patient-vitals__vitals-header-item__low___Amnn0::after{content:" ↓"}.-esm-patient-vitals__vitals-header-item__critically-low___OpsjO::after{content:" ↓↓"}.-esm-patient-vitals__vitals-header-item__high___O0Ipp::after{content:" ↑"}.-esm-patient-vitals__vitals-header-item__critically-high___BAkIx::after{content:" ↑↑"}',""]),l.locals={container:"-esm-patient-vitals__vitals-header-item__container___hHt_D","abnormal-value":"-esm-patient-vitals__vitals-header-item__abnormal-value___jd1C_","label-container":"-esm-patient-vitals__vitals-header-item__label-container___uiKzx","value-container":"-esm-patient-vitals__vitals-header-item__value-container___bDR5y",label:"-esm-patient-vitals__vitals-header-item__label___XC3Cq","danger-icon":"-esm-patient-vitals__vitals-header-item__danger-icon___Vl1Y2",value:"-esm-patient-vitals__vitals-header-item__value___ttE4S",units:"-esm-patient-vitals__vitals-header-item__units___bCic0","pad-right":"-esm-patient-vitals__vitals-header-item__pad-right___PzhAS","critically-low":"-esm-patient-vitals__vitals-header-item__critically-low___OpsjO","critically-high":"-esm-patient-vitals__vitals-header-item__critically-high___BAkIx",low:"-esm-patient-vitals__vitals-header-item__low___Amnn0",high:"-esm-patient-vitals__vitals-header-item__high___O0Ipp"};const o=l},7042:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var i=a(9601),n=a.n(i),r=a(2609),l=a.n(r)()(n());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-vitals__vitals-header__vitals-header___yKgPw{display:flex;justify-content:space-between;align-items:center;height:3rem;padding:1rem;outline:none;pointer-events:visibleFill}.-esm-patient-vitals__vitals-header__container___RM3uo{display:flex;align-items:baseline}.-esm-patient-vitals__vitals-header__warning-background___zcdJT{background-color:#fff8e1;border-left:3px solid #f1c21b}.-esm-patient-vitals__vitals-header__default-background___NstwL{background-color:#f4f4f4}.-esm-patient-vitals__vitals-header__align-center___hO26n{display:flex;align-items:center}.-esm-patient-vitals__vitals-header__row___BWuPg{display:flex;justify-content:space-between;align-items:center;margin:.25rem .5rem}.-esm-patient-vitals__vitals-header__loading___w5B6q{display:flex;background-color:#f4f4f4;justify-content:center;min-height:3rem}.-esm-patient-vitals__vitals-header__default-border___ZS9HI{border-bottom:1px solid #e0e0e0}.-esm-patient-vitals__vitals-header__warning-border___KVnFy{border-bottom:1px solid #feecae}.-esm-patient-vitals__vitals-header__warning-icon___GHya2{display:flex;align-self:center;fill:#f1c21b;margin-right:1rem}.-esm-patient-vitals__vitals-header__warning-icon___GHya2 [data-icon-path=inner-path]{fill:#000;opacity:1}.-esm-patient-vitals__vitals-header__button-container___R41WL{display:flex;align-items:center}.-esm-patient-vitals__vitals-header__collapse-button___nkOS4,.-esm-patient-vitals__vitals-header__expand-button___LX1rQ{color:#0f62fe;display:flex;align-items:baseline;justify-content:center;cursor:pointer;margin-left:.5rem}.-esm-patient-vitals__vitals-header__heading___DuR4i{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-right:.5rem;color:#525252}.-esm-patient-vitals__vitals-header__record-vitals___DL0vS{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-patient-vitals__vitals-header__body-text___Yhppl{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}",""]),l.locals={"vitals-header":"-esm-patient-vitals__vitals-header__vitals-header___yKgPw",container:"-esm-patient-vitals__vitals-header__container___RM3uo","warning-background":"-esm-patient-vitals__vitals-header__warning-background___zcdJT","default-background":"-esm-patient-vitals__vitals-header__default-background___NstwL","align-center":"-esm-patient-vitals__vitals-header__align-center___hO26n",row:"-esm-patient-vitals__vitals-header__row___BWuPg",loading:"-esm-patient-vitals__vitals-header__loading___w5B6q","default-border":"-esm-patient-vitals__vitals-header__default-border___ZS9HI","warning-border":"-esm-patient-vitals__vitals-header__warning-border___KVnFy","warning-icon":"-esm-patient-vitals__vitals-header__warning-icon___GHya2","button-container":"-esm-patient-vitals__vitals-header__button-container___R41WL","collapse-button":"-esm-patient-vitals__vitals-header__collapse-button___nkOS4","expand-button":"-esm-patient-vitals__vitals-header__expand-button___LX1rQ",heading:"-esm-patient-vitals__vitals-header__heading___DuR4i","record-vitals":"-esm-patient-vitals__vitals-header__record-vitals___DL0vS","body-text":"-esm-patient-vitals__vitals-header__body-text___Yhppl"};const o=l},6824:function(e){e.exports=function(){"use strict";return function(e,t,a){t.prototype.isToday=function(){var e="YYYY-MM-DD",t=a();return this.format(e)===t.format(e)}}}()},857:(e,t,a)=>{var i=a(7772).Symbol;e.exports=i},3366:(e,t,a)=>{var i=a(857),n=a(2107),r=a(7157),l=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?n(e):r(e)}},8222:e=>{var t=Math.max,a=Math.min;e.exports=function(e,i,n){return e>=a(i,n)&&e<t(i,n)}},1704:(e,t,a)=>{var i=a(2153),n=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(n,""):e}},1242:(e,t,a)=>{var i="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g;e.exports=i},2107:(e,t,a)=>{var i=a(857),n=Object.prototype,r=n.hasOwnProperty,l=n.toString,o=i?i.toStringTag:void 0;e.exports=function(e){var t=r.call(e,o),a=e[o];try{e[o]=void 0;var i=!0}catch(e){}var n=l.call(e);return i&&(t?e[o]=a:delete e[o]),n}},7157:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},7772:(e,t,a)=>{var i=a(1242),n="object"==typeof self&&self&&self.Object===Object&&self,r=i||n||Function("return this")();e.exports=r},2153:e=>{var t=/\s/;e.exports=function(e){for(var a=e.length;a--&&t.test(e.charAt(a)););return a}},264:(e,t,a)=>{var i=a(8222),n=a(5707),r=a(7642);e.exports=function(e,t,a){return t=n(t),void 0===a?(a=t,t=0):a=n(a),e=r(e),i(e,t,a)}},537:(e,t,a)=>{var i=a(3366),n=a(5125);e.exports=function(e){return"number"==typeof e||n(e)&&"[object Number]"==i(e)}},9259:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},5125:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},4795:(e,t,a)=>{var i=a(3366),n=a(5125);e.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==i(e)}},5707:(e,t,a)=>{var i=a(7642);e.exports=function(e){return e?Infinity===(e=i(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},7642:(e,t,a)=>{var i=a(1704),n=a(9259),r=a(4795),l=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var a=o.test(e);return a||s.test(e)?c(e.slice(2),a?2:8):l.test(e)?NaN:+e}},8179:(e,t,a)=>{"use strict";a.d(t,{s:()=>i});var i="patient-vitals-biometrics-form-workspace"},3461:(e,t,a)=>{"use strict";a.d(t,{V:()=>o,X:()=>s});var i=a(264),n=a.n(i),r=a(537),l=a.n(r);function o(e,t){if(e&&t)return e>0&&t>0?Number((e/Math.pow(t/100,2)).toFixed(1)):void 0}function s(e,t,a){if(void 0===a||""===a)return!0;var i=e.find((function(e){return e.uuid===t}));return!l()(null==i?void 0:i.lowNormal)||!l()(null==i?void 0:i.hiNormal)||n()(Number(a),Number(i.lowNormal),Number(i.hiNormal))}},9863:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>B});var i=a(268),n=a.n(i),r=a(3565),l=a.n(r),o=a(6824),s=a.n(o),c=a(4924),_=a(7160),u=a(5508),d=a(2074),m=a(906),v=a(6217),p=a(8179),h=a(168),g=a(6062),f=a.n(g),b=a(4036),y=a.n(b),w=a(6793),x=a.n(w),N=a(7892),O=a.n(N),j=a(1173),S=a.n(j),E=a(2464),k=a.n(E),A=a(3528),P={};P.styleTagTransform=k(),P.setAttributes=O(),P.insert=x().bind(null,"head"),P.domAPI=y(),P.insertStyleElement=S(),f()(A.Z,P);const U=A.Z&&A.Z.locals?A.Z.locals:void 0,C=function(e){var t=e.interpretation,a=e.value,i=e.unitName,r=e.unitSymbol,l=t&&"normal"!==t;return n().createElement("div",{className:"".concat(U.container," ").concat(l?U["abnormal-value"]:"")},n().createElement("div",{className:U["label-container"]},n().createElement("label",{className:U.label},i),l?n().createElement(d.fR,{size:16,title:"abnormal value",className:U["danger-icon"]}):null),n().createElement("div",{className:U["value-container"]},n().createElement("label",{className:U["pad-right"]},n().createElement("span",{className:U.value},a||"-"," "),n().createElement("span",{className:U.units},a&&r)),"high"===t?n().createElement("span",{className:U.high}):null,"critically_high"===t?n().createElement("span",{className:U["critically-high"]}):null,"low"===t?n().createElement("span",{className:U.low}):null,"critically_low"===t?n().createElement("span",{className:U["critically-low"]}):null))};var z=a(7042),R={};R.styleTagTransform=k(),R.setAttributes=O(),R.insert=x().bind(null,"head"),R.domAPI=y(),R.insertStyleElement=S(),f()(z.Z,R);const I=z.Z&&z.Z.locals?z.Z.locals:void 0;function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}l().extend(s());const B=function(e){var t,a,r=e.patientUuid,o=(e.showRecordVitalsButton,(0,m.useConfig)()),s=(0,c.useTranslation)().t,g=(0,v.useVitalsConceptMetadata)(),f=g.data,b=g.conceptMetadata,y=(0,h.yL)(r,!0),w=y.vitals,x=y.isLoading,N=y.isValidating,O=null==w?void 0:w[0],j=(t=(0,i.useState)(!1),a=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i,n,r=[],l=!0,o=!1;try{for(a=a.call(e);!(l=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);l=!0);}catch(e){o=!0,n=e}finally{try{l||null==a.return||a.return()}finally{if(o)throw n}}return r}}(t,a)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?D(e,t):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),S=j[0],E=j[1],k=function(){return E(!S)},A=n().useCallback((function(e){e.stopPropagation(),(0,v.launchPatientWorkspace)(p.s)}),[]);if(x)return n().createElement(_.lSo,{role:"progressbar",className:I.loading,description:"".concat(s("loading","Loading")," ...")});if(!x&&O&&Object.keys(O).length&&(null==b?void 0:b.length)){var P,U,z,R,B,T,M,V,L,Z,W,F,H,K,Q,Y,X=!l()(null==O?void 0:O.date).isToday();return n().createElement("div",{className:"".concat(Object.keys(O).length&&(0,h.bc)(O)&&X?I["warning-background"]:I["default-background"])},n().createElement("div",{className:I["vitals-header"],role:"button",tabIndex:0,onClick:k},n().createElement("span",{className:I.container},(0,h.bc)(O)&&X?n().createElement(u.Rr,{size:20,title:"WarningFilled","aria-label":"Warning",className:I["warning-icon"]}):null,n().createElement("span",{className:I.heading},s("vitalsAndBiometrics","Vitals and biometrics")),n().createElement("span",{className:I["body-text"]},s("lastRecorded","Last recorded"),": ",(0,m.formatDate)((0,m.parseDate)(null==O?void 0:O.date),{mode:"wide"}))),n().createElement("div",{className:I.backgroundDataFetchingIndicator},n().createElement("span",null,N?n().createElement(_.lSo,null):null)),n().createElement("div",{className:I["button-container"]},n().createElement(_.zxk,{className:I["record-vitals"],kind:"ghost",size:"sm",onClick:A},s("recordVitals","Record vitals")),S?n().createElement(d.Kh,{size:16,className:I["collapse-button"],title:"ChevronUp",onClick:function(e){e.stopPropagation(),k()}}):n().createElement(d._M,{size:16,className:I["expand-button"],title:"ChevronDown",onClick:function(e){e.stopPropagation(),k()}}))),S?n().createElement("div",{className:(0,h.bc)(O)&&X?"".concat(I["warning-border"]):"".concat(I["default-border"])},n().createElement("div",{className:I.row},n().createElement(C,{unitName:s("temperatureAbbreviated","Temp"),unitSymbol:null!==(P=(null==O?void 0:O.temperature)&&f.get(o.concepts.temperatureUuid))&&void 0!==P?P:"",value:null!==(U=null==O?void 0:O.temperature)&&void 0!==U?U:"--"}),n().createElement(C,{interpretation:(0,h.WK)(null==O?void 0:O.systolic,null==O?void 0:O.diastolic,null==o?void 0:o.concepts,b),unitName:s("bp","BP"),unitSymbol:null!==(z=(null==O?void 0:O.systolic)&&f.get(o.concepts.systolicBloodPressureUuid))&&void 0!==z?z:"",value:"".concat(null!==(R=null==O?void 0:O.systolic)&&void 0!==R?R:"--"," / ").concat(null!==(B=null==O?void 0:O.diastolic)&&void 0!==B?B:"--")}),n().createElement(C,{interpretation:(0,h.wA)(null==O?void 0:O.pulse,(0,h.tQ)(o.concepts.pulseUuid,b)),unitName:s("heartRate","Heart rate"),unitSymbol:null!==(T=(null==O?void 0:O.pulse)&&f.get(o.concepts.pulseUuid))&&void 0!==T?T:"",value:null!==(M=null==O?void 0:O.pulse)&&void 0!==M?M:"--"}),n().createElement(C,{interpretation:(0,h.wA)(null==O?void 0:O.spo2,(0,h.tQ)(o.concepts.oxygenSaturationUuid,b)),unitName:s("spo2","SpO2"),unitSymbol:null!==(V=(null==O?void 0:O.spo2)&&f.get(o.concepts.oxygenSaturationUuid))&&void 0!==V?V:"",value:null!==(L=null==O?void 0:O.spo2)&&void 0!==L?L:"--"})),n().createElement("div",{className:I.row},n().createElement(C,{interpretation:(0,h.wA)(null==O?void 0:O.respiratoryRate,(0,h.tQ)(o.concepts.respiratoryRateUuid,b)),unitName:s("respiratoryRate","R. Rate"),unitSymbol:null!==(Z=(null==O?void 0:O.respiratoryRate)&&f.get(o.concepts.respiratoryRateUuid))&&void 0!==Z?Z:"",value:null!==(W=null==O?void 0:O.respiratoryRate)&&void 0!==W?W:"--"}),n().createElement(C,{unitName:s("height","Height"),unitSymbol:null!==(F=(null==O?void 0:O.height)&&f.get(o.concepts.heightUuid))&&void 0!==F?F:"",value:null!==(H=null==O?void 0:O.height)&&void 0!==H?H:"--"}),n().createElement(C,{unitName:s("bmi","BMI"),unitSymbol:(null==O?void 0:O.bmi)&&o.biometrics.bmiUnit,value:null!==(K=null==O?void 0:O.bmi)&&void 0!==K?K:"--"}),n().createElement(C,{unitName:s("weight","Weight"),unitSymbol:null!==(Q=(null==O?void 0:O.weight)&&f.get(o.concepts.weightUuid))&&void 0!==Q?Q:"",value:null!==(Y=null==O?void 0:O.weight)&&void 0!==Y?Y:"--"}))):null)}return n().createElement("div",{className:I["vitals-header"]},n().createElement("span",{className:I.container},n().createElement("span",{className:I.heading},s("vitalsAndBiometrics","Vitals and biometrics")),n().createElement("span",{className:I["body-text"]},s("noDataRecorded","No data has been recorded for this patient"))),n().createElement("div",{className:I.container},n().createElement(_.zxk,{className:I["button-text"],onClick:A,kind:"ghost",size:"sm"},s("recordVitals","Record vitals"))))}},168:(e,t,a)=>{"use strict";a.d(t,{WK:()=>f,bc:()=>h,tQ:()=>g,tX:()=>m,wA:()=>p,yL:()=>d});var i=a(9857),n=a(906),r=a(6217),l=a(3461);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),i.forEach((function(t){s(e,t,a[t])}))}return e}function _(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a.push.apply(a,i)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i,n,r=[],l=!0,o=!1;try{for(a=a.call(e);!(l=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);l=!0);}catch(e){o=!0,n=e}finally{try{l||null==a.return||a.return()}finally{if(o)throw n}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){var t,a,o,d=arguments.length>1&&void 0!==arguments[1]&&arguments[1],m=(0,n.useConfig)().concepts,v=(0,r.useVitalsConceptMetadata)().conceptMetadata,h=[m.heightUuid,m.midUpperArmCircumferenceUuid,m.weightUuid],b=d?Object.values(m).join(","):Object.values(m).filter((function(e){return!h.includes(e)})).join(","),y="".concat(n.fhirBaseUrl,"/Observation?subject:Patient=").concat(e,"&code=")+b+"&_summary=data&_sort=-date"+"&_count=".concat(100,"\n        "),w=(0,i.ZP)(y,n.openmrsFetch),x=w.data,N=w.error,O=w.isValidating,j=function(e){switch(e){case m.systolicBloodPressureUuid:return"systolic";case m.diastolicBloodPressureUuid:return"diastolic";case m.pulseUuid:return"pulse";case m.temperatureUuid:return"temperature";case m.oxygenSaturationUuid:return"spo2";case m.respiratoryRateUuid:return"respiratoryRate";case m.heightUuid:return"height";case m.weightUuid:return"weight";case m.midUpperArmCircumferenceUuid:return"muac"}},S=function(e){var t,a,i,n,r,l,o,s;return{code:null==e||null===(t=e.code)||void 0===t||null===(a=t.coding)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.code,interpretation:p(null==e||null===(n=e.valueQuantity)||void 0===n?void 0:n.value,g(null==e||null===(r=e.code)||void 0===r||null===(l=r.coding)||void 0===l||null===(o=l[0])||void 0===o?void 0:o.code,v)),issued:null==e?void 0:e.issued,value:null==e||null===(s=e.valueQuantity)||void 0===s?void 0:s.value}},E=new Map,k=null==x||null===(t=x.data)||void 0===t||null===(a=t.entry)||void 0===a?void 0:a.map((function(e){return null!==(o=e.resource)&&void 0!==o?o:[]})).map(S);null==k||k.map((function(e){var t,a,i=new Date(new Date(e.issued).setSeconds(0,0)).toISOString();E.has(i)&&E.get(i)?E.set(i,_(c({},E.get(i)),(s(t={},j(e.code),e.value),s(t,j(e.code)+"Interpretation",e.interpretation),t))):e.value&&E.set(i,(s(a={},j(e.code),e.value),s(a,j(e.code)+"Interpretation",e.interpretation),a))}));var A=Array.from(E).map((function(e,t){var a=u(e,2),i=a[0],n=a[1];return _(c({},n),{id:t.toString(),bmi:(0,l.V)(Number(n.weight),Number(n.height)),date:i,bloodPressureInterpretation:f(n.systolic,n.diastolic,m,v)})}));return{vitals:A,isError:N,isLoading:!x&&!N,isValidating:O}}function m(e,t,a,i,r,l,o,s){return(0,n.openmrsFetch)("/ws/rest/v1/encounter",{method:"POST",headers:{"Content-Type":"application/json"},signal:o.signal,body:{patient:i,encounterDatetime:l,location:s,encounterType:e,form:t,obs:v(r,a)}})}function v(e,t){return Object.entries(e).filter((function(e){var t=u(e,2);return t[0],null!=t[1]})).map((function(e){var a=u(e,2),i=a[0],n=a[1];return{concept:t[i+"Uuid"],value:n}}))}function p(e,t){return(null==t?void 0:t.hiCritical)&&e>=t.hiCritical?"critically_high":(null==t?void 0:t.hiNormal)&&e>t.hiNormal?"high":(null==t?void 0:t.lowCritical)&&e<=t.lowCritical?"critically_low":(null==t?void 0:t.lowNormal)&&e<t.lowNormal?"low":"normal"}function h(e){return Object.entries(e).filter((function(e){return u(e,1)[0].match(/interpretation/i)})).map((function(e){return u(e,2)[1]})).some((function(e){return"normal"!==e}))}function g(e,t){return e&&(null==t?void 0:t.length)?null==t?void 0:t.find((function(t){return t.uuid===e})):null}function f(e,t,a,i){var n=p(e,g(null==a?void 0:a.systolicBloodPressureUuid,i)),r=p(t,g(null==a?void 0:a.diastolicBloodPressureUuid,i));return"critically_high"===n||"critically_high"===r?"critically_high":"critically_low"===n||"critically_low"===r?"critically_low":"high"===n||"high"===r?"high":"low"===n||"low"===r?"low":"normal"}}}]);