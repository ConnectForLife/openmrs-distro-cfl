/*! For license information please see 697.js.LICENSE.txt */
"use strict";(self.webpackChunk_openmrs_esm_patient_attachments_app=self.webpackChunk_openmrs_esm_patient_attachments_app||[]).push([[697],{5495:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r.d(t,{I:()=>O,_:()=>g,a:()=>y});var c=["width","height","viewBox"],u=["tabindex"],l={focusable:"false",preserveAspectRatio:"xMidYMid meet"};var f=r(3980),s=r.n(f),d=r(9902),p=r.n(d);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}function g(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var w=["className","children","tabIndex"],m=["tabindex"],O=p().forwardRef((function(e,t){var r=e.className,n=e.children,i=e.tabIndex,f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,r=e.height,n=e.viewBox,i=void 0===n?"0 0 ".concat(t," ").concat(r):n,f=a(e,c),s=f.tabindex,d=a(f,u),p=o(o(o({},l),d),{},{width:t,height:r,viewBox:i});return p["aria-label"]||p["aria-labelledby"]||p.title?(p.role="img",null!=s&&(p.focusable="true",p.tabindex=s)):p["aria-hidden"]=!0,p}(h(h({},g(e,w)),{},{tabindex:i})),s=f.tabindex,d=g(f,m);return r&&(d.className=r),null!=s&&(d.tabIndex=s),t&&(d.ref=t),p().createElement("svg",d,n)}));O.displayName="Icon",O.propTypes={"aria-hidden":s().string,"aria-label":s().string,"aria-labelledby":s().string,children:s().node,className:s().string,height:s().oneOfType([s().number,s().string]),preserveAspectRatio:s().string,tabIndex:s().string,viewBox:s().string,width:s().oneOfType([s().number,s().string]),xmlns:s().string},O.defaultProps={xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"}},8358:(e,t,r)=>{r.d(t,{F3j:()=>m,PcV:()=>O,Y3p:()=>y,cDj:()=>w,cRw:()=>g});var n,o,i,a,c,u,l=r(5495),f=r(9902),s=r.n(f),d=["children"],p=["children"],v=["children"],h=["children"],b=["children"],y=s().forwardRef((function(e,t){var r=e.children,i=(0,l._)(e,d);return s().createElement(l.I,(0,l.a)({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",ref:t},i),n||(n=s().createElement("path",{d:"M8,1C4.1,1,1,4.1,1,8c0,3.9,3.1,7,7,7s7-3.1,7-7C15,4.1,11.9,1,8,1z M7,11L4.3,8.3l0.9-0.8L7,9.3l4-3.9l0.9,0.8L7,11z"})),o||(o=s().createElement("path",{d:"M7,11L4.3,8.3l0.9-0.8L7,9.3l4-3.9l0.9,0.8L7,11z","data-icon-path":"inner-path",opacity:"0"})),r)})),g=s().forwardRef((function(e,t){var r=e.children,n=(0,l._)(e,p);return s().createElement(l.I,(0,l.a)({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",ref:t},n),i||(i=s().createElement("path",{d:"M8 11L3 6 3.7 5.3 8 9.6 12.3 5.3 13 6z"})),r)})),w=s().forwardRef((function(e,t){var r=e.children,n=(0,l._)(e,v);return s().createElement(l.I,(0,l.a)({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",ref:t},n),a||(a=s().createElement("path",{d:"M5 8L10 3 10.7 3.7 6.4 8 10.7 12.3 10 13z"})),r)})),m=s().forwardRef((function(e,t){var r=e.children,n=(0,l._)(e,h);return s().createElement(l.I,(0,l.a)({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",ref:t},n),c||(c=s().createElement("path",{d:"M11 8L6 13 5.3 12.3 9.6 8 5.3 3.7 6 3z"})),r)})),O=s().forwardRef((function(e,t){var r=e.children,n=(0,l._)(e,b);return s().createElement(l.I,(0,l.a)({width:16,height:16,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",ref:t},n),u||(u=s().createElement("path",{d:"M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"})),r)}))},321:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},a=[],c=0;c<e.length;c++){var u=e[c],l=n.base?u[0]+n.base:u[0],f=i[l]||0,s="".concat(l," ").concat(f);i[l]=f+1;var d=r(s),p={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var v=o(p,n);n.byIndex=c,t.splice(c,0,{identifier:s,updater:v,references:1})}a.push(s)}return a}function o(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var i=n(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var c=r(i[a]);t[c].references--}for(var u=n(e,o),l=0;l<i.length;l++){var f=r(i[l]);0===t[f].references&&(t[f].updater(),t.splice(f,1))}i=u}}},3275:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},2094:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},7162:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},1195:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},757:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},2609:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var c=0;c<this.length;c++){var u=this[c][0];null!=u&&(a[u]=!0)}for(var l=0;l<e.length;l++){var f=[].concat(e[l]);n&&a[f[0]]||(void 0!==i&&(void 0===f[5]||(f[1]="@layer".concat(f[5].length>0?" ".concat(f[5]):""," {").concat(f[1],"}")),f[5]=i),r&&(f[2]?(f[1]="@media ".concat(f[2]," {").concat(f[1],"}"),f[2]=r):f[2]=r),o&&(f[4]?(f[1]="@supports (".concat(f[4],") {").concat(f[1],"}"),f[4]=o):f[4]="".concat(o)),t.push(f))}},t}},9601:e=>{e.exports=function(e){return e[1]}},753:(e,t,r)=>{function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:()=>n})},9249:(e,t,r)=>{function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{Z:()=>n})},7371:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,{Z:()=>o})},7896:(e,t,r)=>{function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{Z:()=>n})},5058:(e,t,r)=>{function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{Z:()=>n})},8106:(e,t,r)=>{function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}r.d(t,{Z:()=>o})},1987:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(6522),o=r(753);function i(e,t){if(t&&("object"===(0,n.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}},6522:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{Z:()=>n})},9857:(e,t,r)=>{r.d(t,{ZP:()=>$});var n=r(9902);function o(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function c(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}u((n=n.apply(e,t||[])).next())}))}function i(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var a,c=function(){},u=c(),l=Object,f=function(e){return e===u},s=function(e){return"function"==typeof e},d=function(e,t){return l.assign({},e,t)},p="undefined",v=function(){return typeof window!=p},h=new WeakMap,b=0,y=function(e){var t,r,n=typeof e,o=e&&e.constructor,i=o==Date;if(l(e)!==e||i||o==RegExp)t=i?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(t=h.get(e))return t;if(t=++b+"~",h.set(e,t),o==Array){for(t="@",r=0;r<e.length;r++)t+=y(e[r])+",";h.set(e,t)}if(o==l){t="#";for(var a=l.keys(e).sort();!f(r=a.pop());)f(e[r])||(t+=r+":"+y(e[r])+",");h.set(e,t)}}return t},g=!0,w=v(),m=typeof document!=p,O=w&&window.addEventListener?window.addEventListener.bind(window):c,x=m?document.addEventListener.bind(document):c,j=w&&window.removeEventListener?window.removeEventListener.bind(window):c,E=m?document.removeEventListener.bind(document):c,P={isOnline:function(){return g},isVisible:function(){var e=m&&document.visibilityState;return f(e)||"hidden"!==e}},R={initFocus:function(e){return x("visibilitychange",e),O("focus",e),function(){E("visibilitychange",e),j("focus",e)}},initReconnect:function(e){var t=function(){g=!0,e()},r=function(){g=!1};return O("online",t),O("offline",r),function(){j("online",t),j("offline",r)}}},S=!v()||"Deno"in window,C=S?n.useEffect:n.useLayoutEffect,I="undefined"!=typeof navigator&&navigator.connection,T=!S&&I&&(["slow-2g","2g"].includes(I.effectiveType)||I.saveData),k=function(e){if(s(e))try{e=e()}catch(t){e=""}var t=[].concat(e);return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?y(e):"",t,e?"$swr$"+e:""]},_=new WeakMap,M=function(e,t,r,n,o,i,a){void 0===a&&(a=!0);var c=_.get(e),u=c[0],l=c[1],f=c[3],s=u[t],d=l[t];if(a&&d)for(var p=0;p<d.length;++p)d[p](r,n,o);return i&&(delete f[t],s&&s[0])?s[0](2).then((function(){return e.get(t)})):e.get(t)},L=0,D=function(){return++L},V=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(void 0,void 0,void 0,(function(){var t,r,n,o,a,c,l,p,v,h,b,y,g,w,m,O,x,j,E,P,R;return i(this,(function(i){switch(i.label){case 0:if(t=e[0],r=e[1],n=e[2],o=e[3],c=!!f((a="boolean"==typeof o?{revalidate:o}:o||{}).populateCache)||a.populateCache,l=!1!==a.revalidate,p=!1!==a.rollbackOnError,v=a.optimisticData,h=k(r),b=h[0],y=h[2],!b)return[2];if(g=_.get(t),w=g[2],e.length<3)return[2,M(t,b,t.get(b),u,u,l,!0)];if(m=n,x=D(),w[b]=[x,0],j=!f(v),E=t.get(b),j&&(P=s(v)?v(E):v,t.set(b,P),M(t,b,P)),s(m))try{m=m(t.get(b))}catch(e){O=e}return m&&s(m.then)?[4,m.catch((function(e){O=e}))]:[3,2];case 1:if(m=i.sent(),x!==w[b][0]){if(O)throw O;return[2,m]}O&&j&&p&&(c=!0,m=E,t.set(b,E)),i.label=2;case 2:return c&&(O||(s(c)&&(m=c(m,E)),t.set(b,m)),t.set(y,d(t.get(y),{error:O}))),w[b][1]=D(),[4,M(t,b,m,O,u,l,!!c)];case 3:if(R=i.sent(),O)throw O;return[2,c?R:m]}}))}))},A=function(e,t){for(var r in e)e[r][0]&&e[r][0](t)},N=function(e,t){if(!_.has(e)){var r=d(R,t),n={},o=V.bind(u,e),i=c;if(_.set(e,[n,{},{},{},o]),!S){var a=r.initFocus(setTimeout.bind(u,A.bind(u,n,0))),l=r.initReconnect(setTimeout.bind(u,A.bind(u,n,1)));i=function(){a&&a(),l&&l(),_.delete(e)}}return[e,o,i]}return[e,_.get(e)[4]]},Z=N(new Map),B=Z[0],F=Z[1],z=d({onLoadingSlow:c,onSuccess:c,onError:c,onErrorRetry:function(e,t,r,n,o){var i=r.errorRetryCount,a=o.retryCount,c=~~((Math.random()+.5)*(1<<(a<8?a:8)))*r.errorRetryInterval;!f(i)&&a>i||setTimeout(n,c,o)},onDiscarded:c,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:T?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:T?5e3:3e3,compare:function(e,t){return y(e)==y(t)},isPaused:function(){return!1},cache:B,mutate:F,fallback:{}},P),W=function(e,t){var r=d(e,t);if(t){var n=e.use,o=e.fallback,i=t.use,a=t.fallback;n&&i&&(r.use=n.concat(i)),o&&a&&(r.fallback=d(o,a))}return r},q=(0,n.createContext)({}),H=function(e){return s(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]},J=function(){return d(z,(0,n.useContext)(q))},Y=function(e,t,r){var n=t[e]||(t[e]=[]);return n.push(r),function(){var e=n.indexOf(r);e>=0&&(n[e]=n[n.length-1],n.pop())}},U={dedupe:!0},$=(l.defineProperty((function(e){var t=e.value,r=W((0,n.useContext)(q),t),o=t&&t.provider,i=(0,n.useState)((function(){return o?N(o(r.cache||B),t):u}))[0];return i&&(r.cache=i[0],r.mutate=i[1]),C((function(){return i?i[2]:u}),[]),(0,n.createElement)(q.Provider,d(e,{value:r}))}),"default",{value:z}),a=function(e,t,r){var a=r.cache,c=r.compare,l=r.fallbackData,h=r.suspense,b=r.revalidateOnMount,y=r.refreshInterval,g=r.refreshWhenHidden,w=r.refreshWhenOffline,m=_.get(a),O=m[0],x=m[1],j=m[2],E=m[3],P=k(e),R=P[0],I=P[1],T=P[2],L=(0,n.useRef)(!1),A=(0,n.useRef)(!1),N=(0,n.useRef)(R),Z=(0,n.useRef)(t),B=(0,n.useRef)(r),F=function(){return B.current},z=function(){return F().isVisible()&&F().isOnline()},W=function(e){return a.set(T,d(a.get(T),e))},q=a.get(R),H=f(l)?r.fallback[R]:l,J=f(q)?H:q,$=a.get(T)||{},G=$.error,K=!L.current,Q=function(){return K&&!f(b)?b:!F().isPaused()&&(h?!f(J)&&r.revalidateIfStale:f(J)||r.revalidateIfStale)},X=!(!R||!t)&&(!!$.isValidating||K&&Q()),ee=function(e,t){var r=(0,n.useState)({})[1],o=(0,n.useRef)(e),i=(0,n.useRef)({data:!1,error:!1,isValidating:!1}),a=(0,n.useCallback)((function(e){var n=!1,a=o.current;for(var c in e){var u=c;a[u]!==e[u]&&(a[u]=e[u],i.current[u]&&(n=!0))}n&&!t.current&&r({})}),[]);return C((function(){o.current=e})),[o,i.current,a]}({data:J,error:G,isValidating:X},A),te=ee[0],re=ee[1],ne=ee[2],oe=(0,n.useCallback)((function(e){return o(void 0,void 0,void 0,(function(){var t,n,o,l,d,p,v,h,b,y,g,w,m;return i(this,(function(i){switch(i.label){case 0:if(t=Z.current,!R||!t||A.current||F().isPaused())return[2,!1];l=!0,d=e||{},p=!E[R]||!d.dedupe,v=function(){return!A.current&&R===N.current&&L.current},h=function(){var e=E[R];e&&e[1]===o&&delete E[R]},b={isValidating:!1},y=function(){W({isValidating:!1}),v()&&ne(b)},W({isValidating:!0}),ne({isValidating:!0}),i.label=1;case 1:return i.trys.push([1,3,,4]),p&&(M(a,R,te.current.data,te.current.error,!0),r.loadingTimeout&&!a.get(R)&&setTimeout((function(){l&&v()&&F().onLoadingSlow(R,r)}),r.loadingTimeout),E[R]=[t.apply(void 0,I),D()]),m=E[R],n=m[0],o=m[1],[4,n];case 2:return n=i.sent(),p&&setTimeout(h,r.dedupingInterval),E[R]&&E[R][1]===o?(W({error:u}),b.error=u,g=j[R],!f(g)&&(o<=g[0]||o<=g[1]||0===g[1])?(y(),p&&v()&&F().onDiscarded(R),[2,!1]):(c(te.current.data,n)?b.data=te.current.data:b.data=n,c(a.get(R),n)||a.set(R,n),p&&v()&&F().onSuccess(n,R,r),[3,4])):(p&&v()&&F().onDiscarded(R),[2,!1]);case 3:return w=i.sent(),h(),F().isPaused()||(W({error:w}),b.error=w,p&&v()&&(F().onError(w,R,r),("boolean"==typeof r.shouldRetryOnError&&r.shouldRetryOnError||s(r.shouldRetryOnError)&&r.shouldRetryOnError(w))&&z()&&F().onErrorRetry(w,R,r,oe,{retryCount:(d.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return l=!1,y(),v()&&p&&M(a,R,b.data,b.error,!1),[2,!0]}}))}))}),[R]),ie=(0,n.useCallback)(V.bind(u,a,(function(){return N.current})),[]);if(C((function(){Z.current=t,B.current=r})),C((function(){if(R){var e=R!==N.current,t=oe.bind(u,U),r=0,n=Y(R,x,(function(e,t,r){ne(d({error:t,isValidating:r},c(te.current.data,e)?u:{data:e}))})),o=Y(R,O,(function(e){if(0==e){var n=Date.now();F().revalidateOnFocus&&n>r&&z()&&(r=n+F().focusThrottleInterval,t())}else if(1==e)F().revalidateOnReconnect&&z()&&t();else if(2==e)return oe()}));return A.current=!1,N.current=R,L.current=!0,e&&ne({data:J,error:G,isValidating:X}),Q()&&(f(J)||S?t():(i=t,v()&&typeof window.requestAnimationFrame!=p?window.requestAnimationFrame(i):setTimeout(i,1))),function(){A.current=!0,n(),o()}}var i}),[R,oe]),C((function(){var e;function t(){var t=s(y)?y(J):y;t&&-1!==e&&(e=setTimeout(r,t))}function r(){te.current.error||!g&&!F().isVisible()||!w&&!F().isOnline()?t():oe(U).then(t)}return t(),function(){e&&(clearTimeout(e),e=-1)}}),[y,g,w,oe]),(0,n.useDebugValue)(J),h&&f(J)&&R)throw Z.current=t,B.current=r,A.current=!1,f(G)?oe(U):G;return{mutate:ie,get data(){return re.data=!0,J},get error(){return re.error=!0,G},get isValidating(){return re.isValidating=!0,X}}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=J(),n=H(e),o=n[0],i=n[1],c=n[2],u=W(r,c),l=a,f=u.use;if(f)for(var s=f.length;s-- >0;)l=f[s](l);return l(o,i||u.fetcher,u)})}}]);