"use strict";(self.webpackChunk_openmrs_esm_fast_data_entry_app=self.webpackChunk_openmrs_esm_fast_data_entry_app||[]).push([[640],{4211:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(4422),a=n(1672),o=n.n(a),i=n(3397);function s(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,l,"next",e)}function l(e){s(o,r,a,i,l,"throw",e)}i(void 0)}))}}var c=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};const u=function(e){var t,n=e.open,a=e.setOpen,s=e.context,u=(0,i.useTranslation)().t,d=(t=l((function(){return c(this,(function(e){switch(e.label){case 0:return[4,s.destroySession()];case 1:return e.sent(),[2]}}))})),function(){return t.apply(this,arguments)}),m=function(){var e=l((function(){return c(this,(function(e){switch(e.label){case 0:return[4,s.closeSession()];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return o().createElement(r.ComposedModal,{open:n},o().createElement(r.ModalHeader,null,u("areYouSure","Are you sure?")),o().createElement(r.ModalBody,null,u("cancelExplanation","You will lose any unsaved changes on the current form. Do you want to discard the current session?")),o().createElement(r.ModalFooter,null,o().createElement(r.Button,{kind:"secondary",onClick:function(){return a(!1)}},u("cancel","Cancel")),o().createElement(r.Button,{kind:"danger",onClick:d},u("discard","Discard")),o().createElement(r.Button,{kind:"primary",onClick:m},u("saveSession","Save Session"))))}},2223:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(4422),a=n(1672),o=n.n(a),i=n(3397);const s=function(e){var t=e.open,n=e.setOpen,a=e.context,s=e.validateFirst,l=void 0!==s&&s,c=(0,i.useTranslation)().t;return o().createElement(r.ComposedModal,{open:t},o().createElement(r.ModalHeader,null,c("areYouSure","Are you sure?")),o().createElement(r.ModalBody,null,c("saveExplanation","Do you want to save the current form and exit the workflow?")),o().createElement(r.ModalFooter,null,o().createElement(r.Button,{kind:"secondary",onClick:function(){return n(!1)}},c("cancel","Cancel")),o().createElement(r.Button,{kind:"primary",onClick:function(){l?a.validateForComplete():a.submitForComplete(),n(!1)}},c("complete","Complete"))))}},611:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(1672),a=n.n(r),o=n(1132),i=n(4439);const s=function(e){var t=e.formUuid,n=e.patientUuid,s=e.visitUuid,l=e.visitTypeUuid,c=e.encounterUuid,u=e.handlePostResponse,d=e.handleEncounterCreate,m=e.handleOnValidate,_=(0,i.Z)(n);return(0,r.useEffect)((function(){return function(){return(0,o.detach)("form-widget-slot","form-widget-slot")}})),a().createElement("div",null,t&&n&&_&&a().createElement(o.ExtensionSlot,{extensionSlotName:"form-widget-slot",state:{view:"form",formUuid:t,visitUuid:null!=s?s:"",visitTypeUuid:null!=l?l:"",patientUuid:n,patient:_,encounterUuid:null!=c?c:"",closeWorkspace:function(){},handlePostResponse:u,handleEncounterCreate:d,handleOnValidate:m,showDiscardSubmitButtons:!1}}))}},9640:(e,t,n)=>{n.r(t),n.d(t,{default:()=>mt});var r=n(1132),a=n(1672),o=n.n(a),i=n(4422),s=n(2327),l=n(3133),c=n(3379),u=n.n(c),d=n(7795),m=n.n(d),_=n(569),f=n.n(_),p=n(3565),y=n.n(p),v=n(9216),h=n.n(v),g=n(4589),b=n.n(g),E=n(8914),w={};w.styleTagTransform=b(),w.setAttributes=y(),w.insert=f().bind(null,"head"),w.domAPI=m(),w.insertStyleElement=h(),u()(E.Z,w);const S=E.Z&&E.Z.locals?E.Z.locals:void 0;var O=n(3397),x=n(2504),N=n(1338);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}var I={setGroup:function(e){},unsetGroup:function(){},setSessionMeta:function(e){},openPatientSearch:function(){},saveEncounter:function(e){},editEncounter:function(e){},validateForNext:function(){},validateForComplete:function(){},updateVisitUuid:function(e){},submitForNext:function(){},submitForReview:function(){},submitForComplete:function(){},addPatientUuid:function(e){},removePatientUuid:function(e){},goToReview:function(){},destroySession:function(){},closeSession:function(){}},U={activeFormUuid:null,forms:{},workflowState:null,activePatientUuid:null,activeEncounterUuid:null,activeVisitUuid:null,patientUuids:[],encounters:{},visits:{},activeGroupUuid:null,activeGroupName:null,activeGroupMembers:[],activeSessionMeta:{sessionName:null,practitionerName:null,sessionDate:null,sessionNotes:null},groupVisitTypeUuid:null},j=o().createContext(A({},U,I)),R=function(e){var t,n,i,s,l,c,u,d,m,_,f,p,y,v,h,g,b,E,w,S,O,T,k,R,M,D,G,F,Z,B,z,L,V,W,q,K,X,Q,H=e.children,$=(0,N.useParams)().formUuid.split("&")[0],Y=function(e){var t=C((0,a.useState)(!1),2),n=t[0],o=t[1],i=C((0,a.useState)(null),2),s=i[0],l=i[1],c=C((0,a.useState)(null),2),u=c[0],d=c[1],m=(0,a.useCallback)((function(e){o(!1),d(!1),l(e)}),[]),_=(0,a.useCallback)((function(e){o(!1),l(null),d(e)}),[]),f=(0,a.useCallback)((function(){(0,r.openmrsFetch)("/ws/rest/v1/systemsetting?q=".concat(e,"&v=default")).then(m).catch(_)}),[_,m,e]);return(0,a.useEffect)((function(){f()}),[f]),{result:s,error:u,isSubmitting:n}}("@openmrs/esm-fast-data-entry-app.groupSessionVisitTypeUuid"),J=null==Y||null===(t=Y.result)||void 0===t||null===(n=t.data)||void 0===n||null===(i=n.results)||void 0===i||null===(s=i[0])||void 0===s?void 0:s.value,ee=(q=(0,a.useReducer)(x.ZP,A({},U,I)),K=2,function(e){if(Array.isArray(e))return e}(q)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(q,K)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(q,K)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),te=ee[0],ne=ee[1],re=(0,a.useMemo)((function(){return{initializeWorkflowState:function(e){var t=e.activeFormUuid;return ne({type:"INITIALIZE_WORKFLOW_STATE",activeFormUuid:t})},setGroup:function(e){return ne({type:"SET_GROUP",group:e})},unsetGroup:function(){return ne({type:"UNSET_GROUP"})},setSessionMeta:function(e){return ne({type:"SET_SESSION_META",meta:e})},addPatientUuid:function(e){return ne({type:"ADD_PATIENT_UUID",patientUuid:e})},removePatientUuid:function(e){return ne({type:"REMOVE_PATIENT_UUID",patientUuid:e})},openPatientSearch:function(){return ne({type:"OPEN_PATIENT_SEARCH"})},saveEncounter:function(e){return ne({type:"SAVE_ENCOUNTER",encounterUuid:e})},validateForNext:function(){return ne({type:"VALIDATE_FOR_NEXT"})},validateForComplete:function(){return ne({type:"VALIDATE_FOR_COMPLETE"})},updateVisitUuid:function(e){return ne({type:"UPDATE_VISIT_UUID",visitUuid:e})},submitForNext:function(){return ne({type:"SUBMIT_FOR_NEXT"})},submitForComplete:function(){return ne({type:"SUBMIT_FOR_COMPLETE"})},editEncounter:function(e){return ne({type:"EDIT_ENCOUNTER",patientUuid:e})},goToReview:function(){return ne({type:"GO_TO_REVIEW"})},destroySession:function(){return ne({type:"DESTROY_SESSION"})},closeSession:function(){return ne({type:"CLOSE_SESSION"})}}}),[]);return(0,a.useEffect)((function(){null===(null==te?void 0:te.workflowState)&&$&&re.initializeWorkflowState({activeFormUuid:$})}),[$,null==te?void 0:te.workflowState,re]),o().createElement(j.Provider,{value:(X=A({groupVisitTypeUuid:J},te,re),Q={workflowState:null!==(M=null===(l=te.forms)||void 0===l||null===(c=l[te.activeFormUuid])||void 0===c?void 0:c.workflowState)&&void 0!==M?M:U.workflowState,activePatientUuid:null!==(D=null===(u=te.forms)||void 0===u||null===(d=u[te.activeFormUuid])||void 0===d?void 0:d.activePatientUuid)&&void 0!==D?D:U.activePatientUuid,activeEncounterUuid:null!==(G=null===(m=te.forms)||void 0===m||null===(_=m[te.activeFormUuid])||void 0===_?void 0:_.activeEncounterUuid)&&void 0!==G?G:U.activeEncounterUuid,activeVisitUuid:null!==(F=null===(f=te.forms)||void 0===f||null===(p=f[te.activeFormUuid])||void 0===p?void 0:p.activeVisitUuid)&&void 0!==F?F:U.activeVisitUuid,patientUuids:null!==(Z=null===(y=te.forms)||void 0===y||null===(v=y[te.activeFormUuid])||void 0===v?void 0:v.patientUuids)&&void 0!==Z?Z:U.patientUuids,encounters:null!==(B=null===(h=te.forms)||void 0===h||null===(g=h[te.activeFormUuid])||void 0===g?void 0:g.encounters)&&void 0!==B?B:U.encounters,activeGroupUuid:null!==(z=null===(b=te.forms)||void 0===b||null===(E=b[te.activeFormUuid])||void 0===E?void 0:E.groupUuid)&&void 0!==z?z:U.activeGroupUuid,activeGroupName:null!==(L=null===(w=te.forms)||void 0===w||null===(S=w[te.activeFormUuid])||void 0===S?void 0:S.groupName)&&void 0!==L?L:U.activeGroupName,activeGroupMembers:null!==(V=null===(O=te.forms)||void 0===O||null===(T=O[te.activeFormUuid])||void 0===T?void 0:T.groupMembers)&&void 0!==V?V:U.activeGroupMembers,activeSessionMeta:null!==(W=null===(k=te.forms)||void 0===k||null===(R=k[te.activeFormUuid])||void 0===R?void 0:R.sessionMeta)&&void 0!==W?W:U.activeSessionMeta},Q=null!=Q?Q:{},Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(Q)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(Q)).forEach((function(e){Object.defineProperty(X,e,Object.getOwnPropertyDescriptor(Q,e))})),X)},H)};const M=j,D=function(){var e=(0,a.useContext)(M),t=e.activeGroupName,n=e.activeGroupUuid,r=e.patientUuids,c=e.activeSessionMeta,u=e.unsetGroup,d=e.destroySession,m=(0,O.useTranslation)().t;return n?o().createElement("div",{className:S.container},o().createElement("div",{className:S.groupAvatar,role:"img"},o().createElement(s.zW,{size:48})),o().createElement("div",{className:S.groupInfoContent},o().createElement("div",{className:S.groupInfoRow},o().createElement("span",{className:S.groupName},t)),o().createElement("div",{className:S.groupInfoRow},o().createElement("span",null,r.length," ",m("members","members")))),(null==c?void 0:c.sessionNotes)&&o().createElement("div",{className:S.groupMeataContent},o().createElement("div",{className:"".concat(S.groupInfoRow," ").concat(S.sessionNotesLabel)},m("sessionNotes","Session Notes")),o().createElement("div",{className:S.groupInfoRow},c.sessionNotes)),o().createElement("span",{style:{flexGrow:1}}),o().createElement("span",null,o().createElement(i.Button,{kind:"ghost",onClick:function(){return u()}},m("changeGroup","Choose a different group")," ",o().createElement(l.x8,{size:20}))),o().createElement("span",null,o().createElement(i.Button,{kind:"ghost",onClick:function(){return d()}},m("cancel","Cancel")," ",o().createElement(l.x8,{size:20})))):null};var G=n(7159),F={};F.styleTagTransform=b(),F.setAttributes=y(),F.insert=f().bind(null,"head"),F.domAPI=m(),F.insertStyleElement=h(),u()(G.Z,F);const Z=G.Z&&G.Z.locals?G.Z.locals:void 0;var B=n(5443),z={};z.styleTagTransform=b(),z.setAttributes=y(),z.insert=f().bind(null,"head"),z.domAPI=m(),z.insertStyleElement=h(),u()(B.Z,z);const L=B.Z&&B.Z.locals?B.Z.locals:void 0;var V=n(68),W={};W.styleTagTransform=b(),W.setAttributes=y(),W.insert=f().bind(null,"head"),W.domAPI=m(),W.insertStyleElement=h(),u()(V.Z,W);const q=V.Z&&V.Z.locals?V.Z.locals:void 0;var K=n(9370),X={};X.styleTagTransform=b(),X.setAttributes=y(),X.insert=f().bind(null,"head"),X.domAPI=m(),X.insertStyleElement=h(),u()(K.Z,X);const Q=K.Z&&K.Z.locals?K.Z.locals:void 0;var H=n(2619),$=n(9423),Y={};Y.styleTagTransform=b(),Y.setAttributes=y(),Y.insert=f().bind(null,"head"),Y.domAPI=m(),Y.insertStyleElement=h(),u()($.Z,Y);const J=$.Z&&$.Z.locals?$.Z.locals:void 0;function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const te=function(e){var t,n,r=(t=(0,a.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];return(0,a.useEffect)((function(){var t=function(t){t.key===e&&i(!0)},n=function(t){t.key===e&&i(!1)};return window.addEventListener("keydown",t),window.addEventListener("keyup",n),function(){window.removeEventListener("keydown",t),window.removeEventListener("keyup",n)}}),[e]),o};function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(){return re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}var ae=function(e,t){switch(t.type){case"arrowUp":return{selectedIndex:Math.max(e.selectedIndex-1,0)};case"arrowDown":return{selectedIndex:Math.min(e.selectedIndex+1,t.listLength-1)};case"select":return{selectedIndex:t.payload};default:return e}},oe={behavior:"smooth",block:"nearest"},ie=function(e){var t,n,r=e.index,i=e.selectGroupAction,l=e.group,c=e.dispatch,u=e.state,d=e.totalGroups,m=e.lastRef,_=(0,a.useRef)(null),f=(0,O.useTranslation)().t;return(0,a.useEffect)((function(){u.selectedIndex===d-1?m.current.scrollIntoView(oe):u.selectedIndex===r&&_.current.scrollIntoView(oe)}),[u,r,d,m]),o().createElement("div",{onClick:function(){c({type:"select",payload:r}),i(l)},className:"".concat(J.patientSearchResult," ").concat(r===u.selectedIndex&&J.patientSearchResultSelected),role:"button","aria-pressed":r===u.selectedIndex,tabIndex:0,ref:_},o().createElement("div",{className:J.patientAvatar,role:"img"},o().createElement(s.zW,{size:24})),o().createElement("div",null,o().createElement("h2",{className:J.patientName},l.name),o().createElement("p",{className:J.demographics},null!==(n=null===(t=l.cohortMembers)||void 0===t?void 0:t.length)&&void 0!==n?n:0," ",f("members","members"),o().createElement("span",{className:J.middot},"·")," ",l.description)))},se=function(){return o().createElement("div",{className:J.patientSearchResult},o().createElement("div",{className:J.patientAvatar,role:"img"},o().createElement(i.SkeletonIcon,{style:{height:"3rem",width:"3rem"}})),o().createElement("div",null,o().createElement("h2",{className:J.patientName},o().createElement(i.SkeletonText,null)),o().createElement("span",{className:J.demographics},o().createElement(i.SkeletonIcon,null)," ",o().createElement("span",{className:J.middot},"·")," ",o().createElement(i.SkeletonIcon,null)," ",o().createElement("span",{className:J.middot},"·")," ",o().createElement(i.SkeletonIcon,null))))};const le=function(e){var t,n,r=e.groups,i=e.selectGroupAction,s=e.lastRef,l=te("ArrowUp"),c=te("ArrowDown"),u=te("Enter"),d=(t=(0,a.useReducer)(ae,{selectedIndex:0}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],_=d[1];return(0,a.useEffect)((function(){l&&_({type:"arrowUp"})}),[l]),(0,a.useEffect)((function(){c&&_({type:"arrowDown",listLength:r.length})}),[c,r.length]),(0,a.useEffect)((function(){u&&r.length&&i(r[m.selectedIndex])}),[u,i,r,m.selectedIndex]),o().createElement(o().Fragment,null,r.map((function(e,t){return o().createElement(ie,re({key:t,totalGroups:r.length},{lastRef:s,index:t,selectGroupAction:i,group:e,dispatch:_,state:m}))})))};var ce=n(958);function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(){return me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){de(e,t,n[t])}))}return e}function fe(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}var pe=function(e){var t,n,o,i,s,l,c,u,d,m,_,f,p,y,v,h,g;return t=_e({baseUrl:"/ws/rest/v1/cohortm/cohort",resultsToFetch:10},me({},e)),o=t.baseUrl,i=t.searchTerm,s=t.parameters,c=void 0===(l=t.searching)||l,u=t.resultsToFetch,d=void 0===u?10:u,m=(0,a.useCallback)((function(e,t){var n;if(t&&!(null==t||null===(n=t.data)||void 0===n?void 0:n.links.some((function(e){return"next"===e.rel}))))return null;var r="".concat(o,"?q=").concat(i),a=_e({totalCount:!0,limit:d},s);return Object.entries(a).forEach((function(e){var t,n,a=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(t,n)||fe(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],i=a[1];null!=i&&(r+="&".concat(o,"=").concat(i))})),e&&(r+="&startIndex=".concat(e*d)),r}),[o,i,s,d]),_=(0,ce.ZP)(c?m:null,r.openmrsFetch),f=_.data,p=_.isValidating,y=_.setSize,v=_.error,h=_.size,g=(0,a.useMemo)((function(){var e,t,r,a,o,i;return{data:f?(e=[]).concat.apply(e,(i=null!==(n=null==f?void 0:f.map((function(e){var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.results})))&&void 0!==n?n:[],function(e){if(Array.isArray(e))return ue(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||fe(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())):null,isLoading:!f&&!v,error:v,hasMore:!!(null==f?void 0:f.length)&&!!(null===(t=f[f.length-1].data)||void 0===t||null===(r=t.links)||void 0===r?void 0:r.some((function(e){return"next"===e.rel}))),loadingNewData:p,setPage:y,currentPage:h,totalResults:null==f||null===(a=f[0])||void 0===a||null===(o=a.data)||void 0===o?void 0:o.totalCount}}),[f,p,v,y,h]),g};const ye=function(e){var t=e.query,n=void 0===t?"":t,r=e.selectGroupAction,s=(0,O.useTranslation)().t,l=pe({searchTerm:n,searching:!!n,parameters:{v:"full"}}),c=l.isLoading,u=l.data,d=l.error,m=l.loadingNewData,_=l.setPage,f=l.hasMore,p=l.totalResults,y=(0,a.useRef)(null),v=(0,a.useRef)(null),h=(0,a.useCallback)((function(e){m||(v.current&&v.current.disconnect(),v.current=new IntersectionObserver((function(e){e[0].isIntersecting&&f&&_((function(e){return e+1}))}),{threshold:.75}),e&&v.current.observe(e))}),[m,f,_]);return d?o().createElement("div",{className:Q.searchResults},o().createElement(i.Layer,null,o().createElement(i.Tile,{className:Q.emptySearchResultsTile},o().createElement(H.N,null),o().createElement("div",null,o().createElement("p",{className:Q.errorMessage},s("error","Error")),o().createElement("p",{className:Q.errorCopy},s("errorCopy","Sorry, there was an error. You can try to reload this page, or contact the site administrator and quote the error code above.")))))):c?o().createElement("div",{className:Q.searchResultsContainer},o().createElement(se,null),o().createElement(se,null),o().createElement(se,null),o().createElement(se,null),o().createElement(se,null)):0===(null==u?void 0:u.length)?o().createElement("div",{className:Q.searchResults},o().createElement(i.Layer,null,o().createElement(i.Tile,{className:Q.emptySearchResultsTile},o().createElement(H.N,null),o().createElement("p",{className:Q.emptyResultText},s("noGroupsFoundMessage","Sorry, no groups have been found")),o().createElement("p",{className:Q.actionText},o().createElement("span",null,s("trySearchWithPatientUniqueID","Try searching with the cohort's description")),o().createElement("br",null),o().createElement("span",null,s("orLabelName","OR label name")))))):o().createElement("div",{className:Q.searchResultsContainer},o().createElement("div",{className:Q.searchResults,style:{maxHeight:"22rem"}},o().createElement("p",{className:Q.resultsText},p," ",s("searchResultsText","search result(s)")),o().createElement(le,{groups:u,selectGroupAction:r,lastRef:y}),o().createElement("div",{ref:y},o().createElement("div",{className:Q.lastItem,ref:h},f&&o().createElement(i.Loading,{withOverlay:!1,small:!0}),!f&&o().createElement("p",null,s("noMoreResults","End of search results"))))))};var ve=n(7518);function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const be=function(e){var t=e.selectGroupAction,n=(0,O.useTranslation)().t,r=ge((0,a.useState)(""),2),s=r[0],l=r[1],c=ge((0,a.useState)(!1),2),u=c[0],d=c[1];return o().createElement("div",{className:q.patientSearchBar},o().createElement("div",{className:q.searchArea},o().createElement(i.Search,{autoFocus:!0,className:q.patientSearchInput,closeButtonLabelText:n("clearSearch","Clear"),labelText:"",onChange:function(e){var t;t=e.target.value,(0,ve.Z)((function(e){d(!!t.length),l(e)}),300),l(t),t.length?d(!0):d(!1)},onClear:function(){},placeholder:n("searchForGroup","Search for a group by name"),size:"sm",value:s}),o().createElement(i.Button,{kind:"secondary",size:"sm"},n("search","Search"))),u&&o().createElement("div",{className:q.floatingSearchResultsContainer},o().createElement(ye,{query:s,selectGroupAction:function(e){t(e),d(!1),l("")}})))};var Ee=n(8808),we=n(8115),Se=n(8034),Oe={};Oe.styleTagTransform=b(),Oe.setAttributes=y(),Oe.insert=f().bind(null,"head"),Oe.domAPI=m(),Oe.insertStyleElement=h(),u()(Se.Z,Oe);const xe=Se.Z&&Se.Z.locals?Se.Z.locals:void 0;var Ne=n(282);function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(){return Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ce(e,t,n[t])}))}return e}function Ae(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||Ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){if(e){if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}var je=o().memo(r.ExtensionSlot),Re=function(e){var t=e.patient,n=e.removePatient,r=(0,O.useTranslation)().t;return o().createElement("li",{key:t.uuid,className:xe.patientRow},o().createElement("span",null,o().createElement(i.Button,{kind:"tertiary",size:"sm",hasIconOnly:!0,onClick:function(){return n(t.uuid)},renderIcon:Ee.ZN,tooltipAlignment:"start",tooltipPosition:"top",iconDescription:r("remove","Remove")})),o().createElement("span",{className:xe.patientName},null==t?void 0:t.display))},Me=function(e){var t=e.name,n=e.setName,r=e.patientList,a=e.updatePatientList,s=e.errors,l=e.validate,c=e.removePatient,u=(0,O.useTranslation)().t;return o().createElement("div",{style:{display:"flex",flexDirection:"column",rowGap:"1rem"}},o().createElement(i.TextInput,{labelText:u("newGroupName","New Group Name"),value:t,onChange:function(e){return n(e.target.value)},onBlur:function(){return l("name")}}),(null==s?void 0:s.name)&&o().createElement("p",{className:xe.formError},"required"===s.name?u("groupNameError","Please enter a group name."):s.name),o().createElement(i.FormLabel,null,r.length," ",u("patientsInGroup","Patients in group")),(null==s?void 0:s.patientList)&&o().createElement("p",{className:xe.formError},u("noPatientError","Please enter at least one patient.")),!(null==s?void 0:s.patientList)&&o().createElement("ul",{className:xe.patientList},null==r?void 0:r.map((function(e,t){return o().createElement(Re,{patient:e,removePatient:c,key:t})}))),o().createElement(i.FormLabel,null,"Search for patients to add to group"),o().createElement("div",{className:xe.searchBar},o().createElement(je,{extensionSlotName:"patient-search-bar-slot",state:{selectPatientAction:a,buttonProps:{kind:"secondary"}}})))};const De=function(){var e=(0,a.useContext)(M).setGroup,t=(0,O.useTranslation)().t,n=Ie((0,a.useState)(!1),2),s=n[0],l=n[1],c=Ie((0,a.useState)({}),2),u=c[0],d=c[1],m=Ie((0,a.useState)(""),2),_=m[0],f=m[1],p=Ie((0,a.useState)([]),2),y=p[0],v=p[1],h=(0,Ne.zg)(),g=h.post,b=h.result,E=h.isPosting,w=h.error,S=(0,a.useCallback)((function(e){return v((function(t){return t.filter((function(t){return t.uuid!==e}))}))}),[v]),x=(0,a.useCallback)((function(e){var t=!0;return e?(t="name"===e?!!_:!!y.length,d((function(n){return Ae(ke({},n),Ce({},e,t?null:"required"))}))):(_?d((function(e){return Ae(ke({},e),{name:null})})):(d((function(e){return Ae(ke({},e),{name:"required"})})),t=!1),y.length?d((function(e){return Ae(ke({},e),{patientList:null})})):(d((function(e){return Ae(ke({},e),{patientList:"required"})})),t=!1)),t}),[_,y.length]),N=(0,a.useCallback)((function(e){v((function(t){return t.find((function(t){return t.uuid===e.uuid}))?t:(n=t,function(e){if(Array.isArray(e))return Te(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||Ue(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([e]);var n})),d((function(e){return Ae(ke({},e),{patientList:null})}))}),[v]);return(0,a.useEffect)((function(){b&&e(Ae(ke({},b),{cohortMembers:y.map((function(e){return{patient:{uuid:e.uuid}}}))}))}),[b,e,y]),(0,a.useEffect)((function(){var e;w&&((0,r.showToast)({kind:"error",title:t("postError","POST Error"),description:null!==(e=w.message)&&void 0!==e?e:t("unknownPostError","An unknown error occured while saving data")}),w.fieldErrors&&d(Object.fromEntries(Object.entries(w.fieldErrors).map((function(e){var t,n=Ie(e,2),r=n[0],a=n[1];return[r,null==a||null===(t=a[0])||void 0===t?void 0:t.message]})))))}),[w,t]),o().createElement("div",{className:xe.modal},o().createElement(i.Button,{onClick:function(){return l(!0)},renderIcon:we.mm,iconDescription:"Add"},t("createNewGroup","Create New Group")),o().createElement(i.ComposedModal,{open:s,onClose:function(){return l(!1)}},o().createElement(i.ModalHeader,null,t("createNewGroup","Create New Group")),o().createElement(i.ModalBody,null,b?o().createElement("p",null,"Group saved succesfully"):E?o().createElement("div",{className:xe.loading},o().createElement(i.Loading,{withOverlay:!1}),o().createElement("span",null,"Saving new group...")):o().createElement(Me,Pe({},{name:_,setName:f,patientList:y,updatePatientList:N,errors:u,validate:x,removePatient:S}))),o().createElement(i.ModalFooter,null,o().createElement(i.Button,{kind:"secondary",onClick:function(){l(!1)},disabled:E},t("cancel","Cancel")),o().createElement(i.Button,{kind:"primary",onClick:function(){x()&&g({name:_,cohortMembers:y.map((function(e){return{patient:e.uuid}}))})},disabled:E},t("createGroup","Create Group")))))},Ge=function(){var e=(0,O.useTranslation)().t,t=(0,a.useContext)(M),n=t.activeGroupUuid,r=t.setGroup,s=t.destroySession;return n?null:o().createElement("div",{className:L.searchHeaderContainer},o().createElement("span",{className:L.padded},e("findGroup","Find group"),":"),o().createElement("span",{className:L.searchBarWrapper},o().createElement(be,{selectGroupAction:function(e){r(e)}})),o().createElement("span",{className:L.padded},e("or","or")),o().createElement("span",null,o().createElement(De,null)),o().createElement("span",{style:{flexGrow:1}}),o().createElement("span",null,o().createElement(i.Button,{kind:"ghost",onClick:function(){s()}},e("cancel","Cancel")," ",o().createElement(l.x8,{size:20}))))};var Fe=n(7536),Ze=n(4211);function Be(){return Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be.apply(this,arguments)}var ze=function(e){var t,n,r,s,l,c,u,d=e.patientUuid,m=(0,Ne.Eu)(d),_=(0,a.useContext)(M),f=_.patientUuids,p=_.addPatientUuid,y=_.removePatientUuid,v=null==m||null===(t=m.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r[0],h=null==m||null===(s=m.name)||void 0===s||null===(l=s[0])||void 0===l?void 0:l.family,g=null==m||null===(c=m.identifier)||void 0===c||null===(u=c[0])||void 0===u?void 0:u.value;return m?o().createElement(i.TableRow,null,o().createElement(i.TableCell,null,m.display||m.displayName||[v,h].join(" ")),o().createElement(i.TableCell,null,g),o().createElement(i.TableCell,null,o().createElement(i.Checkbox,{checked:f.includes(d),labelText:d,hideLabel:!0,id:"".concat(g,"-attendance-checkbox"),onChange:function(e,t){t.checked?p(d):y(d)}}))):o().createElement(i.TableRow,null,o().createElement(i.TableCell,null,o().createElement(i.SkeletonText,null)),o().createElement(i.TableCell,null,o().createElement(i.SkeletonText,null)),o().createElement(i.TableCell,null,o().createElement(i.Checkbox,{diabled:!0})))};const Le=function(){var e=(0,O.useTranslation)().t,t=(0,a.useContext)(M),n=t.activeGroupUuid,r=t.activeGroupMembers,s=[e("name","Name"),e("identifier","Patient ID"),e("patientIsPresent","Patient is present")];return n?o().createElement(i.Table,null,o().createElement(i.TableHead,null,o().createElement(i.TableRow,null,s.map((function(e,t){return o().createElement(i.TableHeader,{key:t},e)})))),o().createElement(i.TableBody,null,r.map((function(e,t){return o().createElement(ze,Be({},{patientUuid:e},{key:t}))})))):o().createElement("div",null,e("selectGroupFirst","Please select a group first"))};function Ve(){return Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}const We=function(){var e=(0,O.useTranslation)().t,t=(0,Fe.Gc)(),n=t.register,r=t.formState.errors,a=t.control;return o().createElement("div",{className:Z.formSection},o().createElement("h4",null,e("sessionDetails","1. Session details")),o().createElement("div",null,o().createElement("p",null,e("allFieldsRequired","All fields are required unless marked optional"))),o().createElement(i.Layer,null,o().createElement(i.Tile,{className:Z.formSectionTile},o().createElement(i.Layer,null,o().createElement("div",{style:{display:"flex",flexDirection:"column",rowGap:"1.5rem"}},o().createElement(i.TextInput,Ve({id:"text",type:"text",labelText:e("sessionName","Session Name")},n("sessionName",{required:!0}),{invalid:r.sessionName,invalidText:"This field is required"})),o().createElement(i.TextInput,Ve({id:"text",type:"text",labelText:e("practitionerName","Practitioner Name")},n("practitionerName",{required:!0}),{invalid:r.practitionerName,invalidText:"This field is required"})),o().createElement(Fe.Qr,{name:"sessionDate",control:a,rules:{required:!0},render:function(t){var n=t.field;return o().createElement(i.DatePicker,Ve({datePickerType:"single",size:"md",maxDate:new Date},n),o().createElement(i.DatePickerInput,{id:"session-date",labelText:e("sessionDate","Session Date"),placeholder:"mm/dd/yyyy",size:"md",invalid:r.sessionDate,invalidText:"This field is required"}))}}),o().createElement(i.TextArea,Ve({id:"text",type:"text",labelText:e("sessionNotes","Session Notes")},n("sessionNotes",{required:!0}),{invalid:r.sessionNotes,invalidText:"This field is required"})))))),o().createElement("h4",null,e("sessionParticipants","2. Session participants")),o().createElement("div",null,o().createElement("p",null,e("markAbsentPatients","The patients in this group. Patients that are not present in the session should be marked as absent."))),o().createElement(i.Layer,null,o().createElement(i.Tile,{className:Z.formSectionTile},o().createElement(i.Layer,null,o().createElement("div",{style:{display:"flex",flexDirection:"column",rowGap:"1.5rem"}},o().createElement(Le,null))))))};function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(){return Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xe.apply(this,arguments)}var Qe=function(){var e,t,n=(0,O.useTranslation)().t,r=(0,a.useContext)(M),s=r.workflowState,l=r.patientUuids,c=(e=(0,a.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],d=c[1];return"NEW_GROUP_SESSION"!==s?null:o().createElement(o().Fragment,null,o().createElement("div",{className:Z.rightPanelActionButtons},o().createElement(i.Button,{kind:"secondary",type:"submit",disabled:!l.length},n("createNewSession","Create New Session")),o().createElement(i.Button,{kind:"tertiary",onClick:function(){d(!0)}},n("cancel","Cancel"))),o().createElement(Ze.Z,{open:u,setOpen:d,context:r}))},He=function(){var e=(0,O.useTranslation)().t,t=(0,Fe.Gc)(),n=t.register,r=t.formState.errors,i=t.setValue,s=(0,a.useContext)(M).activeGroupUuid;return(0,a.useEffect)((function(){s&&i("groupUuid",s)}),[s,i]),o().createElement(o().Fragment,null,o().createElement("input",Xe({hidden:!0},n("groupUuid",{value:s,required:e("chooseGroupError","Please choose a group.")}))),r.groupUuid&&!s&&o().createElement("div",{className:Z.formError},r.groupUuid.message))};const $e=function(){var e=(0,O.useTranslation)().t,t=(0,a.useContext)(M),n=t.setSessionMeta,r=t.workflowState,i=(0,Fe.cI)();return"NEW_GROUP_SESSION"!==r?null:o().createElement(Fe.RV,Xe({},i),o().createElement("form",{onSubmit:i.handleSubmit((function(e){var t,r,a=e.sessionDate,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["sessionDate"]);n((t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ke(e,t,n[t])}))}return e}({},o),r=null!=(r={sessionDate:a[0]})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})),t))}))},o().createElement("div",{className:Z.workspace},o().createElement("div",{className:Z.formMainContent},o().createElement("div",{className:Z.formContainer},o().createElement(We,null)),o().createElement("div",{className:Z.rightPanel},o().createElement("h4",null,e("newGroupSession","New Group Session")),o().createElement(He,null),o().createElement("hr",{style:{width:"100%"}}),o().createElement(Qe,null))))))};var Ye=n(1671),Je=n(611);function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nt=n(2223);function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(){return ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ot.apply(this,arguments)}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){at(e,t,n[t])}))}return e}function st(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ct=(0,r.getGlobalStore)("ampath-form-state"),ut=function(){var e=(0,a.useContext)(M),t=e.activeFormUuid,n=e.validateForNext,s=e.patientUuids,l=e.activePatientUuid,c=e.workflowState,u="ready"!==(0,r.useStore)(ct)[t]||"EDIT_FORM"!==c,d=lt((0,a.useState)(!1),2),m=d[0],_=d[1],f=lt((0,a.useState)(!1),2),p=f[0],y=f[1],v=(0,O.useTranslation)().t,h=l===s[s.length-1];return o().createElement(o().Fragment,null,o().createElement("div",{className:Z.rightPanelActionButtons},o().createElement(i.Button,{kind:"primary",onClick:function(){"EDIT_FORM"===c&&n()},disabled:u},h?v("saveForm","Save Form"):v("nextPatient","Next Patient")),o().createElement(i.Button,{kind:"secondary",onClick:function(){return y(!0)}},v("saveAndComplete","Save & Complete")),o().createElement(i.Button,{kind:"tertiary",onClick:function(){return _(!0)}},v("cancel","Cancel"))),o().createElement(Ze.Z,{open:m,setOpen:_,context:e}),o().createElement(nt.Z,{open:p,setOpen:y,context:e,validateFirst:!0}))};const dt=function(){var e=(0,r.useConfig)().groupSessionConcepts,t=(0,O.useTranslation)().t,n=(0,a.useContext)(M),i=n.patientUuids,s=n.activePatientUuid,l=n.editEncounter,c=n.encounters,u=n.activeEncounterUuid,d=n.activeVisitUuid,m=n.activeFormUuid,_=n.saveEncounter,f=n.activeSessionMeta,p=n.groupVisitTypeUuid,y=n.updateVisitUuid,v=n.submitForNext,h=n.workflowState,g=n.submitForComplete,b=function(e){var t=e.showSuccessNotification,n=void 0===t||t,o=e.showErrorNotification,i=void 0===o||o,s=(0,O.useTranslation)().t,l=tt((0,a.useState)(!1),2),c=l[0],u=l[1],d=tt((0,a.useState)(null),2),m=d[0],_=d[1],f=tt((0,a.useState)(null),2),p=f[0],y=f[1],v=(0,a.useCallback)((function(e){var t,a;u(!1),y(!1),_(e),n&&(0,r.showToast)({critical:!0,kind:"success",description:s("visitStartedSuccessfully","".concat(null==e||null===(t=e.data)||void 0===t||null===(a=t.visitType)||void 0===a?void 0:a.display," started successfully")),title:s("visitStarted","Visit started")})}),[s,n]),h=(0,a.useCallback)((function(e){u(!1),_(!1),y(e),i&&(0,r.showNotification)({title:s("startVisitError","Error starting visit"),kind:"error",critical:!0,description:null==e?void 0:e.message})}),[s,i]);return{saveVisit:(0,a.useCallback)((function(e){var t={patient:e.patientUuid,startDatetime:e.startDatetime,stopDatetime:e.stopDatetime,visitType:e.visitType};(0,r.openmrsFetch)("/ws/rest/v1/visit",{method:"POST",body:t,headers:{"Content-Type":"application/json"}}).then(v).catch(h)}),[h,v]),success:m,error:p,isSubmitting:c}}({showSuccessNotification:!1,showErrorNotification:!0}),E=b.saveVisit,w=b.success,S=(0,a.useCallback)((function(e){if(e&&!d){var t=new Date(f.sessionDate);t.setHours(t.getHours()+1),E({patientUuid:s,startDatetime:f.sessionDate,stopDatetime:t.toISOString(),visitType:p})}else e&&d&&v()}),[s,f,p,E,d,v]);(0,a.useEffect)((function(){if(w){var e,t=null==w||null===(e=w.data)||void 0===e?void 0:e.uuid;d||y(t),"VALIDATE_FOR_NEXT"===h&&v(),"VALIDATE_FOR_COMPLETE"===h&&g()}}),[w,y,v,h,d,g]);var x=(0,a.useCallback)((function(t){var n=new Date(f.sessionDate);n.setMinutes(n.getMinutes()+1),t.obs.forEach((function(e,r){var a;t.obs[r]=st(it({},e),{groupMembers:null===(a=e.groupMembers)||void 0===a?void 0:a.map((function(e){return st(it({},e),{obsDatetime:n.toISOString()})})),obsDatetime:n.toISOString()})})),Object.entries(e).forEach((function(e){var n=lt(e,2),r=n[0],a=n[1];t.obs.push({concept:a,value:null==f?void 0:f[r]})})),t.visit=d,t.encounterDatetime=n.toISOString()}),[d,f,e]),N=(0,a.useCallback)((function(e){e&&e.uuid&&_(e.uuid)}),[_]);return"NEW_GROUP_SESSION"===h?null:o().createElement("div",{className:Z.workspace},o().createElement("div",{className:Z.formMainContent},o().createElement("div",{className:Z.formContainer},o().createElement(Je.Z,ot({patientUuid:s,encounterUuid:u},{formUuid:m,handlePostResponse:N,handleOnValidate:S,handleEncounterCreate:x}))),o().createElement("div",{className:Z.rightPanel},o().createElement("h4",null,t("formsFilled","Forms filled")),o().createElement("div",{className:Z.patientCardsSection},null==i?void 0:i.map((function(e){return o().createElement(Ye.Z,ot({key:e},{patientUuid:e,activePatientUuid:s,editEncounter:l,encounters:c}))}))),o().createElement(ut,null))))},mt=function(){return o().createElement(R,null,o().createElement("div",{className:Z.breadcrumbsContainer},o().createElement(r.ExtensionSlot,{extensionSlotName:"breadcrumbs-slot"})),o().createElement(Ge,null),o().createElement(D,null),o().createElement("div",{className:Z.workspaceWrapper},o().createElement($e,null),o().createElement(dt,null)))}},1671:(e,t,n)=>{n.d(t,{Z:()=>x});var r=n(3133),a=n(1409),o=n(4422),i=n(1672),s=n.n(i),l=n(4439),c=n(3379),u=n.n(c),d=n(7795),m=n.n(d),_=n(569),f=n.n(_),p=n(3565),y=n.n(p),v=n(9216),h=n.n(v),g=n(4589),b=n.n(g),E=n(7018),w={};w.styleTagTransform=b(),w.setAttributes=y(),w.insert=f().bind(null,"head"),w.domAPI=m(),w.insertStyleElement=h(),u()(E.Z,w);const S=E.Z&&E.Z.locals?E.Z.locals:void 0;var O=function(e){var t=e.onClick,n=void 0===t?function(){}:t,r=e.active,a=e.children;return s().createElement("div",{onClick:n,className:"".concat(S.cardContainer," ").concat(!r&&S.inactiveCard),role:"button",tabIndex:0},a)};const x=function(e){var t,n,i,c,u,d,m,_=e.patientUuid,f=e.activePatientUuid,p=e.editEncounter,y=e.encounters,v=(0,l.Z)(_),h=null==v||null===(t=v.name)||void 0===t||null===(n=t[0])||void 0===n||null===(i=n.given)||void 0===i?void 0:i[0],g=null==v||null===(c=v.name)||void 0===c||null===(u=c[0])||void 0===u?void 0:u.family,b=null==v||null===(d=v.identifier)||void 0===d||null===(m=d[0])||void 0===m?void 0:m.value;if(!v)return s().createElement(O,{active:!0},s().createElement(o.SkeletonText,{className:S.skeletonText}));var E=f===_;return s().createElement(O,{onClick:E?function(){}:function(){return p(_)},active:E},s().createElement("div",{className:S.patientInfo},s().createElement("div",{className:S.identifier},b),s().createElement("div",{className:"".concat(S.displayName," ").concat(E&&S.activeDisplayName)},h," ",g)),s().createElement("div",null,_ in y?s().createElement(r.Wz,{size:16,className:S.statusSuccess}):s().createElement(a.lw,{size:16,className:S.statusWarning})))}},8034:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,'.-esm-fast-data-entry__styles__modal___xdlE9 .cds--modal{z-index:90}.-esm-fast-data-entry__styles__modal___xdlE9 .cds--modal-container{height:600px}.-esm-fast-data-entry__styles__modal___xdlE9 .cds--modal-content{height:100%}.-esm-fast-data-entry__styles__searchBar___eK\\+Us>div>div>div{width:100%}.-esm-fast-data-entry__styles__formError___0VO-V{color:red}.-esm-fast-data-entry__styles__patientRow___tNveQ{display:flex;align-items:center;width:"100%"}.-esm-fast-data-entry__styles__patientRow___tNveQ:nth-child(odd){background-color:#e0e0e0}.-esm-fast-data-entry__styles__patientName___1dVPc{flex-grow:1;padding-left:1rem}.-esm-fast-data-entry__styles__loading___Iz1NP{display:flex;height:100%;flex-direction:column;justify-content:center;align-items:center;row-gap:1rem}',""]),a.locals={modal:"-esm-fast-data-entry__styles__modal___xdlE9",searchBar:"-esm-fast-data-entry__styles__searchBar___eK+Us",formError:"-esm-fast-data-entry__styles__formError___0VO-V",patientRow:"-esm-fast-data-entry__styles__patientRow___tNveQ",patientName:"-esm-fast-data-entry__styles__patientName___1dVPc",loading:"-esm-fast-data-entry__styles__loading___Iz1NP"};const o=a},8914:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-fast-data-entry__styles__container___9Vn3g{height:5rem;display:flex;align-items:center;background-color:#fff;border-top:.0125rem solid #e0e0e0;border-bottom:.0125rem solid #e0e0e0;padding:0 1rem}.-esm-fast-data-entry__styles__photoPlaceholder___mRAQO{height:3rem;width:3rem}.-esm-fast-data-entry__styles__groupAvatar___qCLlZ{width:3rem;height:3rem;margin:.5rem 1rem .5rem 0;border-radius:1px}.-esm-fast-data-entry__styles__groupName___XRVMQ{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);font-weight:600}.-esm-fast-data-entry__styles__groupInfoContent___GMqli{margin-left:1rem;margin-right:4rem}.-esm-fast-data-entry__styles__groupInfoRow___WXABV{display:flex;align-items:center;font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;column-gap:.8rem}.-esm-fast-data-entry__styles__groupInfoRow___WXABV>button{min-height:2rem}.-esm-fast-data-entry__styles__sessionNotesLabel___eE69Z{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-bottom:.125rem}.-esm-fast-data-entry__styles__groupEditBtn___dagwZ{color:#161616;margin:.5rem}.-esm-fast-data-entry__styles__groupMetaContent___OMT76{flex-grow:1}",""]),a.locals={container:"-esm-fast-data-entry__styles__container___9Vn3g",photoPlaceholder:"-esm-fast-data-entry__styles__photoPlaceholder___mRAQO",groupAvatar:"-esm-fast-data-entry__styles__groupAvatar___qCLlZ",groupName:"-esm-fast-data-entry__styles__groupName___XRVMQ",groupInfoContent:"-esm-fast-data-entry__styles__groupInfoContent___GMqli",groupInfoRow:"-esm-fast-data-entry__styles__groupInfoRow___WXABV",sessionNotesLabel:"-esm-fast-data-entry__styles__sessionNotesLabel___eE69Z",groupEditBtn:"-esm-fast-data-entry__styles__groupEditBtn___dagwZ",groupMetaContent:"-esm-fast-data-entry__styles__groupMetaContent___OMT76"};const o=a},5443:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-fast-data-entry__styles__searchHeaderContainer___3ZMXh{height:5rem;display:flex;align-items:center;background-color:#fff;border-top:.0125rem solid #e0e0e0;border-bottom:.0125rem solid #e0e0e0;padding:0 1rem}.-esm-fast-data-entry__styles__searchBarWrapper___dRAl4{min-width:35rem}.-esm-fast-data-entry__styles__padded___8E3A9{padding:1rem}",""]),a.locals={searchHeaderContainer:"-esm-fast-data-entry__styles__searchHeaderContainer___3ZMXh",searchBarWrapper:"-esm-fast-data-entry__styles__searchBarWrapper___dRAl4",padded:"-esm-fast-data-entry__styles__padded___8E3A9"};const o=a},9423:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-fast-data-entry__compact-group-result__patientSearchResult___i7AGA{text-decoration:none;display:flex;align-items:center;border-bottom:1px solid #e0e0e0;padding:0 .75rem}.-esm-fast-data-entry__compact-group-result__patientSearchResult___i7AGA:hover,.-esm-fast-data-entry__compact-group-result__patientSearchResult___i7AGA:focus{background-color:#f4f4f4}.-esm-fast-data-entry__compact-group-result__patientSearchResultSelected___NKBck{background-color:#e0e0e0}.-esm-fast-data-entry__compact-group-result__patientBanner___hohFI{display:flex}.-esm-fast-data-entry__compact-group-result__patientName___Bm1nd{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-fast-data-entry__compact-group-result__patientAvatar___ekNKL{width:3rem;height:3rem;margin:.5rem 1rem .5rem 0;border-radius:1px}.-esm-fast-data-entry__compact-group-result__patientInfo___aPztL{width:100%;display:flex;flex-flow:column wrap;margin:1rem;cursor:pointer}.-esm-fast-data-entry__compact-group-result__demographics___ZX2gk{margin-top:.5rem;font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252}.-esm-fast-data-entry__compact-group-result__identifiers___nO-LM{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#8d8d8d}.-esm-fast-data-entry__compact-group-result__actionsContainer___GtQQe{padding-top:.5rem;margin-top:1rem}.-esm-fast-data-entry__compact-group-result__middot___K0huB{margin:0 .5rem}",""]),a.locals={patientSearchResult:"-esm-fast-data-entry__compact-group-result__patientSearchResult___i7AGA",patientSearchResultSelected:"-esm-fast-data-entry__compact-group-result__patientSearchResultSelected___NKBck",patientBanner:"-esm-fast-data-entry__compact-group-result__patientBanner___hohFI",patientName:"-esm-fast-data-entry__compact-group-result__patientName___Bm1nd",patientAvatar:"-esm-fast-data-entry__compact-group-result__patientAvatar___ekNKL",patientInfo:"-esm-fast-data-entry__compact-group-result__patientInfo___aPztL",demographics:"-esm-fast-data-entry__compact-group-result__demographics___ZX2gk",identifiers:"-esm-fast-data-entry__compact-group-result__identifiers___nO-LM",actionsContainer:"-esm-fast-data-entry__compact-group-result__actionsContainer___GtQQe",middot:"-esm-fast-data-entry__compact-group-result__middot___K0huB"};const o=a},68:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-fast-data-entry__compact-group-search__patientSearchBar___DDD\\+\\+{width:50vw;position:relative}.-esm-fast-data-entry__compact-group-search__floatingSearchResultsContainer___Qw-70{position:absolute;overflow-y:auto;box-shadow:0 .5rem 1rem #e0e0e0;z-index:99;border:0 1px 1px 1px solid #e0e0e0;width:100%;background-color:#fff}.-esm-fast-data-entry__compact-group-search__searchArea___\\+uJny{width:inherit;display:flex;justify-content:center;align-items:center;border:1px solid #8d8d8d}.-esm-fast-data-entry__compact-group-search__patientSearchInput___FLVTr{border:none}.-esm-fast-data-entry__compact-group-search__patientSearchInput___FLVTr input:focus{outline:1px solid 1px solid #ff832b}",""]),a.locals={patientSearchBar:"-esm-fast-data-entry__compact-group-search__patientSearchBar___DDD++",floatingSearchResultsContainer:"-esm-fast-data-entry__compact-group-search__floatingSearchResultsContainer___Qw-70",searchArea:"-esm-fast-data-entry__compact-group-search__searchArea___+uJny",patientSearchInput:"-esm-fast-data-entry__compact-group-search__patientSearchInput___FLVTr"};const o=a},9370:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-fast-data-entry__group-search__searchResultsContainer___o8N-5{width:100%;background-color:#fff}.-esm-fast-data-entry__group-search__searchResultsContainer___o8N-5 a{text-decoration:none;font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0);color:#525252;margin:0rem}.omrs-breakpoint-lt-desktop .-esm-fast-data-entry__group-search__searchResultsContainer___o8N-5{top:6.25rem}.omrs-breakpoint-gt-tablet .-esm-fast-data-entry__group-search__searchResultsContainer___o8N-5{padding:0;top:3rem}.-esm-fast-data-entry__group-search__searchResults___waz\\+y{width:100%}.-esm-fast-data-entry__group-search__searchTerm___nyCGc{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin-top:.375rem}.-esm-fast-data-entry__group-search__resultsText___tut0N{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252;line-height:1rem;margin:.5rem 1rem}.-esm-fast-data-entry__group-search__helperText___DxXca{color:var(--omrs-color-ink-medium-contrast);margin-left:2.375rem}.-esm-fast-data-entry__group-search__emptyResultText___mWUlV{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:1rem;margin-bottom:.313rem}.-esm-fast-data-entry__group-search__actionText___pfkSN{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px);color:#525252}.-esm-fast-data-entry__group-search__pagination___RfffN{display:flex;justify-content:space-evenly;padding:4.688rem 0 1.5rem}.-esm-fast-data-entry__group-search__emptySearchResultsTile___JGNyK{text-align:center;margin-top:1rem;padding:3rem 0rem}.omrs-breakpoint-gt-tablet .-esm-fast-data-entry__group-search__emptySearchResultsTile___JGNyK{margin:1rem}.-esm-fast-data-entry__group-search__errorMessage___c4zp4{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-top:2.25rem;margin-bottom:.5rem}.-esm-fast-data-entry__group-search__errorCopy___EjmNT{margin-bottom:.5rem;font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px);color:#525252}.-esm-fast-data-entry__group-search__lastItem___48nGL{padding:1rem;display:flex;justify-content:center;align-items:center}",""]),a.locals={searchResultsContainer:"-esm-fast-data-entry__group-search__searchResultsContainer___o8N-5",searchResults:"-esm-fast-data-entry__group-search__searchResults___waz+y",searchTerm:"-esm-fast-data-entry__group-search__searchTerm___nyCGc",resultsText:"-esm-fast-data-entry__group-search__resultsText___tut0N",helperText:"-esm-fast-data-entry__group-search__helperText___DxXca",emptyResultText:"-esm-fast-data-entry__group-search__emptyResultText___mWUlV",actionText:"-esm-fast-data-entry__group-search__actionText___pfkSN",pagination:"-esm-fast-data-entry__group-search__pagination___RfffN",emptySearchResultsTile:"-esm-fast-data-entry__group-search__emptySearchResultsTile___JGNyK",errorMessage:"-esm-fast-data-entry__group-search__errorMessage___c4zp4",errorCopy:"-esm-fast-data-entry__group-search__errorCopy___EjmNT",lastItem:"-esm-fast-data-entry__group-search__lastItem___48nGL"};const o=a},7159:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-fast-data-entry__styles__breadcrumbsContainer___sgb6T>div>div>nav{background-color:#fff;padding:.75rem 1rem;height:2.5rem}.-esm-fast-data-entry__styles__workspaceWrapper___KeE2D{display:flex;justify-content:center}.-esm-fast-data-entry__styles__workspace___e3uV4{width:1100px}.omrs-breakpoint-lt-large-desktop .-esm-fast-data-entry__styles__workspace___e3uV4{width:1000px}.omrs-breakpoint-lt-small-desktop .-esm-fast-data-entry__styles__workspace___e3uV4{width:100vw;padding:0 .75rem}.-esm-fast-data-entry__styles__selectPatientMessage___kmuRr{font-size:var(--cds-productive-heading-03-font-size, 1.25rem);font-weight:var(--cds-productive-heading-03-font-weight, 400);line-height:var(--cds-productive-heading-03-line-height, 1.4);letter-spacing:var(--cds-productive-heading-03-letter-spacing, 0);margin:2rem;text-align:center}.-esm-fast-data-entry__styles__formMainContent___l0zj8{display:flex;text-align:center;margin-top:1rem;column-gap:1rem}.-esm-fast-data-entry__styles__formContainer___cM3g8{flex-grow:1;max-height:calc(100vh - 14rem);overflow-y:scroll}.-esm-fast-data-entry__styles__formContainer___cM3g8 .cds--form-item .question-area{max-width:100%}.-esm-fast-data-entry__styles__rightPanel___iBUBP{width:13rem;text-align:left;overflow-y:scroll;display:flex;flex-direction:column;row-gap:1rem}.-esm-fast-data-entry__styles__patientCardsSection___2IKZo{margin:1rem 0;border-bottom:1px solid #f4f4f4}.-esm-fast-data-entry__styles__rightPanelActionButtons___P38yA{display:flex;flex-direction:column;row-gap:.5rem}.-esm-fast-data-entry__styles__rightPanelActionButtons___P38yA button{width:100%;text-decoration:"none"}.-esm-fast-data-entry__styles__formSection___XvWDb{display:flex;flex-direction:column;row-gap:1rem;justify-content:flex-start;align-items:flex-start;text-align:left}.-esm-fast-data-entry__styles__formSectionTile___Kv\\+-Q{width:500px}.-esm-fast-data-entry__styles__formError___ljPPl{font-size:var(--cds-helper-text-02-font-size, carbon--type-scale(2));font-weight:var(--cds-helper-text-02-font-weight, carbon--font-weight("regular"));line-height:var(--cds-helper-text-02-line-height, 1.28572);letter-spacing:var(--cds-helper-text-02-letter-spacing, 0.16px);color:#da1e28}',""]),a.locals={breadcrumbsContainer:"-esm-fast-data-entry__styles__breadcrumbsContainer___sgb6T",workspaceWrapper:"-esm-fast-data-entry__styles__workspaceWrapper___KeE2D",workspace:"-esm-fast-data-entry__styles__workspace___e3uV4",selectPatientMessage:"-esm-fast-data-entry__styles__selectPatientMessage___kmuRr",formMainContent:"-esm-fast-data-entry__styles__formMainContent___l0zj8",formContainer:"-esm-fast-data-entry__styles__formContainer___cM3g8",rightPanel:"-esm-fast-data-entry__styles__rightPanel___iBUBP",patientCardsSection:"-esm-fast-data-entry__styles__patientCardsSection___2IKZo",rightPanelActionButtons:"-esm-fast-data-entry__styles__rightPanelActionButtons___P38yA",formSection:"-esm-fast-data-entry__styles__formSection___XvWDb",formSectionTile:"-esm-fast-data-entry__styles__formSectionTile___Kv+-Q",formError:"-esm-fast-data-entry__styles__formError___ljPPl"};const o=a},7018:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".-esm-fast-data-entry__styles__cardContainer___4G2XB{padding:1rem;display:flex}.-esm-fast-data-entry__styles__skeletonText___OTsMw{max-width:8rem}.-esm-fast-data-entry__styles__identifier___QX2jh{font-weight:300;font-size:.8rem;line-height:.9rem}.-esm-fast-data-entry__styles__displayName___LPMSY{font-weight:bold}.-esm-fast-data-entry__styles__activeDisplayName___38O3T{color:#4589ff}.-esm-fast-data-entry__styles__inactiveCard___VF8Fq:hover{background-color:#c6c6c6}.-esm-fast-data-entry__styles__patientInfo___1U6KC{flex-grow:1}.-esm-fast-data-entry__styles__statusSuccess___aKUxu{fill:#198038}.-esm-fast-data-entry__styles__statusWarning___F1leF{fill:#d2a106}",""]),a.locals={cardContainer:"-esm-fast-data-entry__styles__cardContainer___4G2XB",skeletonText:"-esm-fast-data-entry__styles__skeletonText___OTsMw",identifier:"-esm-fast-data-entry__styles__identifier___QX2jh",displayName:"-esm-fast-data-entry__styles__displayName___LPMSY",activeDisplayName:"-esm-fast-data-entry__styles__activeDisplayName___38O3T",inactiveCard:"-esm-fast-data-entry__styles__inactiveCard___VF8Fq",patientInfo:"-esm-fast-data-entry__styles__patientInfo___1U6KC",statusSuccess:"-esm-fast-data-entry__styles__statusSuccess___aKUxu",statusWarning:"-esm-fast-data-entry__styles__statusWarning___F1leF"};const o=a}}]);