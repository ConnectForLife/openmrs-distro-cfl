"use strict";(self.webpackChunk_openmrs_esm_patient_vitals_app=self.webpackChunk_openmrs_esm_patient_vitals_app||[]).push([[437],{8056:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(9601),r=n.n(i),o=n(2609),a=n.n(o)()(r());a.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{padding:0;border:0;margin:0;font:inherit;font-size:100%;vertical-align:baseline}button,select,input,textarea{border-radius:0;font-family:inherit}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:\"\"}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}code{font-family:'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-patient-vitals__vitals-biometrics-form-component__skeleton___WcYcf{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{opacity:.3;transform:scaleX(0);transform-origin:left}}.-esm-patient-vitals__vitals-biometrics-form-component__productiveHeading03___kQ1JM,.-esm-patient-vitals__vitals-biometrics-form-component__vitalsTitle___sirOu{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}.-esm-patient-vitals__vitals-biometrics-form-component__vitalsTitle___sirOu{margin:0 .5rem 1rem 0}.-esm-patient-vitals__vitals-biometrics-form-component__danger___ig9Aq{color:#da1e28}.-esm-patient-vitals__vitals-biometrics-form-component__button___IoLOh{height:4rem;display:flex;align-content:flex-start;align-items:baseline;min-width:50%}.-esm-patient-vitals__vitals-biometrics-form-component__tablet___M2Wql{padding:1.5rem 1rem;background-color:#fff}.-esm-patient-vitals__vitals-biometrics-form-component__desktop___r6kse{padding:0rem}.-esm-patient-vitals__vitals-biometrics-form-component__form___zSvNd{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - 6rem)}.-esm-patient-vitals__vitals-biometrics-form-component__grid___f6u7i{margin:0rem;padding:0rem}.-esm-patient-vitals__vitals-biometrics-form-component__row___VUXYT{margin:.5rem 0rem 0rem}.-esm-patient-vitals__vitals-biometrics-form-component__spacer___IuzjM{margin-top:3rem}",""]),a.locals={productiveHeading03:"-esm-patient-vitals__vitals-biometrics-form-component__productiveHeading03___kQ1JM",vitalsTitle:"-esm-patient-vitals__vitals-biometrics-form-component__vitalsTitle___sirOu",danger:"-esm-patient-vitals__vitals-biometrics-form-component__danger___ig9Aq",button:"-esm-patient-vitals__vitals-biometrics-form-component__button___IoLOh",tablet:"-esm-patient-vitals__vitals-biometrics-form-component__tablet___M2Wql",desktop:"-esm-patient-vitals__vitals-biometrics-form-component__desktop___r6kse",form:"-esm-patient-vitals__vitals-biometrics-form-component__form___zSvNd",grid:"-esm-patient-vitals__vitals-biometrics-form-component__grid___f6u7i",row:"-esm-patient-vitals__vitals-biometrics-form-component__row___VUXYT",spacer:"-esm-patient-vitals__vitals-biometrics-form-component__spacer___IuzjM",skeleton:"-esm-patient-vitals__vitals-biometrics-form-component__skeleton___WcYcf"};const l=a},5176:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(9601),r=n.n(i),o=n(2609),a=n.n(o)()(r());a.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{padding:0;border:0;margin:0;font:inherit;font-size:100%;vertical-align:baseline}button,select,input,textarea{border-radius:0;font-family:inherit}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:\"\"}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}code{font-family:'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-patient-vitals__vitals-biometrics-input-component__skeleton___oHMXy{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{opacity:.3;transform:scaleX(0);transform-origin:left}}.-esm-patient-vitals__vitals-biometrics-input-component__label01___vWNQ3,.-esm-patient-vitals__vitals-biometrics-input-component__vitalsBiometricInputLabel01___wSAoX{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.-esm-patient-vitals__vitals-biometrics-input-component__bodyLong01___OKghl,.-esm-patient-vitals__vitals-biometrics-input-component__textArea___Nwoc1{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.-esm-patient-vitals__vitals-biometrics-input-component__productiveHeading04___rqjcF,.-esm-patient-vitals__vitals-biometrics-input-component__textInputContainer___kTOgJ,.-esm-patient-vitals__vitals-biometrics-input-component__textInput___IEsWE{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}.-esm-patient-vitals__vitals-biometrics-input-component__inputContainer___pqk9z{width:11.625rem;border-bottom:.063rem solid #8d8d8d;margin-bottom:1rem}.-esm-patient-vitals__vitals-biometrics-input-component__vitalsBiometricInputLabel01___wSAoX{color:#525252;margin-bottom:.5rem}.-esm-patient-vitals__vitals-biometrics-input-component__textInput___IEsWE{border:none;text-align:center;padding:0;color:#161616}.-esm-patient-vitals__vitals-biometrics-input-component__textInputContainer___kTOgJ{height:4.875rem;display:flex;justify-content:center;flex-direction:column;text-align:center;padding:.5rem;color:#525252;background-color:#fff}.omrs-breakpoint-gt-tablet .-esm-patient-vitals__vitals-biometrics-input-component__textInputContainer___kTOgJ{background-color:#f4f4f4}.-esm-patient-vitals__vitals-biometrics-input-component__textArea___Nwoc1{border:none;text-align:left}.-esm-patient-vitals__vitals-biometrics-input-component__centerDiv___RlyxV{display:flex;flex-direction:row;align-items:center;text-align:center;margin:0;padding:0}.-esm-patient-vitals__vitals-biometrics-input-component__unitName___et3kG{margin-bottom:.5rem}.-esm-patient-vitals__vitals-biometrics-input-component__disableInput___Ye920{background-color:#f4f4f4}.-esm-patient-vitals__vitals-biometrics-input-component__danger___jRW6t{color:#da1e28}",""]),a.locals={label01:"-esm-patient-vitals__vitals-biometrics-input-component__label01___vWNQ3",vitalsBiometricInputLabel01:"-esm-patient-vitals__vitals-biometrics-input-component__vitalsBiometricInputLabel01___wSAoX",bodyLong01:"-esm-patient-vitals__vitals-biometrics-input-component__bodyLong01___OKghl",textArea:"-esm-patient-vitals__vitals-biometrics-input-component__textArea___Nwoc1",productiveHeading04:"-esm-patient-vitals__vitals-biometrics-input-component__productiveHeading04___rqjcF",textInputContainer:"-esm-patient-vitals__vitals-biometrics-input-component__textInputContainer___kTOgJ",textInput:"-esm-patient-vitals__vitals-biometrics-input-component__textInput___IEsWE",inputContainer:"-esm-patient-vitals__vitals-biometrics-input-component__inputContainer___pqk9z",centerDiv:"-esm-patient-vitals__vitals-biometrics-input-component__centerDiv___RlyxV",unitName:"-esm-patient-vitals__vitals-biometrics-input-component__unitName___et3kG",disableInput:"-esm-patient-vitals__vitals-biometrics-input-component__disableInput___Ye920",danger:"-esm-patient-vitals__vitals-biometrics-input-component__danger___jRW6t",skeleton:"-esm-patient-vitals__vitals-biometrics-input-component__skeleton___oHMXy"};const l=a},3437:(e,t,n)=>{n.r(t),n.d(t,{default:()=>H});var i=n(9902),r=n.n(i),o=n(4924),a=n(9857),l=n(3066),s=n(3771),c=n(7898),u=n(6140),m=n(707),p=n(7161),d=n(6549),_=n(7030),f=n(3461),v=n(168),g=n(7367),b=n(3172),h=n(2190),y=n(321),w=n.n(y),x=n(1195),O=n.n(x),I=n(3275),N=n.n(I),S=n(7162),E=n.n(S),k=n(2094),j=n.n(k),P=n(757),A=n.n(P),C=n(5176),U={};U.styleTagTransform=A(),U.setAttributes=E(),U.insert=N().bind(null,"head"),U.domAPI=O(),U.insertStyleElement=j(),w()(C.Z,U);const B=C.Z&&C.Z.locals?C.Z.locals:void 0;function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Z(e,t,n[t])}))}return e}const z=function(e){var t,n,a=e.title,s=e.onInputChange,c=e.textFields,u=e.unitSymbol,m=e.textFieldStyles,p=e.textFieldWidth,d=e.placeholder,_=e.disabled,f=e.inputIsNormal,v=(0,o.useTranslation)().t,y="tablet"===(0,l.useLayoutType)(),w=(t=(0,i.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),x=w[0],O=w[1];return r().createElement("div",{className:B.inputContainer,style:{width:p}},r().createElement("p",{className:B.vitalsBiometricInputLabel01},a),r().createElement("div",{className:"".concat(B.textInputContainer," ").concat(_&&B.disableInput," ").concat(!f&&B.danger),style:X({},m)},r().createElement("div",{className:B.centerDiv},c.map((function(e){return"number"===e.type?r().createElement(i.Fragment,{key:e.name},r().createElement(g.Z,{style:X({},m),className:"".concat(B.textInput," ").concat(_&&B.disableInput," ").concat(e.className," ").concat(!f&&B.danger),id:e.name,invalid:x,type:e.type,min:0,name:e.name,onChange:function(e){return t=e.target.value,void O(!(Number(t)||""===t));var t},onInput:s,labelText:"",value:e.value,title:e.name,light:y}),null==e?void 0:e.separator):r().createElement(b.Z,{key:e.name,style:X({},m),className:B.textArea,id:e.name,name:e.name,labelText:"",onChange:s,rows:2,placeholder:d,value:e.value,title:e.name,light:y})}))),r().createElement("p",{className:B.unitName},u)),x?r().createElement(h.Z,{className:B.danger},v("numericInputError","Must be a number")):null)};var M=n(8056),q={};q.styleTagTransform=A(),q.setAttributes=E(),q.insert=N().bind(null,"head"),q.domAPI=O(),q.insertStyleElement=j(),w()(M.Z,q);const D=M.Z&&M.Z.locals?M.Z.locals:void 0;function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){F(e,t,n[t])}))}return e}function L(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const H=function(e){var t,n,g,b,h,y,w,x,O,I=e.patientUuid,N=e.closeWorkspace,S=(0,o.useTranslation)().t,E="tablet"===(0,l.useLayoutType)(),k=(0,l.useSession)(),j=(0,l.useConfig)(),P=(0,a.kY)(),A=P.cache,C=P.mutate,U=(0,s.useVitalsConceptMetadata)(),B=U.data,T=U.conceptMetadata,Z=j.biometrics,X=W((0,i.useState)(),2),M=X[0],q=X[1],R=W((0,i.useState)(),2),F=R[0],H=R[1],Q=W((0,i.useState)(!1),2),Y=Q[0],J=Q[1];return(0,i.useEffect)((function(){if((null==M?void 0:M.height)&&(null==M?void 0:M.weight)){var e=(0,f.V)(Number(M.weight),Number(M.height));H(e)}}),[null==M?void 0:M.weight,null==M?void 0:M.height]),r().createElement(c.Z,{className:D.form},r().createElement(u.r,{className:D.grid},r().createElement(m.Z,{className:D.row},r().createElement(p.Z,null,r().createElement("p",{className:D.vitalsTitle},S("recordVitals","Record vitals")))),r().createElement(m.Z,{className:D.row},r().createElement(p.Z,null,r().createElement(z,{title:S("bloodPressure","Blood Pressure"),onInputChange:function(e){"systolic"===e.target.name?q(L(V({},M),{systolicBloodPressure:e.target.value})):q(L(V({},M),{diastolicBloodPressure:e.target.value}))},textFields:[{name:S("systolic","systolic"),separator:"/",type:"number",value:(null==M?void 0:M.systolicBloodPressure)||""},{name:S("diastolic","diastolic"),type:"number",value:(null==M?void 0:M.diastolicBloodPressure)||""}],unitSymbol:null!==(t=B.get(j.concepts.systolicBloodPressureUuid))&&void 0!==t?t:"",inputIsNormal:(0,f.X)(T,j.concepts.systolicBloodPressureUuid,null==M?void 0:M.systolicBloodPressure)&&(0,f.X)(T,j.concepts.diastolicBloodPressureUuid,null==M?void 0:M.diastolicBloodPressure)})),r().createElement(p.Z,null,r().createElement(z,{title:S("pulse","Pulse"),onInputChange:function(e){q(L(V({},M),{pulse:e.target.value}))},textFields:[{name:S("pulse","Pulse"),type:"number",value:(null==M?void 0:M.pulse)||""}],unitSymbol:null!==(n=B.get(j.concepts.pulseUuid))&&void 0!==n?n:"",inputIsNormal:(0,f.X)(T,j.concepts.pulseUuid,null==M?void 0:M.pulse)})),r().createElement(p.Z,null,r().createElement(z,{title:S("spo2","SpO2"),onInputChange:function(e){q(L(V({},M),{oxygenSaturation:e.target.value}))},textFields:[{name:S("oxygenSaturation","Oxygen Saturation"),type:"number",value:(null==M?void 0:M.oxygenSaturation)||""}],unitSymbol:null!==(g=B.get(j.concepts.oxygenSaturationUuid))&&void 0!==g?g:"",inputIsNormal:(0,f.X)(T,j.concepts.oxygenSaturationUuid,null==M?void 0:M.oxygenSaturation)})),r().createElement(p.Z,null,r().createElement(z,{title:S("respirationRate","Respiration Rate"),onInputChange:function(e){q(L(V({},M),{respiratoryRate:e.target.value}))},textFields:[{name:S("respirationRate","Respiration Rate"),type:"number",value:(null==M?void 0:M.respiratoryRate)||""}],unitSymbol:null!==(b=B.get(j.concepts.respiratoryRateUuid))&&void 0!==b?b:"",inputIsNormal:(0,f.X)(T,j.concepts.respiratoryRateUuid,null==M?void 0:M.respiratoryRate)}))),r().createElement(m.Z,{className:D.row},r().createElement(p.Z,null,r().createElement(z,{title:S("temp","Temp"),onInputChange:function(e){q(L(V({},M),{temperature:e.target.value}))},textFields:[{name:S("temperature","Temperature"),type:"number",value:(null==M?void 0:M.temperature)||""}],unitSymbol:null!==(h=B.get(j.concepts.temperatureUuid))&&void 0!==h?h:"",inputIsNormal:(0,f.X)(T,j.concepts.temperatureUuid,null==M?void 0:M.temperature)}))),r().createElement(m.Z,{className:D.row},r().createElement(p.Z,null,r().createElement(z,{title:S("notes","Notes"),onInputChange:function(e){q(L(V({},M),{generalPatientNote:e.target.value}))},textFields:[{name:S("notes","Notes"),type:"textArea",value:null==M?void 0:M.generalPatientNote}],textFieldWidth:"26.375rem",placeholder:S("additionalNoteText","Type any additional notes here"),inputIsNormal:!0}))),r().createElement(m.Z,{className:"".concat(D.row," ").concat(D.spacer)},r().createElement(p.Z,null,r().createElement("p",{className:D.vitalsTitle},S("recordBiometrics","Record biometrics")))),r().createElement(m.Z,{className:D.row},r().createElement(p.Z,null,r().createElement(z,{title:S("weight","Weight"),onInputChange:function(e){q(L(V({},M),{weight:e.target.value}))},textFields:[{name:S("weight","Weight"),type:"number",value:(null==M?void 0:M.weight)||""}],unitSymbol:null!==(y=B.get(j.concepts.weightUuid))&&void 0!==y?y:"",inputIsNormal:!0})),r().createElement(p.Z,null,r().createElement(z,{title:S("height","Height"),onInputChange:function(e){q(L(V({},M),{height:e.target.value}))},textFields:[{name:S("height","Height"),type:"number",value:(null==M?void 0:M.height)||""}],unitSymbol:null!==(w=B.get(j.concepts.heightUuid))&&void 0!==w?w:"",inputIsNormal:!0})),r().createElement(p.Z,null,r().createElement(z,{title:S("bmiCalc","BMI (calc.)"),onInputChange:function(){},textFields:[{name:S("bmi","BMI"),type:"number",value:F||""}],unitSymbol:Z.bmiUnit,disabled:!0,inputIsNormal:(O=F,void 0===O||""===O||O>=18.5&&O<=24.9)})),r().createElement(p.Z,null,r().createElement(z,{title:S("muac","MUAC"),onInputChange:function(e){q(L(V({},M),{midUpperArmCircumference:e.target.value}))},textFields:[{name:S("muac","MUAC"),type:"number",value:(null==M?void 0:M.midUpperArmCircumference)||""}],unitSymbol:null!==(x=B.get(j.concepts.midUpperArmCircumferenceUuid))&&void 0!==x?x:"",inputIsNormal:(0,f.X)(T,j.concepts.midUpperArmCircumferenceUuid,null==M?void 0:M.midUpperArmCircumference)})))),r().createElement(d.Z,{className:E?D.tablet:D.desktop},r().createElement(_.Z,{className:D.button,kind:"secondary",onClick:function(){return N()}},S("discard","Discard")),r().createElement(_.Z,{className:D.button,kind:"primary",onClick:function(e){var t;e.preventDefault(),J(!0);var n=new AbortController;(0,v.tX)(j.vitals.encounterTypeUuid,j.vitals.formUuid,j.concepts,I,M,new Date,n,null==k||null===(t=k.sessionLocation)||void 0===t?void 0:t.uuid).then((function(e){if(201===e.status){N(),(0,l.showToast)({critical:!0,kind:"success",title:S("vitalsAndBiometricsRecorded","Vitals and Biometrics saved"),description:S("vitalsAndBiometricsNowAvailable","They are now visible on the Vitals and Biometrics page")});var t=new RegExp(l.fhirBaseUrl+"\\/Observation\\?subject\\:Patient\\="+I+"\\&code\\=");Array.from(A.keys()).filter((function(e){return t.test(e)})).forEach((function(e){return C(e)}))}})).catch((function(e){(0,l.createErrorHandler)(),(0,l.showNotification)({title:S("vitalsAndBiometricsSaveError","Error saving vitals and biometrics"),kind:"error",critical:!0,description:null==e?void 0:e.message})})).finally((function(){n.abort()}))},disabled:Y,type:"submit"},S("saveAndClose","Save and close"))))}},3461:(e,t,n)=>{n.d(t,{V:()=>l,X:()=>s});var i=n(264),r=n.n(i),o=n(537),a=n.n(o);function l(e,t){if(e&&t)return e>0&&t>0?Number((e/Math.pow(t/100,2)).toFixed(1)):void 0}function s(e,t,n){if(void 0===n||""===n)return!0;var i=e.find((function(e){return e.uuid===t}));return!a()(null==i?void 0:i.lowNormal)||!a()(null==i?void 0:i.hiNormal)||r()(Number(n),Number(i.lowNormal),Number(i.hiNormal))}},168:(e,t,n)=>{n.d(t,{In:()=>v,WK:()=>b,tQ:()=>g,tX:()=>d,wA:()=>f,yL:()=>p});var i=n(9857),r=n(3066),o=n(3771),a=n(3461);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){s(e,t,n[t])}))}return e}function u(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){var t,n,l,p=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=(0,r.useConfig)().concepts,_=(0,o.useVitalsConceptMetadata)().conceptMetadata,v=[d.heightUuid,d.midUpperArmCircumferenceUuid,d.weightUuid],h=p?Object.values(d).join(","):Object.values(d).filter((function(e){return!v.includes(e)})).join(","),y="".concat(r.fhirBaseUrl,"/Observation?subject:Patient=").concat(e,"&code=")+h+"&_summary=data&_sort=-date"+"&_count=".concat(100,"\n        "),w=(0,i.ZP)(y,r.openmrsFetch),x=w.data,O=w.error,I=w.isValidating,N=function(e){switch(e){case d.systolicBloodPressureUuid:return"systolic";case d.diastolicBloodPressureUuid:return"diastolic";case d.pulseUuid:return"pulse";case d.temperatureUuid:return"temperature";case d.oxygenSaturationUuid:return"spo2";case d.respiratoryRateUuid:return"respiratoryRate";case d.heightUuid:return"height";case d.weightUuid:return"weight";case d.midUpperArmCircumferenceUuid:return"muac"}},S=function(e){var t,n,i,r,o,a,l,s;return{code:null==e||null===(t=e.code)||void 0===t||null===(n=t.coding)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.code,interpretation:f(null==e||null===(r=e.valueQuantity)||void 0===r?void 0:r.value,g(null==e||null===(o=e.code)||void 0===o||null===(a=o.coding)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.code,_)),issued:null==e?void 0:e.issued,value:null==e||null===(s=e.valueQuantity)||void 0===s?void 0:s.value}},E=new Map,k=null==x||null===(t=x.data)||void 0===t||null===(n=t.entry)||void 0===n?void 0:n.map((function(e){return null!==(l=e.resource)&&void 0!==l?l:[]})).map(S);null==k||k.map((function(e){var t,n,i=new Date(new Date(e.issued).setSeconds(0,0)).toISOString();E.has(i)&&E.get(i)?E.set(i,u(c({},E.get(i)),(s(t={},N(e.code),e.value),s(t,N(e.code)+"Interpretation",e.interpretation),t))):e.value&&E.set(i,(s(n={},N(e.code),e.value),s(n,N(e.code)+"Interpretation",e.interpretation),n))}));var j=Array.from(E).map((function(e,t){var n=m(e,2),i=n[0],r=n[1];return u(c({},r),{id:t.toString(),bmi:(0,a.V)(Number(r.weight),Number(r.height)),date:i,bloodPressureInterpretation:b(r.diastolic,r.systolic,d,_)})}));return{vitals:j,isError:O,isLoading:!x&&!O,isValidating:I}}function d(e,t,n,i,o,a,l,s){return(0,r.openmrsFetch)("/ws/rest/v1/encounter",{method:"POST",headers:{"Content-Type":"application/json"},signal:l.signal,body:{patient:i,encounterDatetime:a,location:s,encounterType:e,form:t,obs:_(o,n)}})}function _(e,t){return Object.entries(e).filter((function(e){var t=m(e,2);return t[0],null!=t[1]})).map((function(e){var n=m(e,2),i=n[0],r=n[1];return{concept:t[i+"Uuid"],value:r}}))}function f(e,t){return(null==t?void 0:t.hiCritical)&&e>=t.hiCritical?"critically_high":(null==t?void 0:t.hiNormal)&&e>t.hiNormal?"high":(null==t?void 0:t.lowCritical)&&e<=t.lowCritical?"critically_low":(null==t?void 0:t.lowNormal)&&e<t.lowNormal?"low":"normal"}function v(e,t,n){return Object.entries(e).map((function(e,i){return f(i,g(t.concepts["".concat(e[0],"Uuid")],n))}))}function g(e,t){return e&&(null==t?void 0:t.length)?null==t?void 0:t.find((function(t){return t.uuid===e})):null}function b(e,t,n,i){var r=f(e,g(null==n?void 0:n.systolicBloodPressureUuid,i)),o=f(t,g(null==n?void 0:n.diastolicBloodPressureUuid,i));return"critically_high"===r||"critically_high"===o?"critically_high":"critically_low"===r||"critically_low"===o?"critically_low":"high"===r||"high"===o?"high":"low"===r||"low"===o?"low":"normal"}}}]);