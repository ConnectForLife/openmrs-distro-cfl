"use strict";(self.webpackChunk_openmrs_esm_patient_test_results_app=self.webpackChunk_openmrs_esm_patient_test_results_app||[]).push([[426],{5958:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(9601),a=r.n(n),l=r(2609),s=r.n(l)()(a());s.push([e.id,".-esm-patient-test-results__external-overview__recent-results-grid___wnvlD{display:grid;background-color:#fff}",""]),s.locals={"recent-results-grid":"-esm-patient-test-results__external-overview__recent-results-grid___wnvlD"};const i=s},2426:(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});var n=r(268),a=r.n(n),l=r(4924),s=r(5241),i=r(6759),o=r(906),u=r(6217),c=r(2579),d=r(9894),m=r(2779),f=r(6062),v=r.n(f),p=r(4036),g=r.n(p),h=r(6793),y=r.n(h),_=r(7892),b=r.n(_),w=r(1173),E=r.n(w),k=r(2464),S=r.n(k),T=r(5958),A={};A.styleTagTransform=S(),A.setAttributes=b(),A.insert=y().bind(null,"head"),A.domAPI=g(),A.insertStyleElement=E(),v()(T.Z,A);const D=T.Z&&T.Z.locals?T.Z.locals:void 0;function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C.apply(this,arguments)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){return Object.entries(e).flatMap((function(e){var t=O(e,2),r=t[0],n=t[1],a=n.entries,l=n.type,s=n.uuid;return a.map((function(e){return[e,s,l,r]}))})).filter(t).map((function(e){var t=O(e,4),r=t[0],n=t[1],a=t[2],l=t[3];return[l,a,(0,c.q)(r,a,l),new Date(r.effectiveDateTime),new Date(r.issued),n]})).sort((function(e,t){var r=O(e,4)[3];return O(t,4)[3].getTime()-r.getTime()}))}const j=function(e){var t=e.patientUuid,r=e.filter,c=(0,l.useTranslation)().t,f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},r=(0,d.Z)(e),a=r.sortedObs,l=r.loaded,s=r.error;return{overviewData:(0,n.useMemo)((function(){return Z(a,t)}),[t,a]),loaded:l,error:s}}(t,r),v=f.overviewData,p=f.loaded,g=(f.error,c("recentResults","Recent Results")),h=(0,n.useCallback)((function(){(0,o.navigate)({to:"${openmrsSpaBase}/patient/".concat(t,"/chart/test-results")})}),[t]);return a().createElement(R,null,p?a().createElement(a().Fragment,null,v.length?a().createElement("div",{className:D.widgetCard},a().createElement("div",{className:D.externalOverviewHeader},a().createElement("h4",{className:"".concat(D.productiveHeading03," ").concat(D.text02)},g),a().createElement(s.zxk,{kind:"ghost",renderIcon:function(e){return a().createElement(i.ol,C({size:16},e))},iconDescription:"See all results",onClick:h},c("seeAllResults","See all results"))),a().createElement(m.Z,C({},{patientUuid:t,overviewData:v.slice(0,3),insertSeparator:!0,deactivateToolbar:!0,isPatientSummaryDashboard:!1,hideToolbar:!0})),v.length>3&&a().createElement(s.zxk,{onClick:h,kind:"ghost"},c("moreResultsAvailable","More results available"))):a().createElement(u.EmptyState,{headerTitle:g,displayText:c("recentTestResults","recent test results")})):a().createElement(s.gqd,{columnCount:3}))};var R=function(e){return a().createElement("div",C({},e,{className:D["recent-results-grid"]}))}}}]);