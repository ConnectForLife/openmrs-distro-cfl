"use strict";(self.webpackChunk_openmrs_esm_patient_test_results_app=self.webpackChunk_openmrs_esm_patient_test_results_app||[]).push([[719],{5404:(t,e,a)=>{a.d(e,{Z:()=>s});var n=a(9601),r=a.n(n),o=a(2609),l=a.n(o)()(r());l.push([t.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-test-results__common-datatable__tableContainer___zdJ2d .cds--data-table-header{padding:.75rem 1rem .25rem 1rem}.-esm-patient-test-results__common-datatable__tableContainer___zdJ2d .cds--data-table-header *:not(:first-child){margin:.25rem 0rem}.-esm-patient-test-results__common-datatable__tableContainer___zdJ2d .cds--data-table-header h4{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);max-width:50%}.-esm-patient-test-results__common-datatable__tableContainer___zdJ2d.-esm-patient-test-results__common-datatable__desktop___UXCyb h4{color:#525252}tr.-esm-patient-test-results__common-datatable__critically-low___HRWBV td:nth-child(2),tr.-esm-patient-test-results__common-datatable__critically-high___uhvv_ td:nth-child(2),tr.-esm-patient-test-results__common-datatable__low___WIp2s td:nth-child(2),tr.-esm-patient-test-results__common-datatable__high___QdXQz td:nth-child(2){font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#161616}tr.-esm-patient-test-results__common-datatable__critically-low___HRWBV,tr.-esm-patient-test-results__common-datatable__critically-high___uhvv_,tr.-esm-patient-test-results__common-datatable__off-scale-high___gcHL1,tr.-esm-patient-test-results__common-datatable__off-scale-low___WOLkW{outline:2px solid #da1e28;outline-offset:-1px}tr.-esm-patient-test-results__common-datatable__low___WIp2s,tr.-esm-patient-test-results__common-datatable__high___QdXQz{outline:1px solid #000;outline-offset:-1px}tr.-esm-patient-test-results__common-datatable__critically-low___HRWBV td:nth-child(2)::after{content:" ↓↓"}tr.-esm-patient-test-results__common-datatable__critically-high___uhvv_ td:nth-child(2)::after{content:" ↑↑"}tr.-esm-patient-test-results__common-datatable__low___WIp2s td:nth-child(2)::after{content:" ↓"}tr.-esm-patient-test-results__common-datatable__high___QdXQz td:nth-child(2)::after{content:" ↑"}tr.-esm-patient-test-results__common-datatable__off-scale-low___WOLkW td:nth-child(2)::after{content:" ↓↓↓"}tr.-esm-patient-test-results__common-datatable__off-scale-high___gcHL1 td:nth-child(2)::after{content:" ↑↑↑"}.-esm-patient-test-results__common-datatable__offScaleHigh___h54Gr,.-esm-patient-test-results__common-datatable__offScaleLow___g_KXU,.-esm-patient-test-results__common-datatable__criticallyHigh___Aen13,.-esm-patient-test-results__common-datatable__criticallyLow___kLQos,.-esm-patient-test-results__common-datatable__high___QdXQz,.-esm-patient-test-results__common-datatable__low___WIp2s{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-patient-test-results__common-datatable__high___QdXQz,.-esm-patient-test-results__common-datatable__low___WIp2s{box-shadow:0 0 0 1px #000}.-esm-patient-test-results__common-datatable__criticallyHigh___Aen13,.-esm-patient-test-results__common-datatable__criticallyLow___kLQos{box-shadow:0 0 0 1px #da1e28,inset 0 0 0 1px #da1e28}.-esm-patient-test-results__common-datatable__offScaleLow___g_KXU::after{content:" ↓↓↓"}.-esm-patient-test-results__common-datatable__offScaleHigh___h54Gr::after{content:" ↑↑↑"}.-esm-patient-test-results__common-datatable__criticallyLow___kLQos::after{content:" ↓↓"}.-esm-patient-test-results__common-datatable__criticallyHigh___Aen13::after{content:" ↑↑"}.-esm-patient-test-results__common-datatable__low___WIp2s::after{content:" ↓"}.-esm-patient-test-results__common-datatable__high___QdXQz::after{content:" ↑"}',""]),l.locals={tableContainer:"-esm-patient-test-results__common-datatable__tableContainer___zdJ2d",desktop:"-esm-patient-test-results__common-datatable__desktop___UXCyb","critically-low":"-esm-patient-test-results__common-datatable__critically-low___HRWBV","critically-high":"-esm-patient-test-results__common-datatable__critically-high___uhvv_",low:"-esm-patient-test-results__common-datatable__low___WIp2s",high:"-esm-patient-test-results__common-datatable__high___QdXQz","off-scale-high":"-esm-patient-test-results__common-datatable__off-scale-high___gcHL1","off-scale-low":"-esm-patient-test-results__common-datatable__off-scale-low___WOLkW",offScaleHigh:"-esm-patient-test-results__common-datatable__offScaleHigh___h54Gr",offScaleLow:"-esm-patient-test-results__common-datatable__offScaleLow___g_KXU",criticallyHigh:"-esm-patient-test-results__common-datatable__criticallyHigh___Aen13",criticallyLow:"-esm-patient-test-results__common-datatable__criticallyLow___kLQos"};const s=l},1827:(t,e,a)=>{a.d(e,{E6:()=>H,HZ:()=>y,Kk:()=>w,OA:()=>S,cF:()=>b,rS:()=>C,s4:()=>h,wA:()=>A});var n=a(5047),r=a.n(n);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function l(t,e,a,n,r,o,l){try{var s=t[o](l),i=s.value}catch(t){return void a(t)}s.done?e(i):Promise.resolve(i).then(n,r)}function s(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var o=t.apply(e,a);function s(t){l(o,n,r,s,i,"next",t)}function i(t){l(o,n,r,s,i,"throw",t)}s(void 0)}))}}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var n,r,o=[],l=!0,s=!1;try{for(a=a.call(t);!(l=(n=a.next()).done)&&(o.push(n.value),!e||o.length!==e);l=!0);}catch(t){s=!0,r=t}finally{try{l||null==a.return||a.return()}finally{if(s)throw r}}return o}}(t,e)||_(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){if(t){if("string"==typeof t)return o(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(t,e):void 0}}var m=r().mark(v),u=function(t,e){var a=t[Symbol.iterator]();return Array.from({length:e},(function(){return a.next().value}))},d={};function h(t,e,a){d[t]=[e,Date.now(),a];var n=Object.entries(d);n.length>5&&(n.sort((function(t,e){var a=i(t,2),n=i(a[1],2)[1],r=i(e,2);return i(r[1],2)[1]-n})),d=Object.fromEntries(n.slice(0,5)))}function p(t){return f.apply(this,arguments)}function f(){return(f=s(r().mark((function t(e){var a,n,o,l,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=v({patient:e,category:"laboratory",_sort:"-_date",_summary:"data",_format:"json",_count:"1"}),t.next=4,l.next().value;case 4:return s=t.sent,t.abrupt("return",null==s||null===(a=s.entry)||void 0===a||null===(n=a[0])||void 0===n||null===(o=n.resource)||void 0===o?void 0:o.id);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){var e=i(d[t]||[],1)[0];return[e,e?p(t).then((function(e){var a;return e!==(null==d||null===(a=d[t])||void 0===a?void 0:a[2])})):Promise.resolve(!0)]}function v(t){var e,a,n,o;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e="".concat(window.openmrsBase,"/ws/fhir2/R4/Observation"),a=e+"?"+Object.entries(t).map((function(t){var e=i(t,2);return e[0]+"="+e[1]})).join("&"),n=function(t){return a+"&_getpagesoffset="+300*t},o=0;case 4:return r.next=7,fetch(n(o++)).then((function(t){return t.json()}));case 7:r.next=4;break;case 9:case"end":return r.stop()}}),m)}var g,y=(g=s(r().mark((function t(e){var a,n,o,l;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=v({patient:e,category:"laboratory",_sort:"-_date",_summary:"data",_format:"json",_count:"300"}),t.next=3,Promise.all(u(a,1));case 3:if(n=t.sent,!((o=n[0].total)>300)){t.next=14;break}return l=Math.ceil(o/300)-1,t.t0=c(n),t.t1=c,t.next=11,Promise.all(u(a,l));case 11:t.t2=t.sent,t.t3=(0,t.t1)(t.t2),n=t.t0.concat.call(t.t0,t.t3);case 14:return t.abrupt("return",n.slice(0,Math.ceil(o/300)).flatMap((function(t){return t.entry.map((function(t){return t.resource}))})));case 15:case"end":return t.stop()}}),t)}))),function(t){return g.apply(this,arguments)}),w=function(t){return t.code.coding[0].code},L={};function H(t){return Promise.all(c(new Set(t.map(w))).map((function(t){return L[t]||(L[t]=fetch("".concat(window.openmrsBase,"/ws/rest/v1/concept/").concat(t,"?v=full")).then((function(t){return t.json()})))})))}function C(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var n=!0,r=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var i=l.value;if(null==i)return!1}}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return!0}var A=function(t){return function(e){return C(t.hiAbsolute)&&e>t.hiAbsolute?"OFF_SCALE_HIGH":C(t.hiCritical)&&e>t.hiCritical?"CRITICALLY_HIGH":C(t.hiNormal)&&e>t.hiNormal?"HIGH":C(t.lowAbsolute)&&e<t.lowAbsolute?"OFF_SCALE_LOW":C(t.lowCritical)&&e<t.lowCritical?"CRITICALLY_LOW":C(t.lowNormal)&&e<t.lowNormal?"LOW":"NORMAL"}};function S(t){return Object.fromEntries(t.map((function(t){var e=t.uuid,a=t.hiAbsolute,n=t.hiCritical,r=t.hiNormal,o=t.lowAbsolute,l=t.lowCritical,s=t.lowNormal,i={hiAbsolute:a,hiCritical:n,hiNormal:r,lowAbsolute:o,lowCritical:l,lowNormal:s,units:t.units,datatype:t.datatype.display};return C(r,s)&&(i.range="".concat(s," – ").concat(r)),i.assessValue=A(i),[e,i]})))}},5317:(t,e,a)=>{a.d(e,{Z:()=>H});var n=a(268),r=a(5241),o=a(906),l=a(6062),s=a.n(l),i=a(4036),c=a.n(i),_=a(6793),m=a.n(_),u=a(7892),d=a.n(u),h=a(1173),p=a.n(h),f=a(2464),b=a.n(f),v=a(5404),g={};g.styleTagTransform=b(),g.setAttributes=d(),g.insert=m().bind(null,"head"),g.domAPI=c(),g.insertStyleElement=p(),s()(v.Z,g);const y=v.Z&&v.Z.locals?v.Z.locals:void 0;function w(){return w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},w.apply(this,arguments)}var L=function(t){var e=t.interpretation,a=function(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},o=Object.keys(t);for(n=0;n<o.length;n++)a=o[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)a=o[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}(t,["interpretation"]);switch(e){case"OFF_SCALE_HIGH":return n.createElement(r.SCH,w({},a,{className:y["off-scale-high"]}));case"CRITICALLY_HIGH":return n.createElement(r.SCH,w({},a,{className:y["critically-high"]}));case"HIGH":return n.createElement(r.SCH,w({},a,{className:y.high}));case"OFF_SCALE_LOW":return n.createElement(r.SCH,w({},a,{className:y["off-scale-low"]}));case"CRITICALLY_LOW":return n.createElement(r.SCH,w({},a,{className:y["critically-low"]}));case"LOW":return n.createElement(r.SCH,w({},a,{className:y.low}));default:return n.createElement(r.SCH,w({},a))}};const H=function(t){var e=t.title,a=t.data,l=t.description,s=t.toolbar,i=t.tableHeaders,c={OFF_SCALE_HIGH:"offScaleHigh",CRITICALLY_HIGH:"criticallyHigh",HIGH:"high",OFF_SCALE_LOW:"offScaleLow",CRITICALLY_LOW:"criticallyLow",LOW:"low",NORMAL:""},_="tablet"===(0,o.useLayoutType)();return n.createElement(r.wQF,{rows:a,headers:i,size:"sm",useZebraStyles:!0},(function(t){var o=t.rows,i=t.headers,m=t.getHeaderProps,u=t.getRowProps,d=t.getTableProps,h=t.getTableContainerProps;return n.createElement(r.xJi,w({className:"".concat(y.tableContainer," ").concat("".concat(_?y.tablet:y.desktop)),title:e,description:l},h()),s,n.createElement(r.iA_,w({},d(),{isSortable:!0}),n.createElement("colgroup",{className:y.columns},n.createElement("col",{span:1}),n.createElement("col",{span:1}),n.createElement("col",{span:1})),n.createElement(r.ssF,null,n.createElement(r.SCH,null,i.map((function(t){return n.createElement(r.xDH,w({key:t.key},m({header:t}),{isSortable:!0}),t.header)})))),n.createElement(r.RMI,null,o.map((function(t,e){var o;return n.createElement(L,w({key:t.id,interpretation:null===(o=a[e])||void 0===o?void 0:o.interpretation},u({row:t})),t.cells.map((function(t){var e,a,o;return n.createElement(r.pj1,{className:(null===(e=t.value)||void 0===e?void 0:e.interpretation)?y[c[t.value.interpretation]]:"",key:t.id},null!==(o=null===(a=t.value)||void 0===a?void 0:a.value)&&void 0!==o?o:t.value)})))})))))}))}}}]);